window.__loadJs&&window.__loadJs('/edu_modules/ckeditor.init/mod.main.ckeditor.14f03cb8.js',1);
/*!edu_modules/ckeditor.init/src/default-config*/
;define("edu_modules/ckeditor.init/src/default-config",function(e,o){o.editorConfig=function(e){e.customConfig="",e.toolbarGroups=[{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"styles",groups:["styles"]},{name:"colors",groups:["colors"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"tools",groups:["tools"]},{name:"document",groups:["mode","document","doctools"]},"/",{name:"others",groups:["others"]},{name:"help"}],e.removeButtons="Superscript,Subscript,Cut,Copy,Paste,PasteText,PasteFromWord,Styles,Format,Blockquote,CreateDiv,Outdent,Indent,BidiLtr,BidiRtl,Language,Find,Replace,SelectAll,Scayt,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,ShowBlocks,Save,NewPage,Preview,Print,Templates,Maximize",e.removePlugins="elementspath",e.fontSize_defaultLabel="14px",e.allowedContent=!0,e.resize_enabled=!1,e.autoUpdateElement=!0,e.flashAddEmbedTag=!0,e.baseFloatZIndex=1e4,e.format_tags="p;h1;h2;h3;pre",e.removeDialogTabs="image:advanced;link:advanced",e.enterMode=CKEDITOR.ENTER_BR,e.shiftEnterMode=CKEDITOR.ENTER_BR,e.skin="flat",e.uiColor="#ffffff",e.keystrokes=[[CKEDITOR.ALT+121,"toolbarFocus"],[CKEDITOR.ALT+122,"elementsPathFocus"],[CKEDITOR.SHIFT+121,"contextMenu"],[CKEDITOR.CTRL+90,"undo"],[CKEDITOR.CTRL+89,"redo"],[CKEDITOR.CTRL+CKEDITOR.SHIFT+90,"redo"],[CKEDITOR.CTRL+76,"link"],[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"],[CKEDITOR.ALT+109,"toolbarCollapse"]]},o.defaultOpts={content:"",height:"600",uiColor:"#ffffff",skin:"moonocolor",addButtons:[],removeButtons:[],resetButtons:[],useKeystrokes:!0,resizeEnabled:!1,extraPlugins:[]}});
/*!edu_modules/ckeditor.init/src/util*/
;define("edu_modules/ckeditor.init/src/util",function(e,t,r){var i=(navigator.userAgent.match(/\bMSIE\s+(\d+)\b/)||[0,10])[1]<8,n=/\bMSIE\b/i.test(navigator.userAgent),a=function(e){return e&&e.document&&e.document.$&&e.document.$.body},c=function(e){return e&&e.getData?$.trim(e.getData().replace(/\n/g,"")):$("#"+e.name).val().replace(/\n/g,"<br/>")},o=function(e,t){e&&e.insertHtml(t)},s=function(e){var t=e[0];if(t&&"file"===t.kind&&t.type.match(/^image\//i)){var r=t.getAsFile(),i=new FileReader;i.onload=function(){var e=this.result.toString().replace(/^[^,]+/,"");DB.upload_pic_base64({param:{type:2,filename:e},succ:function(e){_uploadPicSucc(e||{})},err:function(e){_uploadPicErr(e||{})}})},i.readAsDataURL(r)}},l=function(){var e=new ActiveXObject("TXGYMailActiveX.ScreenCapture");return e?e.SaveClipBoardBmpToFile(1):!1},u=function(){uploader(l())},d=function(){setTimeout(function(e){var t=a(e);if(t){var r=$(t);r.off(n?"keydown":"paste"),r.on(n?"keydown":"paste",function(e){if(e)if(n)e.ctrlKey&&86===e.keyCode&&u();else{var t=(e.originalEvent||e).clipboardData||{};s(t.items||[])}})}else d(e)},1e3)},f=function(e){return e.replace(/[\n\r]+/g,"").replace(/^.+<\s*body[^>]*>/i,"").replace(/<\s*\/\s*body\s*>.*$/i,"").replace(/(<a\s+[^>]*)name\s*=\s*['"]?\w+['"]?([^>]*>)/gi,"$1$2").replace(/<\s*(\w+)\s*>/gi,"<$1>")},p=function(e,t,r){if(i){var n=$(e.selector);n.val(m(t))}else e.insertHtml(t),r&&d(e)},m=function(e){return e.toString().replace(/<\s*br\s*\/?\s*>/g,"\n")},g=function(e,t){$("#cke_"+e).css("borderColor","#e80808"),t&&t.setError($("#"+e))},v=function(e,t){t&&t.clearValidateResult($("#"+e))},b=function(e,t){$("#cke_"+e).css("borderColor","#dedede"),t&&t.setSuccess($("#"+e))},_=function(e,t){$("#cke_"+e).css("borderColor","#dedede"),t&&t.setTips($("#"+e))},h=function(e,t){e.validator=t,t.extend("details",function(){var r=e.name,i=c(e);if(0===$.trim(i.replace(/&nbsp;/gi,"").replace(/<\s*br\s*\/?\s*>/gi,"")).length)return t.msg="课程详细信息不能为空",g(r,t),!1;var n=i.match(/https?:\/\/(?:(?:[-\w\.])+\.)?(?:[-\w]+)\.[a-z]{2,4}\b/gi);if(n)for(;n.length;){var a=n.shift();if(!/https?:\/\/(?:(?:[-\w\.])+\.)?(qq\.com|qpic\.cn|url\.cn|myqcloud\.com)\b/i.test(a))return t.msg="腾讯课堂暂不支持外链跳转，请修改后再试",g(r,t),!1}var o=$("<div>"+i+"</div>").find("video");return o.length>e.videoLimit?(t.msg="最多只能添加"+videoLimit+"个视频",g(r,t),!1):(b(r,t),!0)})};r.exports={_getDetails:c,_insertHTML:o,_setDetails:p,_clearHTML:f,_setError:g,_clearError:v,_setSuccess:b,_setTips:_,_initValidator:h}});
/*!edu_modules/validator/validator*/
;define("edu_modules/validator/validator",function(t,e,r){function n(){var t=this.validator={version:"0.0.1",succCls:"g-succ",infoCls:"g-info",errCls:"g-err",notAsciiWidth:2,parentSelector:".mod-form__line",resultSelector:".field-help",fieldSelector:".f-field",validate_timeout:300,msg:"",reg:{email:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,mobile:/^1\d{10}$/,uin:/^[1-9](\d{4,10}|\d{17})$/,ascii:/^[\x00-\x7F]+$/,asciiSingle:/[\x00-\xFF]/,notAscii:/[^\x00-\x7F]/,fullWidth:/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,halfWidth:/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,uppercase:/[A-Z]/,lowercase:/[a-z]/,integer:/^\d+$/,date:/^(?:20|19)\d\d([-\/\\\.])(?:0?[1-9]|1[0-2])\1(?:[012]?\d|3[01])$/,time:/^(?:[01]?\d|2[0-3])[:：][0-5]?\d$/,url:/^https?:\/\//,ltrim:/^\s+/,rtrim:/\s+$/,matches:function(t,e,r){return("[object RegExp]"!==Object.prototype.toString.call(e)?new RegExp(e,r):e).test(t)},extend:function(t,e){this[t]=e}},toNumber:function(t){return t.replace(/\D/g,"")},toInt:function(t,e,r){return parseInt(t,e||10)||r||0},toDate:function(e,r){return/^\d{13}$/.test(e)?new Date(parseInt(e,10)):("string"==typeof e&&(e=e.replace(/-/g,"/")),t.date(e)?new Date(e):r||new Date)},toDateWithOutHMS:function(e,r){return e=t.toDate(e,r),e.setHours(0,0,0,0),e},getTime:function(e,r){return e=t.toDate(e),e?e.getTime():r||+new Date},pass:function(){return!0},integer:function(e){return t.reg.integer.test(e.toString())},not_null:function(t){return 0!==t.length},date_ipt:function(e){return t.reg.date.test(e.toString())},time:function(e){return t.reg.time.test(e.toString())},url:function(e){return t.reg.url.test(e.toString())},limit_number:function(e,r){var n=parseInt(e,10),a=parseInt(r.data("min"),10),s=parseInt(r.data("max"),10);return a>n||n>s?(t.msg=["请输入",a,"-",s].join(""),!1):!0},str_length:function(e,r,n){e=(e||"").toString(),!n&&(e=a.trim(e));var s=0;r=r||t.notAsciiWidth;for(var i=0,o=e.length;o>i;i++)s+=e.charCodeAt(i)<128?1:r;return Math.ceil(s/r)},limit:function(e,r){e=(e||"").toString(),r.data("trim")&&(e=a.trim(e));for(var n=0,s=t.notAsciiWidth,i=0,o=e.length;o>i;i++)n+=e.charCodeAt(i)<128?1:s;var l=parseInt(r.data("min"),10),u=parseInt(r.data("max"),10);return l&&s*l>n?(t.msg=(u?["请填写",l,"-",u,"个字"]:["请至少填写",l,"个字"]).join(""),!1):u&&n>s*u?(t.msg="字数超出"+Math.ceil((n-s*u)/s)+"个",!1):!0},limitByLength:function(e,r){var n=(e||"").length,a=parseInt(r.data("min"),10),s=parseInt(r.data("max"),10);return a&&a>n?(t.msg=(s?["请填写",a,"-",s,"个字"]:["请至少填写",a,"个字"]).join(""),!1):s&&n>s?(t.msg="字数超出"+(n-s)+"个",!1):!0},mobile:function(e){return t.reg.mobile.test(e)},uin:function(e){return t.reg.uin.test(e)},email:function(e){return t.reg.email.test(e)},date:function(t){return"string"==typeof t&&(t=t.replace(/-/g,"/")),"string"!=typeof t||/\d{4}\/\d{1,2}\/\d{1,2}/.test(t)?!isNaN(Date.parse(t)):!1},uppercase:function(e){return!t.reg.lowercase.test(e)},lowercase:function(e){return!t.reg.uppercase.test(e)},JSON:function(t){try{JSON.parse(t)}catch(e){return!(e instanceof SyntaxError)}return!0},getMsgHtml:function(t){return"<i></i><p>{{msg}}</p>".replace(/{{msg}}/g,t||"")},setSuccess:function(e){return t.ignore||e.closest(t.parentSelector).removeClass(t.errCls+" "+t.infoCls).addClass(t.succCls).find(t.resultSelector).html(t.getMsgHtml(t.succMsg||"","succ")),t.ignore=!1,t.msg="",t.succMsg="",!0},setTips:function(e){return e.closest(t.parentSelector).removeClass(t.errCls+" "+t.succCls).addClass(t.infoCls).find(t.resultSelector).html(t.getMsgHtml(t.msg||e.data("tips"),"tips")),t.msg="",!0},setError:function(e){return e.closest(t.parentSelector).removeClass(t.infoCls+" "+t.succCls).addClass(t.errCls).find(t.resultSelector).html(t.getMsgHtml(t.msg||e.data("msg"),"err")),t.msg="",!1},hasError:function(e){var r=e.closest(t.parentSelector);return r.hasClass(t.errCls)},clearValidateResult:function(e){return e.closest(t.parentSelector).removeClass(t.errCls+" "+t.succCls+" "+t.infoCls)},isNeedValidate:function(e){var r=e.closest(t.parentSelector);return r.hasClass(t.errCls)||r.hasClass(t.succCls)||r.hasClass(t.infoCls)},if_not_null_then:function(t){return t.length?!0:"break"},check:function(e,r,n,s){var i=!0,o=(e.data("pattern")||"").toString().split("|"),l=(e.data("msg")||"").toString().split("|"),u=e.val()||e.data("value")||"",c="";if("string"==typeof u){switch(e.data("prefix")){case"number":/\D/.test(u)&&(u=t.toNumber(u),e.val(u));break;case"float":/[^\d\-\.]/.test(u)&&(u=u.replace(/[^\d\-\.]/g,""),e.val(u));break;case"ltrim":t.reg.ltrim.test(u)&&(u=u.replace(t.reg.ltrim,""),e.val(u))}r||(u=a.trim(u))}for(var d=0,f=o.length;f>d&&i;d++){var g=o[d];if("function"==typeof t[g]){c=l[d]?l[d]:"",s&&c&&(t.msg=c);var p=t[g](u,e);i=!!p&&i;var m=e.data("msg-"+g);if(m&&(c=m),"break"===p)break}else""===g&&1===o.length?i=!0:(i=!1,console.warn&&void 0)}return n&&n(i),i},checkOne:function(e,r,n,a){t.msg="";var s=!0;return s="function"==typeof t[n]?t[n](r,e):""===n?!0:!1,"function"==typeof a&&a(s,t.msg),s=s===!1?t.msg||!1:s},validate:function(e,r){var n=t.check(e,r,!1,!0);return t.noResult&&(t.msg=""),t.noResult?n:n?t.setSuccess(e):t.setError(e)},bind:function(e){if(!e.data("__validate")){if(0===e.closest(t.parentSelector).find(t.resultSelector).length){var r=e.closest(t.fieldSelector),n='<div class="'+t.resultSelector.replace(/^\./,"")+'"></div>';r.length>0?r.append(n):e.after(n)}if(e.is(":input")){var a=function(){t.validate(e)};e.on("keyup paste",function(){e.data("noinput")||a()}),e.blur(function(){e.data("noblur")||a()}).focus(function(){e.data("nofocus")||t.setTips(e)})}e.data("__validate",1)}},all:function(e,r){t.isAll=!0,t.noResult=!!r;var n=e?a(e):a("[data-pattern]").not(".nopattern, .disabled"),s=!0;return n.each(function(){s=t.validate(a(this))&&s}),t.isAll=!1,t.noResult=!1,s},init:function(e,r){r=r||a(document);var n=r.find(e?e:":input[data-pattern]");n.each(function(){t.bind(a(this))})},extend:function(e,r){t[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(t,e)}}}}var a=t("jquery");n.prototype.setOptions=function(t){return this.validator=a.extend(!0,this.validator,t),this},a.Validator=n,a.validator=(new n).validator,r.exports=a.validator});
/*!edu_modules/ckeditor.init/src/index*/
;define("edu_modules/ckeditor.init/src/index",function(i,t,e){function n(i){u?i():s.push(i)}function o(i,t,e){n(function(){l(i,t,e)})}var d=i("edu_modules/ckeditor.init/src/default-config"),a=i("edu_modules/ckeditor.init/src/util"),r=i("edu_modules/validator/validator"),c=i("jquery"),s=[],u=!1;i.async(["ckeditor"],function(){i.async(["ckeditorAdapter"],function(){u=!0,s.forEach(function(i){i()})})});var l=function(t,e,n){var o=c(t),s=window.CKEDITOR;d.editorConfig(s.config,e);var u=c.extend({},d.defaultOpts,e);e.rawConfig&&c.each(e.rawConfig,function(i,t){s.config[i]=t});var l=s.config.removeButtons.split(",");if(0===u.resetButtons.length){for(var f=u.addButtons.length-1;f>=0;f--){var k=l.indexOf(u.addButtons[f]);k>-1&&l.splice(k,1)}for(var f=u.removeButtons.length-1;f>=0;f--){var k=l.indexOf(u.removeButtons[f]);0>k&&l.push(u.removeButtons[f])}}else{l="Superscript,Source,Subscript,Cut,Copy,Paste,PasteText,PasteFromWord,Styles,Format,Blockquote,CreateDiv,Outdent,Indent,BidiLtr,BidiRtl,Language,Find,Replace,SelectAll,Scayt,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,ShowBlocks,Save,NewPage,Preview,Print,Templates,Bold,RemoveFormat,TextColor,NumberedList,BulletedList,BGColor,JustifyLeft,JustifyCenter,JustifyRight,JustifyBlock,Undo,Redo,Form,Maximize,About,Font,FontSize,Italic,Underline,Strike".split(",");for(var f=u.resetButtons.length-1;f>=0;f--){var k=l.indexOf(u.resetButtons[f]);k>-1&&l.splice(k,1)}}s.config.keystrokes||(s.config.keystrokes=[]),s.config.skin=u.skin,s.config.uiColor=u.uiColor,s.config.removeButtons=l.join(","),s.config.resize_enabled=u.resizeEnabled;var v=o.attr("id");v||(v="ck"+(new Date).getTime(),o.attr("id",v)),o.ckeditor({height:u.height,extraPlugins:u.extraPlugins.map(function(i){return i.name}).join(",")}),s.instances[v].on("instanceReady",function(t){var o=t.editor;if(o.detailsNotVali=!1,!e.isPreload){a._setDetails(o,u.content,!0),a._initValidator(o,r),o.on("blur",function(){u.validator&&!o.detailsNotVali&&u.validator.details(o,a),o.detailsNotVali=!1}),o.on("focus",function(){a._setTips(v,u.validator)});for(var d=u.extraPlugins.length-1;d>=0;d--){var c=u.extraPlugins[d];switch(c.name){case"addpic":window.__asyncAddPic||!function(){window.__asyncAddPic=!0,i.async(["edu_modules/ckeditor.init/src/addpic"],function(i){window._ckeditorAddPic=i})}(c);break;case"addvideo":!function(t){i.async(["edu_modules/ckeditor.init/src/addvideo"],function(i){o.videoLimit=t.videoLimit,i(v,t.initVideos,t.videoLimit,t.poster)})}(c);break;case"addword":!function(){i.async(["edu_modules/ckeditor.init/src/addword"],function(i){i(v)})}(c);break;case"addlink":window.__asyncAddLink||(window.__asyncAddLink=!0,function(){i.async(["edu_modules/ckeditor.init/src/addlink"],function(i){window._ckeditorAddLink=i})}(c));break;case"instruction":!function(t){i.async(["edu_modules/ckeditor.init/src/instruction"],function(i){i(v,t.content)})}(c);break;case"setcount":}}}n&&n(o)}),s.instances[v].on("change",function(){var i=s.instances[v];a._clearError(v,i.validator)})};e.exports={ckinit:o,util:a}});
/*!edu_modules/ckeditor.init/mod.main.ckeditor*/
;define("edu_modules/ckeditor.init/mod.main.ckeditor",function(e,i,d){d.exports=e("edu_modules/ckeditor.init/src/index")});
window.__loadJs&&window.__loadJs('/edu_modules/ckeditor.init/mod.main.ckeditor.14f03cb8.js',2);