window.__loadJs&&window.__loadJs('/agency/agencyReact/mod.main.779f707b.js?max_age=3153600',1);
/*!edu_modules/util.cookie/util.cookie*/
;define("edu_modules/util.cookie/util.cookie",function(n,e,i){function o(n){var e=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return e?decodeURIComponent(e[2]):""}var u=n("jquery"),e={get:o,set:function(n,e,i,o,u){var t=new Date;t.setTime(t.getTime()+(u?36e5*u:2592e6)),document.cookie=n+"="+e+"; expires="+t.toGMTString()+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},setSession:function(n,e,i,o){document.cookie=n+"="+e+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},del:function(n,e,i){document.cookie=n+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(i?i:"/")+"; "+(e?"domain="+e+";":"")},clear:function(){var n=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var e in n)document.cookie=n[e]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "},uin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin")||o("pt2gguin")||o("adid"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)},realUin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)}};u.cookie=e,u.reset_own_cookie=function(){u.cookie=e},i.exports=e});
/*!edu_modules/check/check*/
;define("edu_modules/check/check",function(e,i,o){e("edu_modules/util.cookie/util.cookie");var u=e("jquery");o.exports={isWeixinUser:function(){var e=u.cookie.get("uid_type");return 2==e?!0:!1}}});
/*!@tencent/im-tab-man/tab*/
;define("@tencent/im-tab-man/tab",function(t,a,n){function i(t,a){return a=a||{},t=e(t),t.data("Tab")?t.data("Tab"):this instanceof i?(this.container=t,this.container.data("Tab",this),this.tabContent=a.tabContent||"mod-tab__content",this.tabNav=a.tabNav||"mod-tab__ul",this.tabNavItem=a.tabNavItem||"mod-tab__li",this.tabCurItem=a.tabCurItem||"mod-tab__li_current",this.pos=a.pos||0,this.content=this.container.find("."+this.tabContent).eq(this.pos),this.nav=this.container.find("."+this.tabNav),this.navLis=this.nav.find("."+this.tabNavItem),this.curNav=this.navLis.eq(this.pos),void this.init()):new i(t,a)}var e=t("jquery");i.prototype={constructor:i,init:function(){var t=this;return this.nav.on("click","a",function(a){a.preventDefault();var n=e(this),i=n.closest("."+t.tabNavItem),s=i.index();i[0]!==t.curNav[0]&&(t.content.hide(),t.curNav.removeClass(t.tabCurItem),t.content=t.container.find("."+t.tabContent).eq(s),t.curNav=n.closest("."+t.tabNavItem),t.content.show(),t.curNav.addClass(t.tabCurItem),t.container.trigger("changeTab",s,t.curNav))}),this}},n.exports=i});
/*!edu_modules/local.data/local.data*/
;define("edu_modules/local.data/local.data",function(e,t,n){var r,a=function(){var e,t,n=document.getElementsByTagName("head")[0],r=window.location.hostname||"edu_database",a=new Date;if(n.addBehavior){try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window;</script><iframe src="/favicon.ico"></frame>'),t.close(),e=t.w.frames[0].document}catch(i){e=document}n=e.createElement("head"),e.appendChild(n),a.setDate(a.getDate()+30),n.addBehavior("#default#userData"),n.expires=a.toUTCString(),n.load(r);var o=n.XMLDocument.documentElement,c=o.attributes,u="prefix_____hack__",l=/^[-\d]/,s=new RegExp("^"+u),f=function(e){return l.test(e)?u+e:e},h=function(e){return e.replace(s,"")},d={length:c.length,notNativeCode:!0,getItem:function(e){return(c.getNamedItem(f(e))||{nodeValue:null}).nodeValue||o.getAttribute(f(e))},setItem:function(e,t){o.setAttribute(f(e),t),n.save(r),this.length=c.length},removeItem:function(e){o.removeAttribute(f(e)),n.save(r),this.length=c.length},clear:function(){for(;c.length;)this.removeItem(c[0].nodeName);this.length=0},key:function(e){return c[e]?h(c[e].nodeName):void 0}};return d}};try{r=window.localStorage,r||(r=a())}catch(i){r=a()}var o=function(e){var t=function(){return null};return e?{set:function(t,n){void 0!==this.get(t)&&this.remove(t);try{e.setItem(t,n)}catch(r){this.clear()}},get:function(t){var n=e.getItem(t);return null===n?void 0:n},remove:function(t){e.removeItem(t)},clear:function(){e.clear()},each:function(e){var t,n=this.obj(),r=e||function(){};for(t in n)if(r.call(this,t,this.get(t))===!1)break},obj:function(){var t,n,r={},a=0;if(e.isVirtualObject)r=e.key(-1);else for(t=e.length;t>a;a++)n=e.key(a),r[n]=this.get(n);return r},filter:function(t){var n,r,a=[],i=0;if(e.isVirtualObject)a=[];else for(n=e.length;n>i;i++)r=e.key(i),t.test(r)&&a.push({key:r,value:this.get(r)});return a}}:{set:t,get:t,remove:t,clear:t,each:t,obj:t,filter:t}}(r);n.exports=o});
/*!core-js/library/modules/_global*/
;define("core-js/library/modules/_global",function(e,n,o){var t=o.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)});
/*!core-js/library/modules/_core*/
;define("core-js/library/modules/_core",function(e,r,o){var n=o.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)});
/*!core-js/library/modules/_a-function*/
;define("core-js/library/modules/_a-function",function(n,o,r){r.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}});
/*!core-js/library/modules/_ctx*/
;define("core-js/library/modules/_ctx",function(r,n,e){var t=r("core-js/library/modules/_a-function");e.exports=function(r,n,e){if(t(r),void 0===n)return r;switch(e){case 1:return function(e){return r.call(n,e)};case 2:return function(e,t){return r.call(n,e,t)};case 3:return function(e,t,u){return r.call(n,e,t,u)}}return function(){return r.apply(n,arguments)}}});
/*!core-js/library/modules/_is-object*/
;define("core-js/library/modules/_is-object",function(e,o,n){n.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}});
/*!core-js/library/modules/_an-object*/
;define("core-js/library/modules/_an-object",function(r,o,e){var n=r("core-js/library/modules/_is-object");e.exports=function(r){if(!n(r))throw TypeError(r+" is not an object!");return r}});
/*!core-js/library/modules/_fails*/
;define("core-js/library/modules/_fails",function(r,e,n){n.exports=function(r){try{return!!r()}catch(e){return!0}}});
/*!core-js/library/modules/_descriptors*/
;define("core-js/library/modules/_descriptors",function(e,r,n){n.exports=!e("core-js/library/modules/_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})});
/*!core-js/library/modules/_dom-create*/
;define("core-js/library/modules/_dom-create",function(e,r,o){var t=e("core-js/library/modules/_is-object"),c=e("core-js/library/modules/_global").document,l=t(c)&&t(c.createElement);o.exports=function(e){return l?c.createElement(e):{}}});
/*!core-js/library/modules/_ie8-dom-define*/
;define("core-js/library/modules/_ie8-dom-define",function(e,r,o){o.exports=!e("core-js/library/modules/_descriptors")&&!e("core-js/library/modules/_fails")(function(){return 7!=Object.defineProperty(e("core-js/library/modules/_dom-create")("div"),"a",{get:function(){return 7}}).a})});
/*!core-js/library/modules/_to-primitive*/
;define("core-js/library/modules/_to-primitive",function(r,t,e){var o=r("core-js/library/modules/_is-object");e.exports=function(r,t){if(!o(r))return r;var e,i;if(t&&"function"==typeof(e=r.toString)&&!o(i=e.call(r)))return i;if("function"==typeof(e=r.valueOf)&&!o(i=e.call(r)))return i;if(!t&&"function"==typeof(e=r.toString)&&!o(i=e.call(r)))return i;throw TypeError("Can't convert object to primitive value")}});
/*!core-js/library/modules/_object-dp*/
;define("core-js/library/modules/_object-dp",function(e,r){var o=e("core-js/library/modules/_an-object"),i=e("core-js/library/modules/_ie8-dom-define"),t=e("core-js/library/modules/_to-primitive"),s=Object.defineProperty;r.f=e("core-js/library/modules/_descriptors")?Object.defineProperty:function(e,r,c){if(o(e),r=t(r,!0),o(c),i)try{return s(e,r,c)}catch(n){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[r]=c.value),e}});
/*!core-js/library/modules/_property-desc*/
;define("core-js/library/modules/_property-desc",function(e,r,n){n.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}});
/*!core-js/library/modules/_hide*/
;define("core-js/library/modules/_hide",function(r,e,o){var s=r("core-js/library/modules/_object-dp"),c=r("core-js/library/modules/_property-desc");o.exports=r("core-js/library/modules/_descriptors")?function(r,e,o){return s.f(r,e,c(1,o))}:function(r,e,o){return r[e]=o,r}});
/*!core-js/library/modules/_has*/
;define("core-js/library/modules/_has",function(r,e,n){var o={}.hasOwnProperty;n.exports=function(r,e){return o.call(r,e)}});
/*!core-js/library/modules/_export*/
;define("core-js/library/modules/_export",function(r,e,n){var o=r("core-js/library/modules/_global"),t=r("core-js/library/modules/_core"),i=r("core-js/library/modules/_ctx"),s=r("core-js/library/modules/_hide"),u=r("core-js/library/modules/_has"),a="prototype",c=function(r,e,n){var l,f,y,d=r&c.F,m=r&c.G,p=r&c.S,b=r&c.P,h=r&c.B,j=r&c.W,v=m?t:t[e]||(t[e]={}),_=v[a],w=m?o:p?o[e]:(o[e]||{})[a];m&&(n=e);for(l in n)f=!d&&w&&void 0!==w[l],f&&u(v,l)||(y=f?w[l]:n[l],v[l]=m&&"function"!=typeof w[l]?n[l]:h&&f?i(y,o):j&&w[l]==y?function(r){var e=function(e,n,o){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,n)}return new r(e,n,o)}return r.apply(this,arguments)};return e[a]=r[a],e}(y):b&&"function"==typeof y?i(Function.call,y):y,b&&((v.virtual||(v.virtual={}))[l]=y,r&c.R&&_&&!_[l]&&s(_,l,y)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c});
/*!core-js/library/modules/_cof*/
;define("core-js/library/modules/_cof",function(r,e,n){var o={}.toString;n.exports=function(r){return o.call(r).slice(8,-1)}});
/*!core-js/library/modules/_iobject*/
;define("core-js/library/modules/_iobject",function(e,r,t){var o=e("core-js/library/modules/_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}});
/*!core-js/library/modules/_defined*/
;define("core-js/library/modules/_defined",function(e,o,r){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}});
/*!core-js/library/modules/_to-iobject*/
;define("core-js/library/modules/_to-iobject",function(e,r,o){var i=e("core-js/library/modules/_iobject"),c=e("core-js/library/modules/_defined");o.exports=function(e){return i(c(e))}});
/*!core-js/library/modules/_to-integer*/
;define("core-js/library/modules/_to-integer",function(e,r,o){var t=Math.ceil,i=Math.floor;o.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}});
/*!core-js/library/modules/_to-length*/
;define("core-js/library/modules/_to-length",function(e,r,n){var o=e("core-js/library/modules/_to-integer"),t=Math.min;n.exports=function(e){return e>0?t(o(e),9007199254740991):0}});
/*!core-js/library/modules/_to-absolute-index*/
;define("core-js/library/modules/_to-absolute-index",function(e,r,o){var t=e("core-js/library/modules/_to-integer"),n=Math.max,i=Math.min;o.exports=function(e,r){return e=t(e),0>e?n(e+r,0):i(e,r)}});
/*!core-js/library/modules/_array-includes*/
;define("core-js/library/modules/_array-includes",function(r,e,o){var n=r("core-js/library/modules/_to-iobject"),i=r("core-js/library/modules/_to-length"),t=r("core-js/library/modules/_to-absolute-index");o.exports=function(r){return function(e,o,l){var u,s=n(e),a=i(s.length),c=t(l,a);if(r&&o!=o){for(;a>c;)if(u=s[c++],u!=u)return!0}else for(;a>c;c++)if((r||c in s)&&s[c]===o)return r||c||0;return!r&&-1}}});
/*!core-js/library/modules/_library*/
;define("core-js/library/modules/_library",function(r,e,i){i.exports=!0});
/*!core-js/library/modules/_shared*/
;define("core-js/library/modules/_shared",function(r,e,o){var s=r("core-js/library/modules/_core"),i=r("core-js/library/modules/_global"),l="__core-js_shared__",a=i[l]||(i[l]={});(o.exports=function(r,e){return a[r]||(a[r]=void 0!==e?e:{})})("versions",[]).push({version:s.version,mode:r("core-js/library/modules/_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})});
/*!core-js/library/modules/_uid*/
;define("core-js/library/modules/_uid",function(o,n,r){var t=0,i=Math.random();r.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++t+i).toString(36))}});
/*!core-js/library/modules/_shared-key*/
;define("core-js/library/modules/_shared-key",function(r,e,s){var o=r("core-js/library/modules/_shared")("keys"),d=r("core-js/library/modules/_uid");s.exports=function(r){return o[r]||(o[r]=d(r))}});
/*!core-js/library/modules/_object-keys-internal*/
;define("core-js/library/modules/_object-keys-internal",function(r,e,o){var s=r("core-js/library/modules/_has"),l=r("core-js/library/modules/_to-iobject"),a=r("core-js/library/modules/_array-includes")(!1),i=r("core-js/library/modules/_shared-key")("IE_PROTO");o.exports=function(r,e){var o,n=l(r),u=0,c=[];for(o in n)o!=i&&s(n,o)&&c.push(o);for(;e.length>u;)s(n,o=e[u++])&&(~a(c,o)||c.push(o));return c}});
/*!core-js/library/modules/_enum-bug-keys*/
;define("core-js/library/modules/_enum-bug-keys",function(e,r,o){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});
/*!core-js/library/modules/_object-keys*/
;define("core-js/library/modules/_object-keys",function(e,r,o){var s=e("core-js/library/modules/_object-keys-internal"),n=e("core-js/library/modules/_enum-bug-keys");o.exports=Object.keys||function(e){return s(e,n)}});
/*!core-js/library/modules/_object-gops*/
;define("core-js/library/modules/_object-gops",function(e,o){o.f=Object.getOwnPropertySymbols});
/*!core-js/library/modules/_object-pie*/
;define("core-js/library/modules/_object-pie",function(e,r){r.f={}.propertyIsEnumerable});
/*!core-js/library/modules/_to-object*/
;define("core-js/library/modules/_to-object",function(e,r,o){var n=e("core-js/library/modules/_defined");o.exports=function(e){return Object(n(e))}});
/*!core-js/library/modules/_object-assign*/
;define("core-js/library/modules/_object-assign",function(r,e,o){"use strict";var s=r("core-js/library/modules/_descriptors"),c=r("core-js/library/modules/_object-keys"),t=r("core-js/library/modules/_object-gops"),l=r("core-js/library/modules/_object-pie"),i=r("core-js/library/modules/_to-object"),a=r("core-js/library/modules/_iobject"),n=Object.assign;o.exports=!n||r("core-js/library/modules/_fails")(function(){var r={},e={},o=Symbol(),s="abcdefghijklmnopqrst";return r[o]=7,s.split("").forEach(function(r){e[r]=r}),7!=n({},r)[o]||Object.keys(n({},e)).join("")!=s})?function(r){for(var e=i(r),o=arguments.length,n=1,b=t.f,j=l.f;o>n;)for(var u,f=a(arguments[n++]),m=b?c(f).concat(b(f)):c(f),d=m.length,y=0;d>y;)u=m[y++],(!s||j.call(f,u))&&(e[u]=f[u]);return e}:n});
/*!core-js/library/modules/es6.object.assign*/
;define("core-js/library/modules/es6.object.assign",function(e){var s=e("core-js/library/modules/_export");s(s.S+s.F,"Object",{assign:e("core-js/library/modules/_object-assign")})});
/*!core-js/library/fn/object/assign*/
;define("core-js/library/fn/object/assign",function(e,s,r){e("core-js/library/modules/es6.object.assign"),r.exports=e("core-js/library/modules/_core").Object.assign});
/*!babel-runtime/core-js/object/assign*/
;define("babel-runtime/core-js/object/assign",function(e,s,n){n.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}});
/*!edu_modules/reportor/lib/util*/
;define("edu_modules/reportor/lib/util",function(r,t,e){function n(r){return r&&"[object Object]"===r.toString()}function o(r){return r&&"function"==typeof r}function i(r){if(!n(r)||r.nodeType||r.setInterval)return!1;if(r.constructor&&!r.hasOwnProperty("constructor")&&!r.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var t;for(t in r);return void 0===t||r.hasOwnProperty(t)}function f(r,t){if(o(t))if(n(r))for(var e in r)t(e,r[e],r);else if(Array.isArray(r))for(var i=0,f=r.length;f>i;i++)t(i,r[i],r)}function u(r,t){var e=new RegExp("(\\?|#|&)"+t+"=([^&]*)(&|$)","g");return r.replace(e,"").replace(/(\?|#|&)$/,"")}"function"!=typeof Object.assign&&(Object.assign=function(r){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r,t,e){return function(n,o){if(null===this||void 0===this)throw TypeError("Array.prototype.indexOf called on null or undefined");var i=r(this),f=i.length>>>0,u=e(0|o,f);if(0>u)u=t(0,f+u);else if(u>=f)return-1;if(void 0===n){for(;u!==f;++u)if(void 0===i[u]&&u in i)return u}else if(n!==n){for(;u!==f;++u)if(i[u]!==i[u])return u}else for(;u!==f;++u)if(i[u]===n)return u;return-1}}(Object,Math.max,Math.min)),e.exports={isPlainObject:i,each:f,delParam:u}});
/*!edu_modules/reportor/tdw/tdw*/
;define("edu_modules/reportor/tdw/tdw",function(t,r,e){function n(t){var r;return o(t),r=a(t),{fields:h,datas:r}}function i(t,r){return r=r||[],r.forEach(function(r){r.forEach(function(e,n){"string"==typeof e&&(r[n]=~m.indexOf(t[n])?e.substring(0,w):e.substring(0,v))})}),r}function o(t){t&&(l.isPlainObject(t)&&(t=[t]),Array.isArray(t)&&l.each(t,function(t,r){l.each(r,function(t){g[t]||(g[t]=1,h.push(t))})}))}function a(t){var r,e=[];return t&&(l.isPlainObject(t)&&(t=[t]),Array.isArray(t))?(l.each(t,function(t,n){r=[],n=Object.assign({},d,n),l.each(h,function(t,e){var i=n[e];i=void 0===i?"":i,r.push(i)}),e.push(r)}),e):void 0}function s(t,r){var e={};r=r||p,l.each(["table","pr_ip","pr_t"],function(t,n){e[n]=r[n]||""}),t.datas=i(t.fields,t.datas),e.fields=JSON.stringify(t.fields),e.datas=JSON.stringify(t.datas),e.retype=2,p.beforeRequest(t)!==!1&&r.url&&(f.ajax({url:r.url,data:e,dataType:"jsonp"}).done(function(r){p[0===r.ret?"success":"error"](r,t)}).fail(function(r,e,n){p.fail(t,r,e,n)}),u(t.fields,t.datas))}function c(){var t=[],r=j.read();r.length<=p.slicer?s(n(r)):(l.each(r,function(r,e){t.push(e),r>0&&r%p.slicer===p.slicer-1&&(s(n(t)),t=[])}),t.length&&s(n(t)))}function u(t,r){if(b.table&&window.localStorage)try{if(1===parseInt(window.localStorage.getItem("tdwFlag"),10)||1===parseInt(window.localStorage.getItem("tdwFlag2"),10))for(var e=0,n=r.length;n>e;e++){for(var i={},o=0,a=t.length;a>o;o++)""!==r[e][o]&&(i[t[o]]=r[e][o]);b.table([i])}}catch(s){}}var f=t("jquery"),l=t("edu_modules/reportor/lib/util"),p={url:"/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},d={},g={},h=[],y=0,b=console||{},v=50,w=450,m=["url","refer","courseid","ver1"],j={pool:[],write:function(t){l.isPlainObject(t)?this.pool.push(t):Array.isArray(t)&&Array.prototype.push.apply(this.pool,t)},read:function(){var t=this.pool;return this.pool=[],t}};e.exports={config:function(t,r){Object.assign(d,t),Object.assign(p,r),o(d)},report:function(t){j.write(t),y||(y=setTimeout(function(){c(),y=0},p.timer))},reportSync:function(t,r){r=Object.assign({},p,r),s(n(t),r)},composer:n,request:s,getCommonData:function(t){return t?d[t]:d}}});
/*!edu_modules/local.data/cross.local*/
;define("edu_modules/local.data/cross.local",function(e,n,i){function t(e,n){var i,t=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(e){m[e.id]&&(m[e.id](e),delete m[e.id])}function r(e){var n=e.origin,i=/(\.|^)qq\.com$/;if(i.test(n)){var t;try{t=JSON.parse(e.data)}catch(r){}t&&t.namespace===f&&("iframe-ready"===t.id?(w=!0,u.initCallback()):a(t))}}function o(e,n,i,t){s++,m[s]=t;var a={namespace:f,id:s,action:e,key:n,value:i};l.contentWindow.postMessage(JSON.stringify(a),"*")}function c(e){u=t(e,u);var n=document.createElement("div");window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),n.innerHTML='<iframe id="'+u.iframeId+'" src='+u.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(n),l=document.getElementById(u.iframeId)}function d(){return v&&w?!0:!1}var l,f="cross-domain-local-message",u={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},s=-1,m={},v=!1,w=!0;i.exports={init:function(e){if(!e.iframeUrl)throw"必须指定iframe的url";v||(v=!0,"complete"===document.readyState?c(e):window.onload=function(){c(e)})},set:function(e,n,i){d()&&o("set",e,n,i)},get:function(e,n){d()&&o("get",e,null,n)},remove:function(e,n){d()&&o("remove",e,null,n)},clear:function(e){d()&&o("clear",null,null,e)},filter:function(e,n){if(d()){var i=e.toString().replace(/(^\/)|(\/$)/g,"");o("filter",i,null,n)}},wasInit:function(){return v}}});
/*!edu_modules/local.data/power.local*/
;define("edu_modules/local.data/power.local",function(e,n,t){function o(e,n){var t,o=n||{};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function r(){var e=document.domain,n=u.whiteDomain,t=!1;if(!u.crossDomain)return!1;if(0===n.length)return!1;for(var o=0;o<n.length&&e!==n[o];o++);return o===n.length&&(t=!0),t}function i(e,n){return{get:function(t,o){n?e.get(t,function(e){o&&o(e&&e.value)}):o&&o(e.get(t))},set:function(t,o,r){try{n?e.set(t,o,r):(e.set(t,o),r&&r())}catch(i){"QuotaExceededError"===i.name&&window.BJ_REPORT&&BJ_REPORT.debug({msg:"local-write-overflow",ext:{msid:2514080}})}},remove:function(t,o){n?e.remove(t,o):(e.remove(t),o&&o())},filter:function(t,o){n?e.filter(t,function(e){o&&o(e&&e.value)}):o&&o(e.filter(t))},clear:function(t){n?e.clear(t):(e.clear(),t&&t())},wasInit:function(){return n?e.wasInit():!0},isCross:function(){return n}}}function a(e,n){o(e,u),r()?(l=c,l.init({iframeUrl:u.iframeUrl,initCallback:function(){n&&n(i(l,!0))}})):n&&n(i(l))}var l=e("edu_modules/local.data/local.data"),c=e("edu_modules/local.data/cross.local"),u={whiteDomain:[],iframeUrl:"",crossDomain:!1};t.exports={getLocal:a}});
/*!edu_modules/reportor/tdw/tdw-local*/
;define("edu_modules/reportor/tdw/tdw-local",function(e,o,n){function t(e,o){if(q.wasInit&&q.wasInit()){var n=o.fields,t=o.datas,r=n.indexOf(v.seqName);w.each(t,function(e,o){var n=v.localPrefix+o[r];q.remove(n)})}}function r(){y=!1}function a(e,o){w.isPlainObject(e)?o&&o(e):Array.isArray(e)&&w.each(e,function(e,n){o&&o(n)})}function i(){return(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}function s(){y&&"/storage_proxy.html"!==window.location.pathname&&q.filter(b,function(e){var o;e=e.slice(0,4);for(var n=0;n<e.length;n++)o=JSON.parse(e[n].value||"{}"),o.seq_number?(o.datas&&o.datas[0].push("local"),o.fields&&o.fields.push("source_from"),_.request(o)):q.remove(e[n].key)})}function c(){h.getLocal({whiteDomain:v.whiteDomain,iframeUrl:v.crossProxy,crossDomain:v.crossDomain},function(e){q=e,setTimeout(function(){s()},1e3)})}function u(e){a(e,function(e){e[v.seqName]=i()})}function l(){return g&&g.obj&&null!==g.obj()}function f(e,o){a(e,function(e){o.push(Object.assign({seq_number:e[v.seqName]},_.composer(e)))})}function m(e){q.wasInit&&q.wasInit()&&w.each(e,function(e,o){var n=v.localPrefix+o[v.seqName];q.set(n,JSON.stringify(o))})}function d(e){var o=[];u(e),f(e,o),m(o)}var p=e("edu_modules/reportor/tdw/tdw"),w=e("edu_modules/reportor/lib/util"),g=e("edu_modules/local.data/local.data"),h=e("edu_modules/local.data/power.local"),q={},_={},x=l(),v={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"ntdw_seq",seqName:"seq_number"},b=/^tdw_seq/,y=!0;_.composer=p.composer,_.getCommonData=p.getCommonData,_.config=p.config,_.request=p.request,_.config({},{success:t,error:r,fail:r}),_.report=function(e){d(e),p.report(e)},_.reportSync=function(e,o){d(e),p.reportSync(e,o)},_.initLocal=function(e){Object.assign(v,e),b=new RegExp("^"+v.localPrefix),x&&c()},n.exports=_});
/*!@tencent/im-util.bom/util.bom*/
;define("@tencent/im-util.bom/util.bom",function(e,n,t){var r=e("jquery"),a=navigator.platform,o=!a||"Win32"===a||"Win64"===a||"Windows"===a;t.exports=r.bom={query:function(e){var n=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},getHash:function(e){var n=window.location.hash.match(new RegExp("(#|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},getParam:function(e,n){var t=e.match(new RegExp("(\\?|#|&)"+n+"=([^&#]*)(&|#|$)"));return t?decodeURIComponent(t[2]):""},checkPlatform:function(){var e=navigator.platform,n=!e||"Win32"===e||"Win64"===e||"Windows"===e;return n||(r.Dialog.alert("请通过电脑登录Windows系统，再访问该页面。"),Badjs("非windows pc, ua="+navigator.userAgent+", platform="+navigator.platform,location.href,0,410018,2)),n},parseHref:function(e){var n=document.createElement("a");return n.href=e,{domain:n.hostname,pathname:n.pathname,search:n.search,hash:n.hash}},isWindows:function(){return o},parseQuery:function(e){var n,t,r={};if(!e)return r;n=e.indexOf("?"),t=0===n?1:0;for(var a=e.substr(t).split("&"),o=0;o<a.length;o++){var i=a[o].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return r},htmlEncode:function(e){return(""+e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")}}});
/*!edu_modules/reportor/lib/report.channel*/
;define("edu_modules/reportor/lib/report.channel",function(r,e,o){"use strict";function t(){for(var r=["saleToken","flowToken","tuin","from"],e=0,o=r.length;o>e;e++){var t=r[e],u=n.query(t);if(u)return{sourcetype:t,sourcefrom:u}}return{}}function u(){var r=n.query("tuin")||n.getHash("tuin");return+("0x"+r).toString(10)}var n=r("@tencent/im-util.bom/util.bom"),i="-";o.exports=function(r){r=r||{};var e=t(),o=u();return r.auin=r.auin||o||i,r.sourcetype=r.sourcetype||e.sourcetype||"",r.sourcefrom=r.sourcefrom||e.sourcefrom||"",r}});
/*!edu_modules/reportor/lib/report.uin*/
;define("edu_modules/reportor/lib/report.uin",function(r,i,e){function o(){return(""+Math.random()).substring(2)}var n=r("edu_modules/util.cookie/util.cookie");e.exports=function(r){var i,e=r.ver9,t=n.realUin(),u=r.visitor_id||o();return e&&!t&&(u=o()),t&&!e&&document.referrer&&(i="login"),Object.assign(r,{ver9:t?t:void 0,uin:n.uin()||"",visitor_id:u,ver10:i}),r}});
/*!edu_modules/reportor/lib/util.winname*/
;define("edu_modules/reportor/lib/util.winname",function(e,n,o){o.exports={set:function(e,n){this.del(e);var o=e+"="+n;window.name=window.name?window.name+"&"+o:o},get:function(e){var n=window.name.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},del:function(e){var n=this.get(e);n&&(window.name=window.name.replace(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),"$3"))}}});
/*!edu_modules/reportor/lib/lastUrlpageHandler*/
;define("edu_modules/reportor/lib/lastUrlpageHandler",function(e,t,n){function r(e){var t=document.createElement("a");return t.href=e,{domain:t.hostname,pathname:t.pathname,search:t.search,hash:t.hash}}function o(e,t){return i.delParam(e,"tuin")===i.delParam(t,"tuin")}var a=e("edu_modules/reportor/lib/util.winname"),i=e("edu_modules/reportor/lib/util"),u="report_position_key_lastpage",l="report_position_key_lasturl",s=["ui.ptlogin2.qq.com/cgi-bin/login","open.weixin.qq.com/connect/oauth2/authorize"],c=document.referrer,d=r(c),h=d.domain+d.pathname;n.exports={get:function(){this.del();var e;try{e=a.get(u),e=JSON.parse(e)}catch(t){}return e},set:function(e){var t=location.href;a.set(u,JSON.stringify(e)),a.set(l,encodeURIComponent(t))},del:function(){this.shouldClear()&&a.del(u)},shouldClear:function(){var e=location.href,t=a.get(l);return!(o(e,t)||s.indexOf(h)>=0)}}});
/*!edu_modules/reportor/lib/positionHandler*/
;define("edu_modules/reportor/lib/positionHandler",function(e,t,n){function i(e){p=Object.assign({},p,e)}function o(){var e=l.get();if(e)return e;var t;return t=p.isPcWeb?r():a(),l.set(t),t}function r(){var e;try{e=m.get(f.name),e&&(e=JSON.parse(e))}catch(t){e={}}return m.del(f.name,f.domain,f.path),e||{}}function a(){var e;try{e=d.get(f.name),e&&(e=JSON.parse(e))}catch(t){e={}}return d.del(f.name),e}function s(e){return p.isPcWeb?void u(e):void c(e)}function u(e){m.setSession(f.name,JSON.stringify(e),f.domain,f.path)}function c(e){d.set(f.name,JSON.stringify(e))}var d=e("edu_modules/reportor/lib/util.winname"),l=e("edu_modules/reportor/lib/lastUrlpageHandler"),m=e("edu_modules/util.cookie/util.cookie"),f={name:"report_position_key",domain:"ke.qq.com",path:"/"},p={isPcWeb:!0};n.exports={config:i,getPositionData:o,setPositionData:s}});
/*!edu_modules/reportor/lib/report.position*/
;define("edu_modules/reportor/lib/report.position",function(o,t,r){function e(o){i(document).on("click","a[href],.js-report-link",function(){var t=i(this),r=t.attr("href");if(r&&0!==r.indexOf("#")||t.hasClass("js-report-link")){var e=t.closest("[data-report-position]"),n=t.closest("[data-report-module]"),s=e.data("report-position")||"",l=n.data("report-module")||"";a.setPositionData(i.extend({},o,{url_position:s,url_module:l}))}})}var i=o("jquery"),a=o("edu_modules/reportor/lib/positionHandler");r.exports=function(o,t){var r=t.getReportData("page"),i=t.getReportData("platform");a.config({isPcWeb:1===i}),e({url_page:r});var n=a.getPositionData();return["url_page","url_module","url_position"].forEach(function(t){o[t]=n[t]}),o}});
/*!edu_modules/reportor/lib/report.cookie*/
;define("edu_modules/reportor/lib/report.cookie",function(e,o,t){function r(e){s.isPlainObject(e)&&(e=JSON.stringify(e)),u.setSession(m.name,e,m.domain,m.path)}function i(){var e;try{e=u.get(m.name),e=JSON.parse(e)}catch(o){e={}}return e}function n(e,o){~c.indexOf("/storage_proxy.html")||(o=o||{},a=i(),d(a),l(a),p(a,e),e.config(a),r(a),e.tdw(Object.assign({action:"pageview"},a,o)))}var a,u=e("edu_modules/util.cookie/util.cookie"),d=e("edu_modules/reportor/lib/report.channel"),l=e("edu_modules/reportor/lib/report.uin"),p=e("edu_modules/reportor/lib/report.position"),s=e("edu_modules/reportor/lib/util"),c=location.pathname,m={name:"tdw_data_new_2",domain:"ke.qq.com",path:"/"};t.exports={reportPageView:n}});
/*!@tencent/im-jquery.isOnScreen/index*/
;define("@tencent/im-jquery.isOnScreen/index",function(t){var e=t("jquery");return e.fn.isOnScreen=function(){var t=e(window),o={top:t.scrollTop(),left:t.scrollLeft()};o.right=o.left+t.width(),o.bottom=o.top+t.height();var i=this.offset();return i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom)},e});
/*!edu_modules/reportor/lib/report.exposure*/
;define("edu_modules/reportor/lib/report.exposure",function(e,r,o){function n(e){e.$reportModule||(e.$reportModule=s.find("[data-report-module]"))}function t(e,r){var o=r.data("report-module");e.tdw({action:"exposure",module:o}),r.data(f,!0)}function i(e,r){function o(){i.each(function(o){var n=i.eq(o);if(!n.data(f)&&n.isOnScreen&&n.isOnScreen()){var a=r.reportFun||t;a(e,n,r)}})}r=r||{},n(r);var i=r.$reportModule;o(),(r.$wrapper||c).on("scroll.viewreport",function(){o()})}function a(e,r,o){o=Object.assign(p,o);var n=r.data("report-module"),t=r.find(o.courseCls),i=[],a=[];d.each(t,function(e){var r=t.eq(e);if(!r.data(f)&&r.isOnScreen&&r.isOnScreen()){var n=parseInt(r.data(o.courseIdKey),10);r.data(o.isPkgKey)&&(n+=1e7),a.push(n),i.push(r.data(o.indexKey)),r.data(f,!0)}}),0!==i.length&&0!==a.length&&(e.tdw({action:"exposure",module:n,position:i.join("_"),courseid:a.join("_")}),o.afterReport&&o.afterReport(e,r,o,{cidArr:a,posArr:i}))}function u(e,r){i(e,Object.assign({reportFun:a},r))}var d=e("jquery");e("@tencent/im-jquery.isOnScreen/index");var s=d(document),c=d(window),p={courseCls:"course",indexKey:"index",courseIdKey:"id",isPkgKey:"ispkg"},f="hasReport";o.exports={reportExposure:i,reportCourseExposure:u}});
/*!edu_modules/reportor/lib/report.attr*/
;define("edu_modules/reportor/lib/report.attr",function(t,r,o){var e=t("jquery"),n=function(t){for(var r,o=(t||"").split("&"),e={},n=0;n<o.length;n++)r=o[n].split("="),e[r[0]]=r[1];return e},i=function(t,r,o){return function(i){i.stopPropagation();var p=e.extend({action:o},n(e(this).attr(r)));t.tdw(p,!0)}},p=function(t){e(document).on("mouseenter","[report-hover]",i(t,"report-hover","hover")).on("click","[report-attr]",i(t,"report-attr","click"))};o.exports={init:p,parseAttr:n}});
/*!edu_modules/reportor/index*/
;define("edu_modules/reportor/index",function(r,e,o){"use strict";function t(r){return r&&r.__esModule?r:{"default":r}}var i=r("babel-runtime/core-js/object/assign"),u=t(i),n=r("edu_modules/reportor/tdw/tdw-local"),p=r("edu_modules/reportor/lib/report.cookie"),c=r("edu_modules/reportor/lib/report.exposure"),l=r("edu_modules/reportor/lib/report.attr");r("edu_modules/reportor/lib/util");var s=window.location,d={};n.config({opername:"edu",platform:1,url:s.href,refer:document.referrer},{table:"dc03514",pr_ip:"clientip",pr_t:"reporttime",slicer:4}),n.initLocal&&n.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),d.tdw=function(r,e){n[e?"reportSync":"report"](r)},d.config=function(r){n.config(u.default({},r||{}))},d.getReportData=n.getCommonData,d.reportPageView=function(r){p.reportPageView(d,r)},d.reportExposure=function(r){return c.reportExposure(d,r)},d.reportCourseExposure=function(r){return c.reportCourseExposure(d,r)},l.init(d),o.exports=d});
/*!@tencent/im-observer/observer*/
;define("@tencent/im-observer/observer",function(t,r,n){var e=function(){var t={};return{listen:function(r,n){return t[r]=t[r]||[],t[r].push(n),this},remove:function(r){var n=t[r];return n?n.length=0:t[r]=void 0,this},one:function(t,r){return this.remove(t),this.listen(t,r)},trigger:function(){var r,n,e;e=Array.prototype.shift.call(arguments),n=t[e]?t[e]:t[e]=[];for(var i=0,o=n.length;o>i;i++)if(r=n[i],r.apply(this,arguments)===!1)return this;return this}}},i={},o=e();o.get=function(t){return i[t]||(i[t]=e()),i[t]},n.exports=o});
/*!edu_modules/edu-login/wxLongpoll*/
;define("edu_modules/edu-login/wxLongpoll",function(e,i,t){var o=e("edu_modules/check/check"),n=e("@tencent/im-observer/observer");t.exports={timeout:null,timespace:2e3,handle:function(){var e=this;o.isWeixinUser()&&(clearTimeout(e.timeout),n.get("login").trigger("weixinWillDone"),n.get("login").trigger("weixinDone"))},init:function(){var e=this;clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.handle()},e.timespace)},destroy:function(){clearTimeout(self.timeout)}}});
/*!/edu_modules/edu-login/template/wrap.tpl_tpl*/
;define("/edu_modules/edu-login/template/wrap.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab" data-type="login"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <ul class="mod-tab__ul"> <li class="mod-tab__li mod-tab__li-qq ',qqConfig.inited?"mod-tab__li_current":"",'" data-index="0"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-qq"></i>QQ账号登录</a> </li> <li class="mod-tab__li mod-tab__li-wx ',wxConfig.inited?"mod-tab__li_current":"",'" data-index="1"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-weixin"></i>微信账号登录</a> </li> </ul> <div class="mod-tab__content ',qqConfig.inited?"":"hide",'" data-inited="',qqConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap mod-tab__content-wrap_qq"> <iframe name="login_frame_qq" src="',qqConfig.url,'" frameborder="0" scrolling="no" width="626px" height="370px"></iframe> </div> </div> <div class="mod-tab__content ',wxConfig.inited?"":"hide",'" data-inited="',wxConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap wx__tab"> <label class="login-wx-tips">安全登录，防止被盗</label> <div class="login-code-container loading"> </div> </div> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-login/template/enter.tpl_tpl*/
;define("/edu_modules/edu-login/template/enter.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <div class="enter-title">选择账号登录类型</div> <div class="enter-content"> <div class="content-avatar"> <div class="avatar-img"></div> </div> <div class="content-btns"> <a href="javascript:void(0);" data-type="1" class="js-btns-enter btns-enter btns-enter-qq"> <i class="icon-font i-qq"></i>QQ登录</a> <a href="javascript:void(0);" data-type="2" class="js-btns-enter btns-enter btns-enter-wx"> <i class="icon-font i-weixin"></i>微信登录</a> </div> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-login/template/weappcode.tpl_tpl*/
;define("/edu_modules/edu-login/template/weappcode.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return weappCode?_$out_.push('<div class="login-weapp-code"> <img class="weappcode-img" src="data:image/png;base64,',weappCode,'"> <div class="wechat-qrcode-mask"></div> <div class="wechat-qrcode-invalid-mask"> <div class="qrcode-invalid-mask"></div> <div class="qrcode-invalid-tips">二维码失效<br>请点击刷新</div> </div></div>'):url&&_$out_.push(' <iframe name="login_frame_wx" src="',url,'" frameborder="0" scrolling="no" width="100%" height="100%"></iframe>'),_$out_.join("")}}});
/*!edu_modules/edu-login/edu-login*/
;define("edu_modules/edu-login/edu-login",function(require,exports,module){"use strict";function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function checkLoginStateDowngrade(){getLoginStateFailNum>4&&(renderWeappCodeContainer(),clearInterval(weappLoginStateTimer),getLoginStateFailNum=0)}function bindCloseEvent(){var e=$("#login_close");e.off("click").on("click",function(){clearInterval(weappLoginStateTimer),global.ptlogin2_onClose()})}function bindEvent(){var e=$(".login-tab"),o=e.find(".mod-tab__content");bindCloseEvent(),e.off("changeTab").on("changeTab",function(e,n){var i=0===n;Tool.reportLoginTabExposure(i);var t=o.eq(n);if(1!==t.data("inited")){var a=i?Tool.generateUrlForQq(config):Tool.generateUrlForWx();t.find("iframe").attr("src",a),t.data("inited",1)}})}function bindChooseEvent(){var e=$(".login-tab");bindCloseEvent(),e.off("click").on("click",".js-btns-enter",function(){var e=$(this),o=e.data("type");Tool.cookie.set(chooseLoginTypeCookie,o),show()})}function messageCb(e){var o=e||global.event;if(-1!==(e.origin||"").indexOf("ptlogin2")){var n;switch(n="undefined"!=typeof JSON?JSON.parse(o.data):Tool.str2JSON(o.data),n.action){case"close":global.ptlogin2_onClose();break;case"resize":global.ptlogin2_onResize(n.width,n.height)}}}function bindMessageAPI(e){"undefined"!=typeof global.postMessage&&Tool.checkMode(e)&&$win.on("message",messageCb)}function unbindMessageAPI(e){"undefined"!=typeof global.postMessage&&Tool.checkMode(e)&&$win.off("message",messageCb)}function init(e){e&&(fromSource=e.source,$loginFrame&&(e={succ:e.succ,close:e.close}),config=$.extend({},DEFAULT_CONFIG,e),config.succ&&succQuene.push(config.succ),config.close&&closeQuene.push(config.close))}function getFrameDom(){if($loginFrame)return $loginFrame;var e=380;return $loginFrame=$("<div>").addClass("ptlogin-wrap"),$loginFrame.css({"margin-top":-e/2,visibility:"visible",height:e}),$loginFrame}function initChoose(){$loginFrame=getFrameDom(),$loginFrame.html(enterTpl({})),$body.append($loginFrame)}function showMask(e){e&&!$mask&&($mask=$("<div>").addClass("ptlogin-mask"),$body.append($mask))}function showFrame(e){reportMonitor(34366170),report.tdw({action:"pageview",page:"loginpage_pc"});var o=1===e,n=o?Tool.generateUrlForQq(config):aboutBlank;$loginFrame=getFrameDom(),renderWXLoginCode(function(e){isWeappCodeLogin=e?!0:!1,Tool.reportLoginTabExposure(o)}),$loginFrame.html(frameTpl({qqConfig:{url:n,inited:o?1:0},wxConfig:{inited:o?0:1}})),longpoll.init(),$body.append($loginFrame)}function renderWXLoginCode(e){Tool.generateWeappCode(function(o){if(o&&0===o.retcode){var n=o&&o.result&&o.result.QRCode;n&&(reportMonitor(34366171),$loginFrame.find(".login-weapp-code").removeClass("exprie"),clearInterval(weappLoginStateTimer),weappLoginStateTimer=setInterval(function(){Tool.getWeappLoginState()},700)),e&&e(n)}else isWeappCodeLogin=!1,reportMonitor(34366172);renderWeappCodeContainer(n)},function(){e&&e(),reportMonitor(34366172)})}function renderWeappCodeContainer(e){e||reportMonitor(34366176),$loginFrame.find(".wx__tab .login-code-container").html(weappcodeTpl({weappCode:e||null,url:Tool.generateUrlForWx()||null})).removeClass("loading")}function show(e){init(e),localStore.set("mobileBindInfo_lastLoginTime",+new Date),closeQuene.push(function(){localStore.remove("mobileBindInfo_lastLoginTime"),localStore.remove("mobileBindInfo_jump")});var o=parseInt(cookie.get(chooseLoginTypeCookie),10),n=config.needMask,i=config.mode;if(showMask(n),!$loginFrame||!$loginFrame.data("type")){if(!o)return initChoose(e),void bindChooseEvent();bindMessageAPI(i),showFrame(o),tab=new Tab(".login-tab",{pos:o-1}),bindEvent(),$.event.trigger("loginShow")}}function hide(){var e=config.mode;$mask.remove(),$loginFrame.remove(),$mask=void 0,$loginFrame=void 0,succQuene=[],closeQuene=[],unbindMessageAPI(e)}function logout(){$.getScript("//ui.ptlogin2.qq.com/js/ptloginout.js",function(){pt_logout.logout(function(){for(var e=0,o=weixinCookie.length;o>e;e++)cookie.del(weixinCookie[e],hostDomain),cookie.del(weixinCookie[e],eduDomain);localStore.remove("__userinfo"),$.event.trigger("logout"),config.onStatusChanged&&config.onStatusChanged(),location.reload()})})}function isLogin(){return!!cookie.get("p_luin")&&!!cookie.get("p_lskey")||!!cookie.get("p_uin")&&!!cookie.get("p_skey")||!!cookie.get("uin")&&!!cookie.get("skey")||!!cookie.get("uid_uin")&&!!cookie.get("uid_a2")}function setUin(e){config.uin=e}function isUinChanged(){return config.uin!=cookie.uin()}function skey(){return cookie.get("p_lskey")||cookie.get("p_skey")||cookie.get("skey")}var $=require("jquery"),Check=require("edu_modules/check/check"),Tab=require("@tencent/im-tab-man/tab"),cookie=require("edu_modules/util.cookie/util.cookie"),localStore=require("edu_modules/local.data/local.data"),report=require("edu_modules/reportor/index"),longpoll=require("edu_modules/edu-login/wxLongpoll"),frameTpl=require("/edu_modules/edu-login/template/wrap.tpl_tpl"),enterTpl=require("/edu_modules/edu-login/template/enter.tpl_tpl"),weappcodeTpl=require("/edu_modules/edu-login/template/weappcode.tpl_tpl"),DEFAULT_CONFIG={needMask:!0,mode:"xui",closeIcon:!1,target:"self",appid:715030901,daid:233},weixinCookie=["uid_a2","uid_type","uid_uin"],chooseLoginTypeCookie="ke_login_type",aboutBlank="about:blank",protocal=location.protocol,wxCssUri=[protocal,"//8.url.cn/edu/edu_modules/edu-login/nohash/wxLogin.css?max_age=3153600"].join(""),global=window,$win=$(global),$body=$("body"),tab,$mask,$loginFrame,config={},hostDomain=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],eduDomain=(location.hostname.match(/(\.\w+){3}$/)||["."+location.hostname])[0],succQuene=[],closeQuene=[],weappLoginRequestTool={get_miniapp_qrcode:"/cgi-proxy/get_miniapp_qrcode",get_login_state:"/cgi-proxy/get_login_state"},getLoginStateFailNum=0,weappLoginStateTimer=null,isWeappCodeLogin=!0,fromSource="",weappId="wxa2c453d902cdd452",reportMonitor=function(e){var o="/cgi-bin/activity_platform/report/report_vm",n=[];e&&(isArray(e)?n=e:n.push(e),n.length&&((new Image).src=o+"?monitors=["+n.join(",")+"]&_t="+(new Date).getTime()))},Tool={generateUrlForQq:function(e){var o={target:e.target,appid:e.appid,hide_close_icon:1-!!e.closeIcon,s_url:e.succUrl},n=[],i="/login_proxy.html"+(e.domain?"#domain="+e.domain:"");if(e.daid&&(o.daid=e.daid),e.noAuth&&(o.pt_no_auth=1),this.checkMode(config.mode)){n.push("//xui.ptlogin2"+hostDomain+"/cgi-bin/xlogin?");var t=location.href.split(/#|\?/)[0],a=t.indexOf("/",t.indexOf("//")+2),r=encodeURIComponent((-1!==a?t.substring(0,a):t)+i);o.proxy_url=e.proxyUrl||r,o.s_url=e.succUrl||r}else o.s_url=e.succUrl||encodeURIComponent("//ui.ptlogin2."+hostDomain+i),n.push("//ui.ptlogin2"+hostDomain+"/cgi-bin/login?");e.style&&(o.style=e.style),o.low_login_enable=1;for(var l in o)n.push(l+"="+o[l]);return n.join("&")},generateUrlForWx:function(){var e=location.href,o=[protocal,"//ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2","&appid=wxa1fd810b3796f1a4&buz_id=122052647&redirect_uri=",encodeURIComponent(e)].join("");return["//open.weixin.qq.com/connect/qrconnect?appid=wxa1fd810b3796f1a4&redirect_uri=",encodeURIComponent(o),"&href=",encodeURIComponent(wxCssUri),"&response_type=code&scope=snsapi_login"].join("")},generateWeappCode:function(e,o){$.ajax({type:"Get",url:weappLoginRequestTool.get_miniapp_qrcode+"?rd="+Math.random(),data:{appId:weappId,page:"pages/login/login",width:200,autoColor:!1,red:0,blue:0,green:0,isHyaLine:!1},success:function(o){e&&e(o)},error:function(e){reportMonitor(34366172),o&&o(e),isWeappCodeLogin=!1,renderWeappCodeContainer()}})},getWeappLoginState:function(){$.ajax({type:"Get",url:weappLoginRequestTool.get_login_state+"?rd="+Math.random(),success:function(e){if(e&&0===e.retcode){var o=e&&e.result.state;switch(o){case 0:break;case 1:reportMonitor(34366173),setTimeout(function(){location.reload()},0);break;case 2:break;case 3:reportMonitor(34366174),$(".login-weapp-code").addClass("exprie").on("click",function(){renderWXLoginCode()}).find(".weappcode-img").remove(),clearInterval(weappLoginStateTimer);break;case 4:reportMonitor(34366175),renderWeappCodeContainer(),clearInterval(weappLoginStateTimer);break;default:clearInterval(weappLoginStateTimer)}}else getLoginStateFailNum++,checkLoginStateDowngrade()},error:function(){getLoginStateFailNum++,checkLoginStateDowngrade()}})},reportLoginTabExposure:function(e){report.tdw({action:"exposure",page:"loginpage_pc",module:e?"QQ":"WX",position:e?"":isWeappCodeLogin?2:1,ver1:fromSource})},execTasks:function(e){for(var o=0,n=(e||[]).length;n>o;o++)try{e[o]()}catch(i){}},checkMode:function(e){return"xui"===e},str2JSON:function str2JSON(str){return eval("("+str+")")},getMaxHour:function(){var e=new Date("2038-12-31");return(e.getTime()-new Date)/36e5},cookie:{set:function(e,o){cookie.set(e,o,eduDomain,"/",Tool.getMaxHour())}}};!function(){isLogin()&&Tool.cookie.set(chooseLoginTypeCookie,Check.isWeixinUser()?2:1),global.ptlogin2_onClose=function(){Tool.execTasks(closeQuene),hide(),clearTimeout(longpoll.timeout),$.event.trigger("loginCancel")},global.ptlogin2_onResize=function(e,o){$loginFrame&&$loginFrame.css({width:e-4,height:o,"margin-top":-o/2,"margin-left":-e/2,visibility:"visible"})},global.ptlogin2_login_ok=function(){if(!config.uin)for(var e=0,o=weixinCookie.length;o>e;e++)cookie.del(weixinCookie[e],hostDomain),cookie.del(weixinCookie[e],eduDomain);Tool.execTasks(succQuene),$.event.trigger("login"),config.onStatusChanged&&config.onStatusChanged(),hide()}}();var Login={init:init,show:show,hide:hide,logout:logout,isLogin:isLogin,uin:cookie.uin,skey:skey,setUin:setUin,isUinChanged:isUinChanged};global.Login=Login,module.exports=Login});
/*!edu_modules/bkn/index*/
;define("edu_modules/bkn/index",function(e,n,t){function o(e){if(!e)return"";for(var n=5381,t=0,o=e.length;o>t;++t)n+=(n<<5)+e.charAt(t).charCodeAt();return 2147483647&n}function r(){return u("p_lskey")||u("p_skey")||u("skey")}function u(e){if(f)return"";var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return n?decodeURIComponent(n[2]):""}function i(){var e=0==u("uid_type");return e?r():u("uid_a2")||r()}function d(){return o(i())}var c="object"==typeof window&&window&&"undefined"!=typeof document,f=!c;t.exports=d});
/*!edu_modules/mm-report/mm-report*/
;define("edu_modules/mm-report/mm-report",function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=window,n=e.navigator,t=n?n.userAgent.toLowerCase():"";return/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t)?"ios":t.indexOf("android")>-1||t.indexOf("adr")>-1?"android":"pc"}function a(e){e=e||g;var n=e.length;n>10&&(n=10);var t=e.splice(0,n);if(t.length){var o=s+"&uin"+t[0].uin+"&apn="+(t[0].apn||m.apn);o+="&key=cgi,type,code,time";for(var r=["cgi","type","code","time"],a=0;a<r.length;a++)for(var i=0;i<t.length;i++){var u=t[i];o+="&"+(i+1)+"_"+(a+1)+"="+u[r[a]]}o+="&ignoreRandom="+Math.random();var c=new Image;c.src=o}}function i(){var e=["domain","appid","platform"].map(function(e){return e+"="+m[e]});s+="?"+e.join("&")}function u(e){m.platform=r(),f.default(m,e),i()}function c(e){var n=e.delay;return 0===n||e.apn!==m.apn?(a([e]),!0):!1}function d(e,n,t,o,r){if(!l){h&&clearTimeout(h);var i=f.default({},m,r);i.cgi=encodeURIComponent(e),i.code=n,i.time=t,i.uin=o,i.type=0===n?1:/^[4|5][0-9]{2}$/.test(n)?2:3,c(i)||(g.push(i),h=setTimeout(a,v))}}var p=e("babel-runtime/core-js/object/assign"),f=o(p),m={appid:10028,platform:"pc",domain:"ke.qq.com",rate:1,apn:""},l="undefined"==typeof document,s="//report.huatuo.qq.com/code.cgi",g=[],v=2e3,h=null;u(),t.exports={config:u,report:d}});
/*!edu_modules/edu-db/edu-db*/
;define("edu_modules/edu-db/edu-db",function(require,exports,module){function noop(){}function extendCallBack(e,t,a,r){return function(){!a.apply(e,t)&&r.apply(e,t)}}function extend(e,t,a){if("object"!=typeof e)return e;t=t||{};for(var r in t){var o,n;e[r]=a&&"function"==typeof(o=e[r])&&"function"==typeof(n=t[r])?extendCallBack(e,arguments,n,o):t[r]}}function encryptSkey(e){if(!e)return"";for(var t=5381,a=0,r=e.length;r>a;++a)t+=(t<<5)+e.charAt(a).charCodeAt();return 2147483647&t}var $=require("jquery"),bkn=require("edu_modules/bkn/index"),Login=require("edu_modules/edu-login/edu-login"),MM=require("edu_modules/mm-report/mm-report"),Cookie=require("edu_modules/util.cookie/util.cookie"),Check=require("edu_modules/check/check"),global=this,Badjs=window.Badjs,__DEBUG_STR__=function(){return""},$reportParam={_404:0,_5xx:0},isLoginError=!1,getCookie=Cookie.get,_uin;_uin=Check.isWeixinUser()?getCookie("uid_uin")||0:getCookie("p_luin")||getCookie("p_uin")||getCookie("uin")||0;var uinCache={},ajax=function(e,t,a,r,o,n,c){function i(e){if("string"==typeof e&&e.indexOf("uin")>=0)u=!0;else for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(u=!0),"object"==typeof e[t]&&i(e[t])}var s=new Date,u=!1;i(t);var l=e.split("?")[0];u&&!uinCache[l]&&(uinCache[l]=!0);var p={type:r,url:e,data:t,async:c===!1?!1:!0,success:function(t){function r(e){for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(o=!0),"object"==typeof e[t]&&r(e[t])}var o=!1;r(t);var n=e.split("?")[0];o&&!uinCache[n]&&(uinCache[n]=!0);var c=new Date-s;a&&a(t,c)},error:function(e){var t=new Date-s;a&&a({ec:e.status?e.status:-1e3},t)}};return n&&(p.timeout=n),o&&(p.dataType=o),$.ajax(p)},cache={};module.exports={abTest:!!(new Date%2),status:{bkn:""},"data-cache":{},isLoginError:function(){return isLoginError},encryptSkey:encryptSkey,getCookie:getCookie,getBkn:function(){return bkn()},initReport:function(){},get:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),-1==e.indexOf("?")&&(e+="?"),e+=c.join("&"),ajax(e,null,a,"GET",r,o,n)},post:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),ajax(e,c.join("&"),a,"POST",r,o,n)},cgiHttp:function(opt){if(!opt||!opt.url)return void 0;var _this=this;opt.param=opt.param||{};var timeOpt={url:opt.url},httpFunction,callBack=function(data,ajax_cost){if(timeOpt.time=+new Date,"object"!=typeof data)if(data)if("{"===data.charAt(0)&&"}"===data.charAt(data.length-1))try{data=window.JSON&&JSON.parse?JSON.parse(data):eval("("+data+")")}catch(e){data={ec:999,text:data,msg:"data is no json"}}else data={ec:998,text:data,msg:"data is hijack"};else data={ec:997,text:data,msg:"data is null"};data.delay=ajax_cost,"retcode"in data?data.ec=data.retcode:data.retcode=data.ec;var ec=data.ec,errFlag;switch(ec){case 0:errFlag=!1,(opt.succ||function(){})(data);break;case 111:case-1001:case 1e5:case 100021:isLoginError=!0,window.jQuery&&window.jQuery.event.trigger("logout"),opt.noNeedLogin?errFlag=!0:"undefined"!=typeof Login?Login.show({succ:function(){opt.param.bkn=_this.status.bkn=bkn(),httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)},close:function(){"function"==typeof opt.close&&opt.close.call(this),Badjs&&Badjs("CGI Error , LoginFailed , req:"+opt.url+", ec:"+ec,location.href,0,403860,2)}}):errFlag=!0,Badjs&&Badjs("CGI Error , Need Login,  req:"+opt.url+", ec:"+ec,location.href,0,403855,2);break;case 100021:opt.ldwRetry?errFlag=!0:(opt.ldwRetry=!0,_this.status.bkn=bkn(),opt.param.bkn=_this.status.bkn,httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)),Badjs&&Badjs("CGI Error , Basekey Error , req:"+opt.url+", ec:"+ec,location.href,0,403856,2);break;case 100001:errFlag=!0,Badjs&&Badjs("CGI Error , Param Error:"+JSON.stringify(opt.param)+" , req:"+opt.url+", ec:"+ec,location.href,0,403858,2);break;case 100003:errFlag=!0,Badjs&&Badjs("CGI Error , Internal Error , req:"+opt.url+", ec:"+ec,location.href,0,403857,2);break;case-1e3:errFlag=!0,ec=data.ec=0;break;case 99999:errFlag=!0,Badjs&&Badjs("CGI Error , Need Show VerifyCode Error , red:"+opt.url+", ec:"+ec,location.href,0,0,2);break;case 101402:case 101403:case 101404:case 101405:case 101406:case 102404:case 103404:case 106401:case 106402:case 106403:case 106404:case 106405:case 106406:case 106407:case 106409:case 106410:case 106411:case 106412:case 106413:case 106415:case 106416:case 106425:case 106427:case 106435:case 106457:case 110403:case 109113:case 109122:errFlag=!0,Badjs&&Badjs("CGI Error , Bussines Error , req:"+opt.url+", ec:"+ec,location.href,0,408941,2);break;default:errFlag=!0,Badjs&&Badjs("CGI Error , Other Error , req:"+opt.url+", ec:"+ec,location.href,0,403859,2)}if(MM.report(opt.url,ec,ajax_cost,Cookie.uin()),errFlag){var isBlockDefaultErr=(opt.err||function(){})(data);if(ec&&!_this.status.isDialog&&106457!==ec)if(isBlockDefaultErr){var msg=isBlockDefaultErr.msg;if(msg){msg+=__DEBUG_STR__({url:opt.url,ret:data},"info");var __opt=isBlockDefaultErr.opt||{},_onCancel=__opt.onCancel;opt.onCancel=function(){_onCancel.apply(__opt,arguments),_this.status.isDialog=!1},$.modal.alert(msg,__opt),_this.status.isDialog=!0}}else{var defaultWording="服务器繁忙，请稍后再试",wording={100001:"输入参数错误",100003:"服务器内部错误，请稍后再试",110405:"没有管理权限，请稍后再试"}[ec]||defaultWording,_finally=function(){switch(_this.status.isDialog=!1,ec){case 106507:location.href="/index.html";break;case 106406:case 106407:case 110405:location.href="/index.html"}};if(106507===ec)return _this.status.isDialog=!0,$.modal.alert("由于触犯平台规则，机构功能禁止使用7天",{title:"提示",onCancel:_finally,onAccept:_finally,onClose:_finally});$.modal.alert(wording+("("+ec+")")+__DEBUG_STR__({url:opt.url,ret:data},"info"),{type:"err",onCancel:_finally,onAccept:_finally,onClose:_finally}),_this.status.isDialog=!0}}};opt.param.bkn=bkn(),opt.type&&"GET"!=opt.type.toUpperCase()?(opt.type="POST",httpFunction=_this.post):(opt.type="GET",httpFunction=_this.get);var ret=httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async);return ret},extend:function(e,t,a,r){var o=Object.prototype.toString.call(e);if("[object String]"===o){a=a||this;var n={};n[e]=t,extend(a,n,r)}else"[object Object]"===o&&((null===t||void 0===t)&&arguments.length>=4?(a=a||this,extend(a,e,r)):(r=a,a=t||this,extend(a,e,r)))},addCgi:function(e,t){var a=this,r={};r[e]=function(e){var r={};r.param=e.param||{},r.url=t,r.succ=function(t){(e.succ||function(){})(t)},r.err=function(t){(e.err||function(){})(t)},a.cgiHttp(r)},this.extend(r)},httpMethod:function(e){var t=this;return function(a){var r={};return r.async=e.async===!1?!1:!0,r.param=a.param,r.timeout=a.timeout,e.type&&(r.type=e.type),e.dataType&&(r.dataType=e.dataType),e.noNeedLogin&&(r.noNeedLogin=e.noNeedLogin),r.url=e.url,r.succ=function(t){return(e.succ||a.succ||noop)(t)},r.err=function(t){return(e.err||a.err||function(){})(t)},r.close=function(t){return(e.close||a.close||function(){})(t)},r.isUseModal=a.isUseModal,t.cgiHttp(r)}},wrapGroup:function(e){return e||{}},save:function(e,t){cache[e]=t},getCache:function(e){return cache[e]},clearCache:function(e){cache[e]=null}}});
/*!edu_modules/tdw/tdw*/
;define("edu_modules/tdw/tdw",function(t,n,e){function r(t){var n;return i(t),n=a(t),{fields:h,datas:n}}function i(t){t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t)&&f.each(t,function(t,n){f.each(n,function(t){d[t]||(d[t]=1,h.push(t))})}))}function o(t,n){return n=n||[],n.forEach(function(n){n.forEach(function(e,r){n[r]="string"==typeof e?~w.indexOf(t[r])?e.substring(0,v):e.substring(0,b):e})}),n}function a(t){var n,e=[];return t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t))?(f.each(t,function(t,r){n=[],r=f.extend({},p,r),f.each(h,function(t,e){n.push(r[e]||"")}),e.push(n)}),e):void 0}function c(t,n){var e={};n=n||l,f.each(["table","pr_ip","pr_t"],function(t,r){e[r]=n[r]||""}),t.datas=o(t.fields,t.datas),e.fields=JSON.stringify(t.fields),e.datas=JSON.stringify(t.datas),e.retype=2,l.beforeRequest(t)!==!1&&n.url&&(f.ajax({url:n.url,data:e,dataType:"jsonp"}).done(function(n){l[0===n.ret?"success":"error"](n,t)}).fail(function(n,e,r){l.fail(t,n,e,r)}),s(t.fields,t.datas))}function u(){var t=[],n=m.read();n.length<=l.slicer?c(r(n)):(f.each(n,function(n,e){t.push(e),n>0&&n%l.slicer===l.slicer-1&&(c(r(t)),t=[])}),t.length&&c(r(t)))}function s(t,n){if(y.table)try{if(window.localStorage&&1===parseInt(window.localStorage.getItem("tdwFlag"),10))for(var e=0,r=n.length;r>e;e++){for(var i={},o=0,a=t.length;a>o;o++)""!==n[e][o]&&(i[t[o]]=n[e][o]);y.table([i])}}catch(c){}}var f=t("jquery"),l={url:"/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},p={},d={},h=[],g=0,y=console||{},b=50,v=200,w=["url","refer"],m={pool:[],write:function(t){f.isPlainObject(t)?this.pool.push(t):f.isArray(t)&&Array.prototype.push.apply(this.pool,t)},read:function(){var t=this.pool;return this.pool=[],t}};e.exports={config:function(t,n){f.extend(p,t),f.extend(l,n),i(p)},report:function(t){m.write(t),g||(g=setTimeout(function(){u(),g=0},l.timer))},reportSync:function(t,n){n=f.extend({},l,n),c(r(t),n)},composer:r,request:c,getCommonData:function(t){return t?p[t]:p}}});
/*!edu_modules/tdw-local/tdw-local*/
;define("edu_modules/tdw-local/tdw-local",function(e,o,n){function t(e,o){if(g.wasInit&&g.wasInit()){var n=o.fields,t=o.datas,a=d.inArray(v.seqName,n);d.each(t,function(e,o){var n=v.localPrefix+o[a];g.remove(n)})}}function a(e,o){d.isPlainObject(e)?o&&o(e):d.isArray(e)&&d.each(e,function(e,n){o&&o(n)})}function i(){return(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}function r(){g.filter(_,function(e){var o;e=e.slice(0,2);for(var n=0;n<e.length;n++)o=JSON.parse(e[n].value||"{}"),o.seq_number?(o.datas&&o.datas[0].push("local"),o.fields&&o.fields.push("source_from"),h.request(o)):g.remove(e[n].key)})}function c(){q.getLocal({whiteDomain:v.whiteDomain,iframeUrl:v.crossProxy,crossDomain:v.crossDomain},function(e){g=e,r()})}function s(e){a(e,function(e){e[v.seqName]=i()})}function u(){return p&&p.obj&&null!==p.obj()}function l(e,o){a(e,function(e){o.push(d.extend({seq_number:e[v.seqName]},h.composer(e)))})}function f(e){g.wasInit&&g.wasInit()&&d.each(e,function(e,o){var n=v.localPrefix+o[v.seqName];g.set(n,JSON.stringify(o))})}function m(e){var o=[];s(e),l(e,o),f(o)}var d=e("jquery"),w=e("edu_modules/tdw/tdw"),p=e("edu_modules/local.data/local.data"),q=e("edu_modules/local.data/power.local"),g={},h={},x=u(),v={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"tdw_seq",seqName:"seq_number"},_=/^tdw_seq/;h.composer=w.composer,h.getCommonData=w.getCommonData,h.config=w.config,h.request=w.request,h.config({},{success:t}),h.report=function(e){m(e),w.report(e)},h.reportSync=function(e,o){m(e),w.reportSync(e,o)},h.initLocal=function(e){d.extend(v,e),_=new RegExp("^"+v.localPrefix),x&&c()},n.exports=h});
/*!edu_modules/report.cookie/report.from*/
;define("edu_modules/report.cookie/report.from",function(e,o,t){function i(e){var o=!n.get(r.name);setTimeout(function(){var t={action:"From"};o&&(t.ver7=e.getReportData().ver4||"4"),e.tdw(t),n.setSession(r.name,1,r.domain,r.path)},0)}var n=e("edu_modules/util.cookie/util.cookie"),r={name:"tdw_first_visited",domain:"ke.qq.com",path:"/"};t.exports=i});
/*!edu_modules/edu-report/edu-report*/
;define("edu_modules/edu-report/edu-report",function(o,e,t){var r=o("edu_modules/tdw-local/tdw-local"),n=o("jquery"),c=o("edu_modules/report.cookie/report.from"),i={};r.config({opername:"Edu"},{table:"dc00149",pr_ip:"obj3",pr_t:"ts",slicer:4}),r.initLocal&&r.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),i.tdw=function(o,e){r[e?"reportSync":"report"](o)},i.toreport=function(){},i.config=function(o){r.config(n.extend({},o||{}))},i.getReportData=r.getCommonData,c(i),t.exports=i});
/*!edu_modules/edu-pay/loadPayScript*/
;define("edu_modules/edu-pay/loadPayScript",function(e,n,r){var t=(e("jquery"),{enterprise:{url:"//midas.gtimg.cn/enterprise/js/enterpriseAPI_v1.0.2.js",backUrl:"//7.url.cn/edu/jslib/enterprise/enterpriseAPI_v1.0.2.js",isLoad:function(){return!!(window.TEG&&window.TEG.Service&&window.TEG.Service.EnterprisePay)},loadTimes:0,asyncLoad:function(){},errMsid:2531948,timesMsid:2531947}}),i={},o=5e3,a=function(e,n,r,t){if(e in i)return n?n(e):"";i[e]=!0;var a=document.createElement("script"),d=null,s=function(){d&&(clearTimeout(d),d=null,"onload"in a&&(a.onload=null),"onerror"in a&&(a.onerror=null),"onreadystatechange"in a&&(a.onreadystatechange=null))},u=function(){s(),r&&r(e)};return r&&"onerror"in a&&(a.onerror=u),n&&(a["onload"in a?"onload":"onreadystatechange"]=function(){var r="function"==typeof t?t(e):!0;this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(!r&&/MSIE 8\./i.test(navigator.userAgent)?u():(s(),n(e)))}),d=setTimeout(u,o),a.type="text/javascript",a.src=e,document.getElementsByTagName("head")[0].appendChild(a),a},d=function(e,n){n=n||function(){},a(e,n)},s=function(e,n){return function(r){return n.isLoad()?void("function"==typeof r&&r()):(n.loadTimes++>=1&&(window.BJ_REPORT&&BJ_REPORT.debug({msg:n.url,ext:{msid:n.errMsid}}),n.url=n.backUrl),d(n.url,r),void(window.BJ_REPORT&&BJ_REPORT.debug({msg:e+" 加载次数",ext:{msid:n.timesMsid}})))}},u=function(e){return s("enterprise",t.enterprise)(e)};u(),r.exports={loadEnterPrise:u}});
/*!edu_modules/group-tencent/group-tencent*/
;define("edu_modules/group-tencent/group-tencent",function(e,n,o){var t=function(){function e(e,n,o,t){var r="",p="",a="";switch(e){case"commonGroup":r="groupwpa",p="all",a='{"groupUin":'+o+',"timeStamp":1383552440}';break;case"openGroup":r="groupwpa",p="OpenGroup",a='{"ExtParam":{"appId":"0"},"groupUin":'+n+',"visitor":1}';break;case"openGroupVideo":r="groupwpa",p="OpenGroup",a='{"ExtParam":{"appId":"21"},"groupUin":'+n+',"visitor":1}';break;case"openGroupCourse":r="groupwpa",p="OpenGroup",a='{"ExtParam":{"appId":"1101123802"},"groupUin":'+n+',"visitor":1}'}var u,i,c;if(r){if(u="tencent://"+r+"/?subcmd="+p+"&param=",a=a){for(a+="",i=[],c=0,r=a.length;r>c;c++)i.push(a.charCodeAt(c).toString(16).toUpperCase());a=i.join("")}else a=a;a=u+a+(t?"&fuin="+t:"")}else a="";return a}function n(e,n){$.bom.checkPlatform()&&null!==e&&(e.src?e.src=n:null!==e.contentWindow&&null!==e.contentWindow.location?e.contentWindow.location=n:e.setAttribute("src",n))}var o=document.createElement("iframe");o.style.display="none",o.name="tencent_iframe",o.id="tencent_iframe",document.getElementsByTagName("body")[0].appendChild(o);var t=document.getElementById("tencent_iframe");return{join:function(o,r){n(t,e("commonGroup","",o,r))},open:function(o,r){n(t,e("openGroup",o,"",r))},openVideo:function(o,r){n(t,e("openGroup",o,"",r))}}}();o.exports=t});
/*!/edu_modules/edu-pay/remindBoxInfo.tpl_tpl*/
;define("/edu_modules/edu-pay/remindBoxInfo.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<ul class="mycourse-remind-subtitle"><li>设置提醒的方式</li></ul><div class="mycourse-remind-dl"> <p class="mycourse-remind-dd">该课程已有提醒：</p> '),notifyNum?(_$out_.push(" "),1==tips&&_$out_.push(' <div class="mycourse-remind-dt" data-propety="tips"> <label class="mycourse-remind-dt-rol1">QQ</label> <span class="mycourse-remind-dt-rol2">',uin,'</span><a class="mycourse-remind-dt-rol3 nor-link">取消提醒</a> </div> '),_$out_.push(" "),1==public_account&&_$out_.push(' <div class="mycourse-remind-dt" data-propety="public_account"> <label class="mycourse-remind-dt-rol1">公众账号</label> <span class="mycourse-remind-dt-rol2 nor-link"> <a class="mycourse-remind-public nor-link"><i class="icon-font i-logo"></i>腾讯课堂 <span class="mycourse-remind-public-cover"> <span class="mycourse-remind-public-cover-arrow"></span> <span class="mycourse-remind-public-cover-arrow-outer"></span> <span class="mycourse-remind-public-cover-avatar"><span class="qr-qq-public"></span></span> </span> </a> </span><a class="mycourse-remind-dt-rol3 nor-link">取消提醒</a> </div> '),_$out_.push(" "),1==sms&&(_$out_.push(' <div class="mycourse-remind-dt" data-propety="sms"> <label class="mycourse-remind-dt-rol1">手机</label> '),mobile_number?_$out_.push(' <span class="mycourse-remind-dt-rol2">',mobile_number,'</span><a class="mycourse-remind-dt-rol3 nor-link">取消提醒</a> '):_$out_.push(' <a class="mycourse-remind-dt-rol3 nor-link">设置提醒</a> '),_$out_.push(" </div> ")),_$out_.push(" "),1==email&&(_$out_.push(' <div class="mycourse-remind-dt" data-propety="email"> <label class="mycourse-remind-dt-rol1">邮箱</label> '),email_string?_$out_.push(' <span class="mycourse-remind-dt-rol2">',email_string,'</span><a class="mycourse-remind-dt-rol3 nor-link">取消提醒</a> '):_$out_.push(' <a class="mycourse-remind-dt-rol3 nor-link">设置提醒</a> '),_$out_.push(" </div> ")),_$out_.push(" ")):_$out_.push(' <div class="mycourse-remind-dt"><label class="mycourse-remind-dt-rol1">暂无</label></div> '),_$out_.push('</div><div class="mycourse-remind-dl"> <p class="mycourse-remind-dd">可设置其他提醒：</p> '),4-notifyNum>0?(_$out_.push(" "),2==tips&&_$out_.push(' <div class="mycourse-remind-dt" data-propety="tips"> <label class="mycourse-remind-dt-rol1">QQ</label> <span class="mycourse-remind-dt-rol2">',uin,'</span><a class="mycourse-remind-dt-rol3 nor-link">添加提醒</a> </div> '),_$out_.push(" "),2==public_account&&_$out_.push(' <div class="mycourse-remind-dt" data-propety="public_account"> <label class="mycourse-remind-dt-rol1">公众账号</label> <span class="mycourse-remind-dt-rol2"> <a class="mycourse-remind-public nor-link"><i class="icon-font i-logo"></i>腾讯课堂 <span class="mycourse-remind-public-cover"> <span class="mycourse-remind-public-cover-arrow"></span> <span class="mycourse-remind-public-cover-arrow-outer"></span> <span class="mycourse-remind-public-cover-avatar"><span class="qr-qq-public"></span></span> </span> </a> </span><a class="mycourse-remind-dt-rol3 nor-link">添加提醒</a> </div> '),_$out_.push(" "),2==sms&&(_$out_.push(' <div class="mycourse-remind-dt" data-propety="sms"> <label class="mycourse-remind-dt-rol1">手机</label> '),mobile_number?_$out_.push(' <span class="mycourse-remind-dt-rol2">',mobile_number,'</span><a class="mycourse-remind-dt-rol3 nor-link js-remind-cancel">添加提醒</a> '):_$out_.push(' <a class="mycourse-remind-dt-rol3 nor-link">设置提醒</a> '),_$out_.push(" </div> ")),_$out_.push(" "),2==email&&(_$out_.push(' <div class="mycourse-remind-dt" data-propety="email"> <label class="mycourse-remind-dt-rol1">邮箱</label> '),email_string?_$out_.push(' <span class="mycourse-remind-dt-rol2">',email_string,'</span><a class="mycourse-remind-dt-rol3 nor-link">添加提醒</a> '):_$out_.push(' <a class="mycourse-remind-dt-rol3 nor-link">设置提醒</a> '),_$out_.push(" </div> ")),_$out_.push(" ")):_$out_.push(' <div class="mycourse-remind-dt"><label class="mycourse-remind-dt-rol1">暂无</label></div> '),_$out_.push("</div>"),_$out_.join("")}}});
/*!/edu_modules/edu-pay/remindBox.tpl_tpl*/
;define("/edu_modules/edu-pay/remindBox.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<p class="mycourse-remind-title">设置《<a href="//ke.qq.com/course/',cid,'" class="mycourse-remind-title-name nor-link" target="_blank" title="',course,'">',course,"</a>》的课前提醒</p>"),passcard&&_$out_.push(' <div class="mycourse-remind-passcard"> <ul class="mycourse-remind-subtitle"><li>请选择希望接收上课提醒的班级时间（可多选）：</li></ul> <div class="mycourse-remind-passcard-selector"></div> </div>'),_$out_.push('<div class="mycourse-remind-info"> </div>'),_$out_.join("")}}});
/*!/edu_modules/edu-pay/remindTime.tpl_tpl*/
;define("/edu_modules/edu-pay/remindTime.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<div class="tips-bd"><i class="icon-font i-success icon-msg-large"></i><div class="remindt-header',opt.noheader?" hide":"",'">报名成功<a href="/myCourse/index.html#sid=plan" class="remindt-header-link nor-link" target="_blank">我的课表</a><br>请选择希望接收上课提醒的班级（可多选）：</div><div class="mod-choose-time mod-choose-time_pop" style="position:relative;display:block;"><ul>');for(var i=0,len=terms.length;len>i;i++){var e=terms[i];_$out_.push('<li class="mod-choose-time__li',terms[i].isRemind?" mod-choose-time__li_current":"",'" data-termid="',terms[i].term_id,'" data-index="',i,'"><span class="icon-corner-selected"> <i class="icon-font i-right"></i></span><span class="choose-class-tt">',e.name,'</span><span class="mod-choose-time__time">',$.render.time.formatDate("M月D日",1e3*e.bgtime)+"至"+$.render.time.formatDate("M月D日",1e3*e.endtime),"</span></li>")}return _$out_.push('</ul></div></div><div class="modal-ft"> <a href="javascript:void(0);" title="继续找课" class="modal-ft-btn--link js-modal-close modal-cancel" target="_blank">继续找课</a> <a href="javascript:void(0);" title="立即学习" class="btn-default js-modal-close modal-accept" target="_blank">立即学习</a></div>'),_$out_.join("")}}});
/*!edu_modules/edu-pay/remind*/
;define("edu_modules/edu-pay/remind",function(e,i,r){function t(e){u=null,p=e}function n(e){t(e),c.getRemindTerm({param:{cid:e.cid,passcard:e.passcard,term_id:e.term_id},succ:function(i){a=i.result,a.uin=d.cookie.uin(),a.course=e.cName,a.passcard=e.passcard,a.cid=e.cid,a.term_id=e.term_id,a.terms=e.terms,o()},err:function(e){101404==e.retcode&&d.Dialog.alert("该课程已经下架！",{onAccept:function(){location.reload()},onClose:function(){location.reload()}})}})}function o(){a.notifyNum=0;for(var e=0,i=l.length;i>e;e++)1===a[l[e]]&&a.notifyNum++;if(!u){var r="mycourse-remind";a.passcard&&(1===a.terms.length?r+=" mycourse-remind-p1":2===a.terms.length?r+=" mycourse-remind-p2":a.terms.length>=3&&(r+=" mycourse-remind-p3")),d.Dialog.confirm(s.remindBox(a),{title:"设置提醒",globalClass:r,onAccept:function(){for(var e=u.find(".mod-choose-time__li_current"),i=[],r=0,t=0,n=e.length;n>t;t++)i.push(d(e[t]).data("termid"));c.setRemindTerm({param:{cid:a.cid,shake:a.shake,passcard:a.passcard,term_id:a.term_id,tips:a.tips,email:a.email,sms:a.sms,public_account:a.public_account},succ:function(){r++,2===r&&d.Dialog.remove()},err:function(){}}),1===p.passcard&&c.remindTime({param:{tids:JSON.stringify(i),cid:a.cid},succ:function(){r++,2===r&&d.Dialog.remove()},err:function(){return!0}})}}),u=d(".mycourse-remind"),m()}if(u.find(".mycourse-remind-info").html(s.remindBoxInfo(a)),a.passcard){var t=s.remindTime({terms:a.terms},{getTermTimeString:d.render.courseTime,noheader:!0});u.find(".mycourse-remind-passcard-selector").html(t)}}function m(){u.on("click","a.mycourse-remind-dt-rol3",function(){for(var e=d(this).closest(".mycourse-remind-dt").data("propety"),i=0,r=l.length;r>i;i++)e===l[i]&&(a[e]=1===a[e]?2:1);"email"===e&&!a.email_string||"sms"===e&&!a.mobile_number?d("#js_con_live .live-clock").trigger("click",[{remind:!0,opt:p}]):o()}),u.on("click",".mod-choose-time__li",function(){var e=d(this),i=e.data("index");a.terms[i].isRemind=e.hasClass("mod-choose-time__li_current")?!1:!0,e.toggleClass("mod-choose-time__li_current")})}var d=e("jquery"),c=e("edu_modules/edu-db/edu-db"),s=(e("edu_modules/edu-report/edu-report"),{remindBoxInfo:e("/edu_modules/edu-pay/remindBoxInfo.tpl_tpl"),remindBox:e("/edu_modules/edu-pay/remindBox.tpl_tpl"),remindTime:e("/edu_modules/edu-pay/remindTime.tpl_tpl")});c.extend({setRemindTerm:c.httpMethod({url:"/cgi-bin/course/set_remind_term",type:"POST"}),getRemindTerm:c.httpMethod({url:"/cgi-bin/course/get_remind_term"})});var u,a={},l=["tips","email","sms","public_account"],p={};r.exports={init:n}});
/*!edu_modules/edu-pay/notify*/
;define("edu_modules/edu-pay/notify",function(e,o,t){var r=e("jquery"),i=e("edu_modules/edu-db/edu-db"),n=e("edu_modules/edu-report/edu-report"),a=e("edu_modules/check/check"),l=e("edu_modules/edu-pay/remind");i.extend({setApplyInfo:i.httpMethod({url:"/cgi-bin/tool/set_user_apply_info",type:"POST"}),getIdCode:i.httpMethod({url:"/cgi-bin/tool/apply_sms_code"}),checkIdCode:i.httpMethod({url:"/cgi-bin/tool/check_sms_code"})});var d,s,u,c,m=[],p=[],f={},h=function(e){var o=e.data,t=e.tmpl;return o.isweixin=a.isWeixinUser(),c=t(o),f=e,this},v={},b=function(){function e(){f.extraObj&&f.extraObj.remind&&l.init(f.extraObj.opt)}function o(){function o(){i.setApplyInfo({param:t,succ:function(o){e(),r.Dialog.remove(),u.text("确定"),f.onSubmit&&f.onSubmit(o)},err:function(e){return 106501===e.retcode?y.showError(d,"验证码错误"):y.showError(d,"验证失败"),u.text("确定"),!0}})}if(m.length<=0&&p.length<=0)return r.Dialog.remove(),e(),!1;var t={email:m.val(),mobile:p.val()},n=!1;t.email==v.email&&(n=!0);var a=!1;if(t.mobile==v.mobile&&(a=!0),f.hadProhibit&&d.val().length>0&&(a=!1),a&&n)return r.Dialog.remove(),e(),!1;var l=y.validate(m,y.rules.email),s=y.validate(p,y.rules.mobile);if(!l||!s)return f.onValidatedFail&&f.onValidatedFail(),r.Dialog.remove(),!0;if(!a&&p.val().length>0&&s&&!y.validate(d,y.rules.idCode,"请输入验证码",!1))return f.onValidatedFail&&f.onValidatedFail(),!0;if(f.submitDataFilter&&(t=f.submitDataFilter(t)),f.data.userInfo&&(t.token=f.data.userInfo.token),u.text("提交中..."),p.val().length<=0)return o(),!0;if(a){var c=r("#moblie-no-change-token").val();return c.length>0&&(t.token=c),o(),!0}return i.checkIdCode({param:{code:d.val(),phone:p.val()},succ:function(e){t.token=e.result.token,o()},err:function(e){return 106501===e.retcode?y.showError(d,"验证码错误"):y.showError(d,"验证失败"),u.text("确定"),!0}}),!0}var t=r.extend({title:"",globalClass:"",confirm:!0},f.confirmOpt);r.Dialog.confirm(c,{title:t.title,globalClass:t.globalClass,confirm:t.confirm}),f.data.price>0&&r("."+t.globalClass).css("margin-top",parseInt(r("."+t.globalClass).css("margin-top"))-90),m=r(f.emailNode),p=r(f.mobileNode),d=r(f.idCodeNode),s=r(f.idCodeBtn),u=r(f.submitNode),v={email:m.val(),mobile:p.val()},g(m),g(p),g(d),f.onShow&&f.onShow({emailNode:m,mobileNode:p,idCodeNode:d,idCodeBtn:s}),u.on("click",o),k(),n.tdw({action:"window-expo"})},g=function(e){if(r.fn.placeholder)e.placeholder();else{var o="[object OperaMini]"==Object.prototype.toString.call(window.operamini),t="placeholder"in document.createElement("input")&&!o;!t&&r.loadScript("//7.url.cn/edu/js/1.2.0/jquery.placeholder.js",function(){r.fn.placeholder&&e.placeholder()})}},C="重新获取",w=0,x=function(e,o,t){if(1!=w){w=1;var r=60;o.addClass("disabled").text(C+"("+r+")"),i.getIdCode({param:{phone:t},succ:function(){},err:function(){return!0}});var n=setInterval(function(){1>=r?(clearTimeout(n),o.text(C),o.removeClass("disabled"),w=0):o.text(C+"("+--r+")")},1e3)}},k=function(){m.on("blur",function(){y.validate(m,y.rules.email)}),m.on("focus",function(){m.removeClass("form-item-input-error"),m.closest(".part-row").find(".error-tip").addClass("error-tip-hidden")}),p.on("blur",function(){y.validate(p,y.rules.mobile)}),p.on("focus",function(){p.removeClass("form-item-input-error"),p.closest(".part-row").find(".error-tip").addClass("error-tip-hidden")}),d.on("focus",function(){d.removeClass("form-item-input-error"),d.closest(".part-row").find(".error-tip").addClass("error-tip-hidden")}),s.click(function(e){e.preventDefault(),r(this).hasClass("disabled")||y.validate(p,y.rules.mobile,!1)&&x(d,s,p.val())}),p.on("keyup paste",function(){var e=r(this),o=e.val();return/\D/.test(o)?(o=o.replace(/\D/g,""),e.val(o),!1):!0})},y={rules:{email:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,mobile:/^1\d{10}$/,idCode:/^.+$/},validate:function(e,o,t,r){var i=e.val();return("boolean"==typeof t&&!t||!r)&&i.length<=0?(this.showError(e,t),!1):i&&!o.test(i)?(this.showError(e,t),!1):!0},showError:function(e,o){e.addClass("form-item-input-error");var t=e.closest(".part-row").find(".error-tip");t.removeClass("error-tip-hidden"),o&&"string"==typeof o&&t.find("span").html("<i></i>"+o)}};t.exports={init:h,show:b}});
/*!edu_modules/edu-pay/errWordings*/
;define("edu_modules/edu-pay/errWordings",function(e,d,n){n.exports={106409:"报名失败，您报名的课程已经结束",166411:"报名失败，此课程已经开始上课",166412:"报名失败，请稍候重试",166415:"您已购买该课程，不需要再次付款",166416:"购买失败，免费课程请走免费的流程",101402:"您已经报名了此课程",106437:"报名失败，超出直播类型最大500人的限制",106446:"报名失败，机构创建者不能报名此课程",106447:"报名失败，此课程的老师或助教不能报名",106410:"报名失败，您报名的课程为付费课程",106666:"报名失败，您输入的验证码错误",106438:"您选择的优惠券不存在，请重新尝试！",106439:"您选择的优惠券已被锁定，请重新尝试！",106440:"您选择的优惠券已被使用，请重新尝试！",106441:"您选择的优惠券已被删除，请重新尝试！",106442:"您选择的优惠券已过期，请重新尝试！",166417:"购买失败，该课程还在审核中！",114103:"购买人数已达优惠人数上限，无法参与优惠，请重新点击购买。",106631:"该班级名额已报满，请选择名额未满班级报名。",106633:"购买失败，该机构已被清退。",106634:"该课程有配套实物，请您填写接受配套实物的地址。",166418:"由于课程变化，该订单已失效 ，请选择其他可报名班级购买。",113137:"优惠券不适用于本课程",101401:"未支持的商品类型",101403:"企业支付已经支付，请勿重复支付",101404:"报名失败，该商品不存在",101405:"机构不存在",106632:"期不存在",113138:"确认付款失败，已经做了任务",114101:"折扣优惠不存在",114102:"折扣优惠不适合于本课程、班级",114104:"不在优惠的有效时间内",167001:"错误的会员类型",167002:"请使用全红包支付",1677013:"系列课不存在",1677014:"有待重试的订单在发货队列，拒绝支付",1677015:"已经支付过了课程，拒绝再次支付",1677016:"老师不能报名自己的授课",1677017:"红包使用时出错",1677018:"该班级被惩罚",1677021:"课点余额不足",1678126:"购买失败，预售名额不足",1678128:"该课程不支持余额抵扣",1678130:"该商品已下架",1678131:"请先在个人中心删除退款完成的订单，再继续支付。",1678133:"您没有购买预售",114103:"优惠名额已抢完，请重新购买。",1678136:"当前抢购人数过多，请稍后再试。(5s后弹窗自动关闭)",1678142:"亲爱的同学，该团已超时失效，请重新开团参加学习吧",1678143:"亲爱的同学，该团已满员，请重新开团参加学习吧",900006:"您已经报名了该课程"}});
/*!edu_modules/order-info/index*/
;define("edu_modules/order-info/index",function(e,t,o){var r=e("@tencent/im-util.bom/util.bom"),n=e("edu_modules/util.cookie/util.cookie"),s=r.query("from")||r.getHash("from"),a=r.query("scenes")||r.getHash("scenes"),i=r.query("paysource")||r.getHash("paysource"),u=r.query("sessionUserType"),c=r.query("ADTAG"),f="from_qzone",m="from_client",d=n.get(m),q=function(){{var e=navigator.userAgent.toLowerCase();navigator.platform}return"Win32"==navigator.platform||"Windows"==navigator.platform||/windows ce/.test(e)?1:/android/.test(e)?2:/ipad/.test(e)||/iphone os/.test(e)?3:/mac/.test(e)?4:0},g=function(){{var e=n.get(f),t=navigator.userAgent.toLowerCase();navigator.platform}return e?6:"qqchat"===s||d?3:"Win32"==navigator.platform||"Windows"==navigator.platform||/windows ce/.test(t)||/mac/.test(t)?1:0},l=function(){return u.indexOf("BFT")>=0?6:"3"===s||d?4:"qqchat"===s?5:"2"===a?2:0},p=function(){return"4"===i?4:"1"===i?1:"2"===i?2:"3"===i?3:0},v={getInfo:function(){return{os:q(),entrance:g(),scenes:l(),sub_scenes:p()}},init:function(){var e=!/ke.qq.com/.test(document.referrer.replace(/\?.*/,""))||s;/qzone.qq.com/.test(document.referrer)?n.set(f,"1"):e&&n.del(f),"qqchat"!==s&&/CLIENT/.test(c)?n.set(m,"1"):e&&n.del(m)}};o.exports=v});
/*!edu_modules/edu-pay/db.courseOperation*/
;define("edu_modules/edu-pay/db.courseOperation",function(e,t,o){var n=e("edu_modules/edu-db/edu-db");n.extend({checkPayState:n.httpMethod({url:"/cgi-bin/paycheck",noNeedLogin:!0}),checkPkgPayState:n.httpMethod({url:"/cgi-bin/paycheck_cpkg",noNeedLogin:!0}),getPayToken:n.httpMethod({url:"/cgi-bin/paytoken",noNeedLogin:!0}),getPkgPayToken:n.httpMethod({url:"/cgi-bin/paytoken_cpkg",noNeedLogin:!0}),getInstallPayToken:n.httpMethod({url:"/cgi-bin/paytoken_installment",noNeedLogin:!0}),getEnterprisePayToken:n.httpMethod({url:"/cgi-bin/paygroup/paytoken",noNeedLogin:!0}),getEnterprisePkgPayToken:n.httpMethod({url:"/cgi-bin/paygroup/paytoken_cpkg",noNeedLogin:!0}),getEnterpriseInstallPayToken:n.httpMethod({url:"/cgi-bin/paygroup/paytoken_installment",noNeedLogin:!0}),getPayConfig:n.httpMethod({url:"/cgi-bin/tool/get_configure"}),getPayTokenWeixin:n.httpMethod({url:"/cgi-bin/paytoken_m",noNeedLogin:!0}),getApplyInfo:n.httpMethod({url:"/cgi-bin/tool/get_user_apply_info"}),getUserApplyInfo:n.httpMethod({url:"/cgi-bin/tool/get_user_apply_info"}),getPkgApplyInfo:n.httpMethod({url:"/cgi-bin/tool/get_course_package_user_apply_info"}),setApplyInfo:n.httpMethod({url:"/cgi-bin/tool/set_user_apply_info",type:"POST"}),applyFree:n.httpMethod({url:"/cgi-bin/apply_course_sect",type:"POST",noNeedLogin:!0}),payConfirm:n.httpMethod({url:"/cgi-bin/payConfirm",type:"POST"}),pkgPayConfirm:n.httpMethod({url:"/cgi-bin/payConfirm_cpkg",type:"POST"}),installPayConfirm:n.httpMethod({url:"/cgi-bin/payConfirm_installment",type:"POST"}),checkTimeConflict:n.httpMethod({url:"/cgi-bin/tool/check_apply_time_conflict",type:"POST",noNeedLogin:!0}),notifyStatus:n.httpMethod({url:"/cgi-bin/tool/user_notify_status",type:"POST"}),remindTime:n.httpMethod({url:"/cgi-bin/passcard/remind",type:"POST"}),receiveSend:n.httpMethod({url:"/cgi-bin/user/accept_present_course",type:"POST"}),receiveSendOld:n.httpMethod({url:"/cgi-bin/user/accept_course",type:"POST"}),reserve:n.httpMethod({url:"/cgi-bin/reserve_course_sect",type:"POST"}),applyCourseUseCdkey:n.httpMethod({url:"/cgi-proxy/cdkey/user_exchange",type:"POST"}),checkCdkey:n.httpMethod({url:"/cgi-bin/train_course/check_cdkey",type:"POST"}),getCourseDiscountList:n.httpMethod({url:"/cgi-bin/discount/list_suitable_discounts"}),payWithBalance:n.httpMethod({url:"/cgi-bin/pay_access/pay_with_balance",type:"POST"}),payCommonToken:n.httpMethod({url:"/cgi-bin/pay_access/paytoken",type:"POST"})}),o.exports=n});
/*!edu_modules/modal/modal*/
;define("edu_modules/modal/modal",function(require,exports,module){var $=require("jquery"),Observer=require("@tencent/im-observer/observer"),isDebug=!0,modalIndex=0;$.template=function(tmpl,data){var evalExp=function(exp,scope){return function(){var __res;try{with(scope)__res=eval(exp)}catch(e){}return"undefined"==typeof __res?"":__res}.call(scope)},position=0,stacks=[!0],regexp=/\{if ([^\}]+)\}|\{\/if\}|\{else\}|\{else if ([^\}]+)\}/gi,res="";return tmpl.replace(regexp,function(t,e,s,n){var o=stacks.pop();return o&&(res+=tmpl.substr(position,n-position)),position=n+t.length,e?(stacks.push(o),stacks.push(o&&evalExp(e,data)?!0:!1),stacks.push(stacks[stacks.length-1])):s?stacks.push(stacks[stacks.length-1]?!1:evalExp(s,data)?!0:!1):/\{else\}/i.test(t)?stacks.push(stacks[stacks.length-1]?!1:!0):stacks.pop(),""}),stacks.pop()&&(res+=tmpl.substr(position)),tmpl=res,tmpl=tmpl.replace(/\{\$([^\{\}]+)\}/g,function(t,e){return evalExp(e,data)})};var templateBg='<div tabindex="-1" class="overlay js-modal-bg"></div>',templateModal='<div class="js-modal modal  {$className} {if icon}modal--msg{/if} {if scroll}modal--scroll{/if}" style="{if width}width:{$width}px;{/if}{if style}{$style}{/if}" >';templateModal+="{if !nohead}",templateModal+='  <div class="modal-hd"><h3 class="hd-tt js-modal-title">{$title}</h3><a href="javascript:void(0);" class="js-modal-close btn-close" {if !isClose}style="display:none;"{/if} title="关闭">×</a></div>',templateModal+="{/if}",templateModal+="{if !body}",templateModal+='  <div class="modal-bd {if padding}modal-bd--padding{/if}" style="{if height}height:{$height}px;{/if}">',templateModal+="  {if icon}",templateModal+='      <div class="bd-msg"><i class="icon-font icon-msg-large i-{$icon}"></i>',templateModal+='      <p class="msg-text">{$content}</p></div>',templateModal+="  {else}",templateModal+="      {$content}",templateModal+="  {/if}",templateModal+="  </div>",templateModal+='  <div class="modal-ft">',templateModal+='  <a href="javascript:void(0);" title="{$txtYes}" class="js-modal-yes btn-default {if !enableYes} btn-disabled{/if}" {if !isYes}style="display:none;"{/if}>{$txtYes}</a>',templateModal+="  ",templateModal+='  <a href="javascript:void(0);" title="{$txtNo}" class="js-modal-no btn-weak {if !enableNo} btn-disabled{/if}" {if !isNo}style="display:none;"{/if}>{$txtNo}</a>',templateModal+="  </div>",templateModal+="{else}",templateModal+="  {$body}",templateModal+="{/if}",templateModal+="",templateModal+="</div>";var addDrag=function(t,e,s){var n=!1,o=0,a=0,i=$(t),l=$(e),c=$.extend({opacity:.6,duration:.3},s),d=function(t){n&&l.css({left:t.pageX-o+"px",top:t.pageY-a+"px"})},r=function(){n=!1,l.css({transition:"none",opacity:"1"}),$(document.body).off("mousemove",d)};i.mousedown(function(t){n=!0,o=t.pageX-parseInt(l.css("left")),a=t.pageY-parseInt(l.css("top")),l.css({transition:"opacity "+c.duration+"s ease-in",opacity:c.opacity}),$(document.body).mousemove(d).one("mouseup",r)})};$.fn.drag=function(t,e){t||(t=this),addDrag(this,t,e)};var Modal=function(t){this._index=modalIndex++;var e={title:"提示",className:"",style:"",content:"",txtYes:"确定",txtNo:"取消",icon:"",nohead:!1,body:"",hotkey:!0,isYes:!0,isNo:!0,isClose:!0,enableYes:!0,enableNo:!0,enableClose:!0,buttonsAlign:"right",enableDrag:!0,enableBgClose:!1,width:500,height:"",padding:!0,scroll:!1,yes:function(){},no:function(){},onClose:function(){Observer.trigger("dialog.close")},onOpen:function(){Observer.trigger("dialog.show")}};this.opts=$.extend(e,t),this._buttonState={};var s={submit:"txtYes",isDisabled:"enableYes",globalClass:"className",onAccept:"yes",onCancel:"no"};$.each(s,function(t,s){"undefined"!=typeof e[t]&&(e[s]=e[t])}),this.onAccept=this.yes,this.onCancel=this.no,this.async(this.opts.onOpen,this.$,function(){this._update().update()})};Modal.prototype={$:null,$bg:null,$btnYes:null,$btnNo:null,_index:0,_buttons:["enableYes","enableNo","enableClose"],_buttonState:null,opts:null,hotkeyCallback:function(t){if(this.opts.enableBgClose&&t.target===this.$bg[0])return this.closeAsync(this.opts.no,t);if(this.opts.hotkey)return 27===t.which&&this.opts.enableNo?this.closeAsync(this.opts.no,t):13===t.which&&this.opts.enableYes?this.closeAsync(this.opts.yes,t):void 0},async:function(t,e,s){var n=this;if(t.length<2){var o=t.call(n,e);s.call(n,"undefined"==typeof o||o?!0:!1)}else t.call(n,e,function(t){s.call(n,"undefined"==typeof t||t?!0:!1)})},closeAsync:function(t,e){var s=this;this.saveButtonsState(),this.disableButtons(),this.async(t,e,function(t){return t?void(s.opts.enableClose&&s.async(s.opts.onClose,e,function(t){return t?void s.remove():s.recoverButtons()})):s.recoverButtons()})},title:function(t){return this.$.find(".js-modal-title").html(t),this},content:function(t){var e=this.$.find(".msg-text");return 0===e.length&&(e=this.$.find(".modal-bd")),e.html(t),this},remove:function(){this.$.remove(),removeHotkeyCallback(this._hotkeyCallback);var t=$(".js-modal");return 0===t.length?this.$bg.remove():void this.$bg.after(t.eq(t.length-1))},update:function(){return this.$.css({marginTop:"-"+parseInt(this.$.height()/2)+"px",marginLeft:"-"+parseInt(this.$.width()/2)+"px"}),this.$.show(),this},recoverButtons:function(){var t=this;return $.each(t._buttons,function(e,s){t[s](t._buttonState[s])}),this},saveButtonsState:function(){var t=this;return $.each(t._buttons,function(e,s){t._buttonState[s]=t.opts[s]}),this},disableButtons:function(){var t=this;return $.each(["enableYes","enableNo"],function(e,s){t[s](!1)}),this},_update:function(){var t=this;return this.$?this.$.show():(this.$bg=$(".js-modal-bg"),0===this.$bg.length&&(this.$bg=$(templateBg).appendTo($(document.body))),this.$=$($.template(templateModal,this.opts)),this.$.appendTo($(document.body)).before(this.$bg),this._hotkeyCallback=function(){t.hotkeyCallback.apply(t,arguments)},addHotkeyCallback(this._hotkeyCallback),this.opts.enableDrag&&this.$.find(".modal-hd").drag(this.$),this.bindEvents(),this)},bindBtnYesEvent:function(){var t=this;return this.$btnYes=this.$.find(".js-modal-yes").click(function(e){$(this).hasClass("btn-disabled")||t.closeAsync(t.opts.yes,e)}),this},bindBtnNoEvent:function(){var t=this;return this.$btnNo=this.$.find(".js-modal-no").click(function(e){$(this).hasClass("btn-disabled")||(e=e||{},e.btnName="cancel",t.closeAsync(t.opts.no,e))}),this},bindBtnCloseEvent:function(){var t=this;return this.$.find(".js-modal-close").click(function(e){t.$btnNo.hasClass("btn-disabled")||(e=e||{},e.btnName="close",t.closeAsync(t.opts.no,e))}),this},bindEvents:function(){return this.bindBtnYesEvent().bindBtnCloseEvent().bindBtnNoEvent()}},$.each(["enableYes","enableNo","enableClose"],function(t,e){Modal.prototype[e]=function(t){this.opts[e]=t;var s=t?"removeClass":"addClass";return"enableYes"===e&&this.$btnYes[s]("btn-disabled"),"enableNo"===e&&this.$btnNo[s]("btn-disabled"),this}}),$.each(["yes","no","onClose","onOpen"],function(t,e){Modal.prototype[e]=function(t){return this.opts[e]=t,this}}),$.each(["width","height"],function(t,e){Modal.prototype[e]=function(t){return"undefined"==typeof t?this.opts[e]:(this.opts[e]=t,this.$[e](t),this.update())}}),$(document.body).keydown(function(t){triggerHotkey(t)}).delegate(".js-modal-bg","click",function(t){triggerHotkey(t)});var hotKeyCallbacks=[],addHotkeyCallback=function(t){hotKeyCallbacks.push(t)},removeHotkeyCallback=function(t){$.each(hotKeyCallbacks,function(e,s){return s===t?(hotKeyCallbacks.splice(e,1),!1):void 0})},triggerHotkey=function(t){hotKeyCallbacks.length<1||hotKeyCallbacks[hotKeyCallbacks.length-1](t)},modalConfigs={alert:{title:"警告",content:"警告信息！",icon:"alert",isNo:!1,buttonsAlign:"right",enableBgClose:!1},retry:{txtYes:"重试",content:"是否重试？",icon:"alert",enableBgClose:!1},confirm:{title:"确认操作",icon:"alert",txtYes:"确认",content:"请确认是否操作？",enableBgClose:!1},success:{title:"成功提示",icon:"success",content:"操作成功！",isNo:!1},error:{title:"错误提示",icon:"alert",isNo:!1},help:{title:"帮助信息",icon:"info",content:"这是一条帮助信息。",isNo:!1}},modal=function(t){return new Modal(t)};$.fn.modal=function(t,e,s){var n=arguments.length;return this.click(function(){return 1===n?"object"==typeof t?(s=t,e="",t=t.type||""):(e=t,t="alert"):2===n&&(s=e||{},e=t,t=s.type||"alert"),t?modal[t](e,s):modal(s)})},$.each(modalConfigs,function(t,e){modal[t]=function(t,s){return modal($.extend({},e,{content:t||e.content},s))}}),$.modal=modal,$.Modal=Modal,$._alert=function(t,e,s){return $(".js-modal-bg, .js-modal").remove(),$.Dialog.remove(),s=$.extend({},s||{}),"function"==typeof e?(s.title="提示",s.onAccept=s.onCancel=e):s.title=e||"提示",window.top.$modal?window.top.$modal.alert(t,s):$.modal.alert(t,s)},$._loading=function(t,e,s){var n=$._alert(t,e,s),o=$('<div class="modal-loading"><div class="spin"></div><p>'+t+"</p></div>");return n.$.find(".bd-msg").empty().append(o),n.$.find(".modal-loading .spin").spin(!0),n},module.exports=modal});
/*!edu_modules/edu-report/edu-report-util*/
;define("edu_modules/edu-report/edu-report-util",function(e,r,t){var u=e("edu_modules/edu-report/edu-report"),o=/[^|]+/gi,i=/(^|&)?([^&=]*)=([^&]*)(&|$)/gi,d=/(?:^|&)([^&=]*)=([^&]*)(?:&|$)/i;u.parseReportAttr=function(e){if(e){var r,t,u,a,f=e.match(o);if(f){r=[];for(var n=0,p=f.length;p>n;n++)if(u=f[n].match(i)){t={};for(var h=0,c=u.length;c>h;h++)u[h]&&(a=u[h].match(d),a[1]&&(t[a[1]]=a[2]||""));r.push(t)}}return r}},t.exports=u});
/*!edu_modules/report.pagelocation/pagelocation.register*/
;define("edu_modules/report.pagelocation/pagelocation.register",function(e,r,t){function o(e){return d.hasOwnProperty(e)}function u(e){return d[e]}function a(e,r){return o(e)?void 0:(d[e]=n.extend({},l,r),!0)}var n=e("jquery"),i=e("edu_modules/edu-report/edu-report");e("edu_modules/edu-report/edu-report-util");var d={},p="_origin",c="cors-path",l={getCookieKey:function(e){return e?e+p:!1},getRecordValue:function(e){var r=e.attr(c),t=i.parseReportAttr(r)||[];return t[0]},isSimilarRecord:null};a("course",{getRecordValue:function(e){var r=e.attr("report-tdw"),t=i.parseReportAttr(r)||[];t=t[0]||{};var o=t.module||i.getReportData("module"),u=t.ver1||i.getReportData("ver1"),a=t.ver3||i.getReportData("ver3");return{cid:+u,ext:{pagelocation:o+","+a}}},isSimilarRecord:function(e,r){return e.cid===r.cid}}),t.exports={isValidName:o,getOperator:u,registerOperators:a}});
/*!edu_modules/report.pagelocation/report.pagelocation*/
;define("edu_modules/report.pagelocation/report.pagelocation",function(e,o,t){var a=e("jquery"),r=e("edu_modules/edu-report/edu-report"),i=e("edu_modules/report.pagelocation/pagelocation.register"),n={register:i,nameAttr:"cors-name",maxRecords:5,getPageLocation:function(e){if(i.isValidName(e)){var o=i.getOperator(e),t=a.cookie.get(o.getCookieKey(e))||"[]",r=JSON.parse(t);return a.isArray(r)?r:[]}},setPageLocation:function(e,o){a.cookie.set(e,JSON.stringify(o),"ke.qq.com","/","48")},updatePageLocation:function(e,o,t){var a=e.length>=n.maxRecords?0:null;if("function"==typeof t)for(var r=0,i=e.length;i>r;++r)if(t(e[r],o)){a=r;break}null!==a&&e.splice(a,1),e.push(o)},addRecord:function(e){var o=e.attr(n.nameAttr);if(o&&i.isValidName(o)){var t=i.getOperator(o),a=t.getRecordValue(e),r=n.getPageLocation(o);n.updatePageLocation(r,a,t.isSimilarRecord),n.setPageLocation(t.getCookieKey(o),r)}}};r.getPageLocation=n.getPageLocation,t.exports=n});
/*!/edu_modules/edu-pay/checkTimeConflict.tpl_tpl*/
;define("/edu_modules/edu-pay/checkTimeConflict.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="icon-font i-info icon-msg-large"></div><p class="msg conflict-msg"> 上课时间与已报名课程冲突。您可以选择继续报名或<a class="nor-link" href="//ke.qq.com/myCourse/index.html#sid=signup" target="_blank">取消冲突课程</a>。</p>'),_$out_.join("")}}});
/*!/edu_modules/edu-pay/paySucc.tpl_tpl*/
;define("/edu_modules/edu-pay/paySucc.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[],flag=!1,packageId=packageId||null;return 1!==c.flag&&1==payid&&"undefined"==typeof qunid&&(flag=!0),_$out_.push('<i class="icon-font i-success icon-msg-large ',flag?"icon-msg-large-ex":"",'"></i><div class="mrl22 ',flag?"mrl22-ex":"",'"> <div class="part-left ',flag?"part-left-ex":"",'"> <div class="part part-title">'),_$out_.push(1===payid||isweixin?"报名成功":'购买成功，机构已将您加入付费服务群[<a href="/faq.html#/2/2/9" target="_blank" class="nor-link">?</a>]'),_$out_.push(" </div> "),1===c.flag&&_$out_.push(' <ul class="part-list"><li class="part part-content">您已报名多门上课时间冲突的课程，您可以在<a class="nor-link" href="//ke.qq.com/myCourse/index.html#sid=signup" report-tdw="action=window-coursemanege&ver1=',packageId||courseId,'" target="_blank">课程管理</a>中进行管理。</li></ul> '),_$out_.push(" "),"undefined"!=typeof qunid&&0!=qunid&&(_$out_.push(" "),1===payid?_$out_.push(' <ul class="part-list"> <li class="part part-content">您还可以加入课程讨论群，获得专业辅导：</li> </ul> <div class="part part-content"><i class="icon-font i-group"></i> <a href="javascript:void(0)" report-tdw="action=window-qun&ver1=',packageId||courseId,'" id="js_addgroup_tencent" class="part-action nor-link">',userInfo.gname,"</a>(",qunid,") </div> "):_$out_.push(' <ul class="part-list"> <li class="part part-content"> <span class="part-content-desc">付费服务群：</span><i class="icon-font i-group"></i><a href="javascript:void(0)" report-tdw="action=window-qun&ver1=',packageId||courseId,'" id="js_discuss_tencent" class="part-action nor-link">',userInfo.gname,"</a>(",qunid,") </li> </ul> "),_$out_.push(" ")),_$out_.push(" "),1===payid||"undefined"!=typeof packageId&&packageId||(_$out_.push(' <ul class="part-list"> <li class="part part-row part-row-desc"> '),_$out_.push(1==user_notify_status?" 您的手机号已屏蔽了开课提醒，建议重新开启 ":" 我们会在上课前通过QQ、短信或邮件通知您 "),_$out_.push(" "),"undefined"!=typeof qunid&&0!=qunid&&_$out_.push(' <a class="part-action nor-link" id="part-expand">开课提醒设置</a> '),_$out_.push('</li> </ul> <div class="part-form'),("undefined"==typeof qunid||0==qunid)&&_$out_.push(" part-form-expand"),_$out_.push('"> <div class="part part-row">QQ<span class="part-row-cont">',userInfo.qq,'</span></div> <div class="part part-row"> <label for="js_pay_mobile">手机</label> <input maxlength="11" class="ipt" type="text" id="js_pay_mobile" value="',"undefined"!=typeof userInfo.mobile?userInfo.mobile:"",'" placeholder="填写手机号"/> <div class="error-tip error-tip-hidden"><span><i></i>格式不正确</span></div> </div> <div class="part part-row part-id-code"> <input maxlength="6" class="ipt" type="text" id="js_id_code" placeholder="填写验证码"/> <a href="javascript:void(0) " class="btn-weak btn" id="js_id_code_btn" >获取验证码</a> <div class="error-tip error-tip-hidden"><span><i></i>验证码错误</span></div> </div> <div class="part part-row"> <label for="js_pay_email">邮箱</label> <input class="ipt" type="text" id="js_pay_email" value="',"undefined"!=typeof userInfo.email?userInfo.email:"",'" placeholder="填写常用邮箱"/> <div class="error-tip error-tip-hidden"><span><i></i>格式不正确</span></div> </div> <div class="part part-row"> <button class="btn-weak part-info-submit" id="js_pay_submit">确定</button> </div><!-- <div class="part part-link"> <a href="/faq.html#/0/1" target="_blank" class="nor-link hide">下载新版QQ，畅享在线教育新体验</a> </div> --> <input type="hidden" id="moblie-no-change-token" value="',"undefined"!=typeof userInfo.token?userInfo.token:"",'"> </div> ')),_$out_.push(' </div> <div class="part-right ',flag?"part-right-ex":"",'"> <div class="ptab"> <div class="ptab-title"> <a class="active" href="javascript:void(0);">APP下载</a><a href="javascript:void(0);">微信公众号</a> </div> <div class="ptab-panel-wrap"> <div class="ptab-panel"><div class="qrcode-bg"></div></div> <div class="ptab-panel" style="display: none;"> <img width="100" height="100" data-src="//9.url.cn/edu/edu_modules/edu-ui/img/nohash/wechat-qrcode-source.jpg" alt="微信公众号"> </div> </div> </div> <p class="qrcode-title">获取精选课程推荐</p> </div></div><div class="modal-ft"> <a href="javascript:void(0);" title="继续找课" report-tdw="action=window-morecourse&ver1=',packageId||courseId,'" class="modal-ft-btn--link js-pay-continue">继续找课</a> <a href="javascript:void(0);" title="立即学习" report-tdw="action=window-study&ver1=',packageId||courseId,'" class="btn-default js-pay-studynow">立即学习</a></div>'),_$out_.join("")}}});
/*!edu_modules/edu-pay/applyPay*/
;define("edu_modules/edu-pay/applyPay",function(e,r,o){function a(e,r){function o(){if(0!==R.price&&2!=R.souce&&F.pflag){var e=j.checkTimeConflict(F);e=e.replace("继续报名","继续购买"),e=e.replace("已报名课程","已购买课程"),I.Dialog.confirm(e,{submit:"仍然购买",onAccept:function(){r&&r()},onCancel:function(){N.openFail&&N.openFail({retcode:10002}),l({})},onClose:function(){N.openFail&&N.openFail({retcode:10003}),l({})}})}else r&&r()}e||(e={}),x.checkTimeConflict({param:{cid:e.courseId,term_id:e.term_id},succ:function(e){F=e.result||F,o()},err:function(e){return 1e5===e.retcode||100021===e.retcode||-1001===e.retcode||111===e.retcode?p():o(),!0}})}function t(){J.href=i()}function n(e){return-1!==["agency_recharge","cd_key"].indexOf(e.type)}function i(e){var r=R.presaleInfo,o=r&&r.presale_pay_state,a=R.group_id;if(a)return"//ke.qq.com/groupResult.html?group_id="+a+"&pay_succ=1";var t="";if(0===o||1===o)return J.href;if(n(R)){var i=location.pathname,c=location.search,d=location.hash;return c?c+="&":c="?",c=c+"fid="+R.productId+"&sid="+R.orderId+"&token="+e,"//ke.qq.com"+i+c+d}return R.packageId?t="//ke.qq.com/course/package/"+R.packageId:t+="//ke.qq.com/course/"+R.courseId,t=t+"?platform="+R.platform+"&pagelocation="+R.pagelocation,A&&(t+="&pay_succ=1"),R.term_id&&(t+="#term_id="+R.term_id),t}function c(){var e=N,r=e.isShowSuccWin;r===!0?d():t(e)}function d(){function e(){var e;return R.packageId?e="//ke.qq.com/user/index/index.html#sid=plan":(e="//ke.qq.com/user/index/index.html#cid="+R.courseId,e+=R.term_id?"&tid="+R.term_id+"&fr=2":"&fr=2"),e}function r(){function r(){var e,r=document.referrer,o={},a=/ke.qq.com\/course\/[(list)|(\d+)]/.test(r),t=location.pathname.split("/"),n=t[t.length-1],i=!1;if(a){var c=P.get("course_report_"+n);c&&(o=JSON.parse(c),i=!0)}if(!i){e=C.getPageLocation("course");for(var d=0,s=e.length;s>d;++d){var u=e[d];u.cid==R.courseId&&(o=u.ext)}}return o}T.init({data:R,tmpl:j.paySucc,emailNode:"#js_pay_email",idCodeNode:"#js_id_code",idCodeBtn:"#js_id_code_btn",mobileNode:"#js_pay_mobile",submitNode:"#js_pay_submit",hadProhibit:1==R.user_notify_status,confirmOpt:{title:o,globalClass:"pay-succ",confirm:!0},onShow:function(){I(".part-form").hasClass("part-form-expand")||I("#js_pay_mobile").focus(),I("#part-expand").on("click",function(){var e=I(".part-form");I(this).text(e.hasClass("part-form-expand")?"开课提醒设置":"收起"),e.toggleClass("part-form-expand")}),I(".js-pay-continue").click(function(){window.open("/course/list","_blank"),I.Dialog.remove()}),I(".js-pay-studynow").click(function(){window.open(e(),"_blank"),I.Dialog.remove()}),I(".pay-succ").delegate("#js_addgroup_tencent, #js_discuss_tencent","click",function(){w.join(R.qunid,I.cookie.uin())}),I(".tips .tips-er-code").hover(function(){I(this).find(".tips-er-code-float").show()},function(){I(this).find(".tips-er-code-float").hide()})},submitDataFilter:function(e){return e.cid=R.courseId,e.term_id=R.term_id,e},onValidatedFail:function(){var e=I(".part-form");e.hasClass("part-form-expand")||(I("#part-expand").text("收起"),e.toggleClass("part-form-expand"))}}).show(),C.tdw(I.extend({action:"ApplySuccess",module:R.packageId?"coursegroup":"course",opername:"Edu",uin:I.cookie.uin(),ver1:R.packageId||R.courseId,ver2:R.has_record?2:1},r())),I.cookie.uin()||BJ_REPORT.debug({msg:"报名成功上报没uin",ext:{msid:2064167}})}R.c=F;var o="报名成功";R&&(R.price>0||location.href.indexOf("#sid=signup")>0)&&(2!=R.source||2===R.source&&10==R.pay_status)&&(o="购买课程"),x.notifyStatus({succ:function(e){R.user_notify_status=e.result.status,r()},err:function(){R.user_notify_status=0,r()}}),R.couponId&&(C.tdw({module:"youhuiquan",action:"coursepage_realpay",ver3:R.price,ver1:R.courseId}),C.tdw({module:"index",action:2!=R.type?"payment_coupon_livecourse_result":"payment_coupon_videocourse_result",ver3:R.price,ver1:R.courseId}))}function s(){var e,r;R.packageId?(e="checkPkgPayState",r={pkg_id:R.packageId}):(e="checkPayState",r={courseid:R.courseId,term_id:R.term_id,passcard:R.passcardClass?1:0}),x[e]({param:r,succ:function(e){var r=e.result.order_state;if(5===r)R.passcardClass?f({stateSrc:"server"},u):u({stateSrc:"server"});else{var o="unknown";1==r||4==r||10==r||11==r?o="nopay":2==r||3==r||6==r||7==r?o="confirm":(8==r||9==r)&&(o="back"),N.err&&N.err({orderState:o})}},err:function(){N.err&&N.err({orderState:"confirm"})}})}function u(e){var r,o,a,t;e||(e={}),R.packageId?(r="pkgPayConfirm",o="getPkgApplyInfo",t=a={pkg_id:R.packageId,platform:R.platform,from:R.from,pagelocation:R.pagelocation}):"undefined"!=typeof R.instalmentSeq?(r="installPayConfirm",N.succ&&N.succ(e),t=a={term_id:R.term_id,installment_seq:R.instalmentSeq}):(r="payConfirm",o="getApplyInfo",a={courseid:R.courseId,term_id:R.term_id,passcard:R.passcardClass?1:0},t={cid:R.courseId,platform:R.platform,from:R.from,pagelocation:R.pagelocation}),x[o]({param:t,succ:function(r){R.userInfo||(R.userInfo={}),R.has_record=r.result.has_record;var o=r.result,a=R.userInfo;a.mobile=o.mobile,a.qq=I.cookie.uin(),a.email=o.email,a.gname=o.gname,a.token=o.token,o.gcode&&(R.qunid=o.gcode,e.discussQun=o.gcode),N.succ&&N.succ(e),2!==N.param.type&&c()},err:function(){return R.userInfo||(R.userInfo={}),R.userInfo.qq=I.cookie.uin(),R.has_record=0,N.succ&&N.succ(e),c(),!0}}),0!==R.price&&"server"!==e.stateSrc&&2!==R.source&&x[r]({param:a})}function p(){N.nologin?N.nologin():b.show({succ:function(){location.reload()},close:function(){R.price&&N.openFail&&N.openFail({retcode:1e5}),N.err&&N.err({})}})}function l(e){var r;if(E[106457]="您已接受《"+R.name+"》第"+R.term_id+"期的赠送，您可进入我的报名记录（可直接点击进入）里查询并上课",e.retcode)if(r=E[e.retcode],r||(r="服务器繁忙，请稍后再试("+e.retcode+")"),1678136==e.retcode){var o=I.modal({title:"抢购提示",width:"580",icon:"alert",content:"当前抢购人数过多，请稍后再试。(5s后弹窗自动关闭)",isYes:!1,isNo:!1,isClose:!1,enableBgClose:!1});setTimeout(function(){o.remove()},5e3)}else{var a=function(){return 1678143===e.retcode?void location.replace(location.href.replace(/group_id=\d+&?/,"")):void location.reload()};I.modal.alert(r,{onAccept:a,onClose:a})}return N.err&&N.err(e),!0}function m(){var e=null;I(document).off(".ptab").on("mouseenter.ptab",".ptab-title a",function(){var r=I(this);if(!r.hasClass("active")){r.addClass("active").siblings("a").removeClass("active");var o=r.parent().siblings(".ptab-panel-wrap").find(".ptab-panel").eq(r.index()).show();o.siblings("div").hide(),e||(e=o.find("img"),e.length&&!e.data("a")&&e.prop("src",e.data("src")).data("a",1))}})}function f(e,r){function o(){for(var o=i.find(".mod-choose-time__li_current"),a=[],t=0,n=o.length;n>t;t++)a.push(I(o[t]).data("termid"));x.remindTime({param:{tids:JSON.stringify(a),cid:R.courseId},succ:function(){r&&r(e)},err:function(){return!0}})}for(var a=R.terms.slice(),t=0;t<a.length;t++)0===a[t].term_id?a.splice(t,1):a[t].isRemind=!0;var n=j.remindTime({terms:a},{getTermTimeString:I.render.courseTime});I.Dialog.alert({body:n,title:"上课提醒",type:"succ",globalClass:"remindt",onAccept:function(){o()},onCancel:function(){o()},onClose:function(){o()}});var i=I(".remindt");i.on("click",".mod-choose-time__li",function(){I(this).toggleClass("mod-choose-time__li_current")})}function _(e,r,o){if(!e||!r)return{};o=o||{};var a=o.presale_pay_state,t=R.bargainInfo,n={discount:{cou_id:"cou_id",discount_id:"discount_id",redenvelope_price:"balance",group_id:"group_id"},course:{fid:"courseid",sid:"term_id"},agency_recharge:{fid:"productId",sid:"orderId"},cd_key:{fid:"productId"},course_package:{fid:"pkg_id"},report:["platform","from","pagelocation","pay_channel","ext"]},i=n.discount,c=n[r]||{},d=n.report,s={},u={},p={},l=I.inArray(a,[0,1])>-1;if(!l)for(var m in i)i.hasOwnProperty(m)&&e[i[m]]&&(s[m]=e[i[m]]);I.inArray(a,[5,8,300])>-1&&(s.presell_productid=o.product_id),t&&t.bargain_id&&(s={bargain_id:t.bargain_id}),N.limitCouponId&&(s={discount_id:N.limitCouponId});for(m in c)c.hasOwnProperty(m)&&(u[m]=e[c[m]]);for(u.type=l?"presell":r,m=0;m<d.length;m++){var f=d[m];e[f]&&(p[f]=e[f])}var _=e.platform;p.monitor={platform:_},p.platform=_;var g={discountinfo:JSON.stringify(s),productid:JSON.stringify(u),report:JSON.stringify(p),source:0,order_report:e.order_report||k()};return e.ext_msg&&(g.ext_msg=e.ext_msg),g}function g(e){var r=e.result.token||{};q.loadEnterPrise(function(){if(TEG&&TEG.Service&&TEG.Service.EnterprisePay){var e=new TEG.Service.EnterprisePay({appId:"1450008443",env:r.is_sandbox?"sandbox":void 0,isSeparatePage:!0,epExt:{backUrl:i(r.token_id),guideUrl:"//ke.qq.com/midas.html",native_wxpay:"true"},secure:!1,sessionType:"UNL",user:I.cookie.uin(),allowChannels:["wechat","bank","qqwallet"]});r.is_sandbox||(BJ_REPORT.debug({msg:"企业支付次数",ext:{msid:2532587}}),BJ_REPORT.report()),e.pay({token:r.token_id,tokenUrl:r.url_params})}else l({retcode:10001})})}function y(e){var r={courseid:R.courseId,term_id:R.term_id,passcard:R.passcardClass?1:0,order_report:k()};R.ext_msg&&(r.ext_msg=R.ext_msg),R.group_id&&(r.group_id=R.group_id);var o=B.platform,a={monitor:{platform:o},platform:o};r.report=JSON.stringify(a);var t={param:r,succ:function(e){var r=({param:e.result,succ:function(e){R.passcardClass?f(e,u):u(e)},cancel:function(e){e&&e.noQuery?(C.tdw({action:"pay-cancelAgreement",ver1:R.courseId}),N.cancel&&N.cancel(e)):s()},close:function(e){N.close&&N.close(e)},repay:function(){C.tdw({action:"pay-show-again",ver1:R.courseId}),h(N)}},e.result.is_sandbox);return A?void q.loadEnterPrise(function(){if(TEG&&TEG.Service&&TEG.Service.EnterprisePay){var o=new TEG.Service.EnterprisePay({appId:"1450008443",env:r?"sandbox":void 0,isSeparatePage:!0,epExt:{backUrl:i(e.result.token_id),guideUrl:"//ke.qq.com/midas.html",native_wxpay:"true"},secure:!1,sessionType:"UNL",user:I.cookie.uin(),allowChannels:["wechat","bank","qqwallet"]});r||(window.BJ_REPORT&&BJ_REPORT.debug({msg:"企业支付次数",ext:{msid:2532587}}),window.BJ_REPORT&&BJ_REPORT.report()),o.pay({token:e.result.token,tokenUrl:e.result.url_params})}else l({retcode:10001})}):void 0},err:function(e){return 1e5===e.retcode?p():(N.openFail&&N.openFail(e),l(e)),!0}};R.couponId&&(t.param.cou_id=R.couponId),R.discount_id&&(t.param.discount_id=R.discount_id),!!R.platform&&(t.param.platform=R.platform),!!R.from&&(t.param.from=R.from),!!R.pagelocation&&(t.param.pagelocation=R.pagelocation),n(R)?(t.param.orderId=R.orderId,t.param.productId=R.productId,t.param.balance=R.balance||0,t.param.ext=R.ext&&JSON.stringify(R.ext),R.couponId&&(t.param.cou_id=R.couponId),R.pay_channel&&(t.param.pay_channel=parseInt(R.pay_channel,10)),t.param=_(t.param,R.type),t.succ=g,x.payCommonToken(t)):R.packageId?(t.param={pkg_id:R.packageId,platform:R.platform||1,from:R.from||"",pagelocation:R.pagelocation||"",balance:R.balance||0,ext_msg:R.ext_msg||""},A?(t.param.pkg_id=t.param.pkg_id+"",t.param.balance=R.balance||0,t.param.ext=R.ext&&JSON.stringify(R.ext),R.couponId&&(t.param.cou_id=R.couponId),R.pay_channel&&(t.param.pay_channel=parseInt(R.pay_channel,10)),t.param=_(t.param,"course_package"),t.succ=g,x.payCommonToken(t)):x.getPkgPayToken(t)):"undefined"!=typeof R.instalmentSeq?(t.param.installment_seq=R.instalmentSeq,ajax=A?x.getEnterpriseInstallPayToken(t):x.getInstallPayToken(t)):A?(t.param.courseid=t.param.courseid+"",t.param.term_id=t.param.term_id+"",t.param.balance=R.balance||0,t.param.ext=R.ext&&JSON.stringify(R.ext),R.pay_channel&&(t.param.pay_channel=parseInt(R.pay_channel,10)),t.param=_(t.param,"course",e),t.succ=g,x.payCommonToken(t)):(R.ext_msg&&(t.param.ext_msg=R.ext_msg),t.param.order_report=k(),x.getPayToken(t))}function v(e){R.passcardClass||R.packageId||n(R)?y(e):a({courseId:R.courseId,term_id:R.term_id},function(){y(e)}),R.couponId&&C.tdw({module:"index",action:2!=R.type?"payment_use_coupon_livecourse":"payment_use_coupon_videocourse",ver3:R.price,ver1:R.courseId})}function k(){var e=O.getInfo();return e.extend=JSON.stringify(I.extend({},e.extend,N&&N.order_reportor_extend)),JSON.stringify(e)}function h(e,r,o){N=e,R=I.extend({},N.param),R.presaleInfo=r,R.bargainInfo=o,v(r)}var I=e("jquery"),x=e("edu_modules/edu-db/edu-db"),b=e("edu_modules/edu-login/edu-login"),C=e("edu_modules/edu-report/edu-report"),S=e("edu_modules/reportor/index"),q=(e("edu_modules/check/check"),e("edu_modules/edu-pay/loadPayScript")),w=e("edu_modules/group-tencent/group-tencent"),T=e("edu_modules/edu-pay/notify"),P=e("edu_modules/local.data/local.data"),E=e("edu_modules/edu-pay/errWordings"),O=e("edu_modules/order-info/index"),J=location;e("edu_modules/edu-pay/db.courseOperation"),e("edu_modules/modal/modal"),e("edu_modules/report.pagelocation/report.pagelocation");var N,R,j={checkTimeConflict:e("/edu_modules/edu-pay/checkTimeConflict.tpl_tpl"),paySucc:e("/edu_modules/edu-pay/paySucc.tpl_tpl"),remindTime:e("/edu_modules/edu-pay/remindTime.tpl_tpl")},F={},A=!0,B=S.getReportData();m(),o.exports={init:h}});
/*!edu_modules/edu-message.simple/edu-message.simple*/
;define("edu_modules/edu-message.simple/edu-message.simple",function(e){var a=e("jquery");return function(e,i){if(e){i=i||{};var n="message-box-simple ";i.className&&(n+=i.className);var s=a('<div class="'+n+'">'+e+"</div>").hide();a(document.body).append(s),s.fadeIn(i.duration||100,function(){setTimeout(function(){s.fadeOut(i.duration||100,function(){s.remove()})},i.wait||2e3)})}}});
/*!agency/agencyReact/mod.mask*/
;define("agency/agencyReact/mod.mask",function(t,e,i){function n(){r.appendTo(document.body),window._reactMASK={allocMask:function(t){return new a(t)},show:function(){h.show()},hide:function(){h.hide()}}}function o(t){return t=t||"js-react-mask",s('<div class="'+t+'"></div>').css({background:"rgba(0,0,0,.6)",position:"fixed",top:0,left:0,right:0,bottom:0,"z-index":997})}function a(t){s.extend(this,d,t),this.id=c++,this.$mask=o().hide().appendTo(r)}var s=t("jquery"),c=0,d={},r=s('<div class="js-react-mask-wrapper"></div>'),h=o("js-react-mask js-react-mask--only").hide().appendTo(r);s.extend(a.prototype,{show:function(t){var e=this;this.$mask.show(),setTimeout(function(){e.locate(t)})},hide:function(){this.$mask.hide()},locate:function(){var t=s("#js-react-frame")[0].contentWindow.document,e=s(t).find(".im-dialog"),i=s("#js-react-frame").offset(),n=(s(window).width()-e.width())/2+s(window.document).scrollLeft()-i.left,o=(s(window).height()-e.height())/2+s(window.document).scrollTop()-i.top,a=o+e.height()-s("#js-react-frame").height();a>0&&(o-=a),n=Math.max(n,0)+"px",o=Math.max(o,0)+"px",e.css({transform:"none",position:"fixed",top:0,left:0,marginTop:o,marginLeft:n})}}),i.exports={init:n}});
/*!agency/agencyReact/mod.main*/
;define("agency/agencyReact/mod.main",function(e){function n(){var e=t.bom.query("frame"),n="";return e&&(n="//ke.qq.com/agency-react/"+e+".html",location.search.length>21&&(n+=location.search.toLowerCase().replace("frame=refund_detail&","")),location.hash&&(n+=location.hash)),n}function o(e){return e&&e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.body?e.contentWindow.document.body:null}function i(){var e=r[0],n=o(e);n&&h!==n.scrollHeight&&(h=n.scrollHeight,e.style.height=h+"px")}function a(){c=t("#mainBox"),window.LoginProxy=d,window.ApplyPay=l,window.showSuccessMsg=function(e){var n=t('<div class="mg-toast"><i class="icon-font i-success"></i>'+e+"</div>").appendTo(document.body);n.css("margin-left",-n.width()/2),n.delay(1200).fadeOut(3e3,function(){n.remove()})},window.showImgModal=function(e){if(e){t.modal({className:"modal--loading",width:100,nohead:!0,enableBgClose:!0,enableDrag:!1,content:'<div class="icon-loading" /><div class="loading-text">图片加载中 ...</div>',onClose:function(){t.Dialog.remove()}});var n=new Image;n.onload=function(){var n=window.innerHeight-u,o=window.innerWidth-u,i=Math.min(this.height,n),a=Math.min(this.width,o,i*(this.width/this.height));t.Dialog.remove(),t.modal({className:"img-dialog",width:a,enableBgClose:!0,enableDrag:!1,content:'<img src="'+e+'" />',onClose:function(){t.Dialog.remove()}})},n.onerror=function(){t.Dialog.remove(),t.Dialog.alert("图片加载失败，请稍后重试。")},n.src=e}},r=t('<iframe id="js-react-frame"></iframe>').css({border:"none",overflow:"hidden",margin:0,padding:0,"min-height":"500px",width:"100%",position:"relative",scroll:"none","z-index":998}),r.attr("src",n()),c.html(r),setInterval(i,g),m.init()}var t=e("jquery"),d=e("edu_modules/edu-login/edu-login"),l=e("edu_modules/edu-pay/applyPay"),s=e("edu_modules/edu-message.simple/edu-message.simple");e("edu_modules/modal/modal"),t.Message=s;var c,r,m=e("agency/agencyReact/mod.mask"),g=450,u=100,h=0;a()});
window.__loadJs&&window.__loadJs('/agency/agencyReact/mod.main.779f707b.js?max_age=3153600',2);