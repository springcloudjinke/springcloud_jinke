window.__loadJs&&window.__loadJs('/agency/index/dealSearch2/mod.main.f2622124.js?max_age=3153600',1);
/*!core-js/library/modules/_core*/
;define("core-js/library/modules/_core",function(e,r,o){var n=o.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)});
/*!core-js/library/fn/json/stringify*/
;define("core-js/library/fn/json/stringify",function(r,i,n){var s=r("core-js/library/modules/_core"),e=s.JSON||(s.JSON={stringify:JSON.stringify});n.exports=function(){return e.stringify.apply(e,arguments)}});
/*!babel-runtime/core-js/json/stringify*/
;define("babel-runtime/core-js/json/stringify",function(e,n,i){i.exports={"default":e("core-js/library/fn/json/stringify"),__esModule:!0}});
/*!edu_modules/tdw/tdw*/
;define("edu_modules/tdw/tdw",function(t,n,e){function r(t){var n;return i(t),n=a(t),{fields:h,datas:n}}function i(t){t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t)&&f.each(t,function(t,n){f.each(n,function(t){d[t]||(d[t]=1,h.push(t))})}))}function o(t,n){return n=n||[],n.forEach(function(n){n.forEach(function(e,r){n[r]="string"==typeof e?~w.indexOf(t[r])?e.substring(0,v):e.substring(0,b):e})}),n}function a(t){var n,e=[];return t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t))?(f.each(t,function(t,r){n=[],r=f.extend({},p,r),f.each(h,function(t,e){n.push(r[e]||"")}),e.push(n)}),e):void 0}function c(t,n){var e={};n=n||l,f.each(["table","pr_ip","pr_t"],function(t,r){e[r]=n[r]||""}),t.datas=o(t.fields,t.datas),e.fields=JSON.stringify(t.fields),e.datas=JSON.stringify(t.datas),e.retype=2,l.beforeRequest(t)!==!1&&n.url&&(f.ajax({url:n.url,data:e,dataType:"jsonp"}).done(function(n){l[0===n.ret?"success":"error"](n,t)}).fail(function(n,e,r){l.fail(t,n,e,r)}),s(t.fields,t.datas))}function u(){var t=[],n=m.read();n.length<=l.slicer?c(r(n)):(f.each(n,function(n,e){t.push(e),n>0&&n%l.slicer===l.slicer-1&&(c(r(t)),t=[])}),t.length&&c(r(t)))}function s(t,n){if(y.table)try{if(window.localStorage&&1===parseInt(window.localStorage.getItem("tdwFlag"),10))for(var e=0,r=n.length;r>e;e++){for(var i={},o=0,a=t.length;a>o;o++)""!==n[e][o]&&(i[t[o]]=n[e][o]);y.table([i])}}catch(c){}}var f=t("jquery"),l={url:"/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},p={},d={},h=[],g=0,y=console||{},b=50,v=200,w=["url","refer"],m={pool:[],write:function(t){f.isPlainObject(t)?this.pool.push(t):f.isArray(t)&&Array.prototype.push.apply(this.pool,t)},read:function(){var t=this.pool;return this.pool=[],t}};e.exports={config:function(t,n){f.extend(p,t),f.extend(l,n),i(p)},report:function(t){m.write(t),g||(g=setTimeout(function(){u(),g=0},l.timer))},reportSync:function(t,n){n=f.extend({},l,n),c(r(t),n)},composer:r,request:c,getCommonData:function(t){return t?p[t]:p}}});
/*!edu_modules/local.data/local.data*/
;define("edu_modules/local.data/local.data",function(e,t,n){var r,a=function(){var e,t,n=document.getElementsByTagName("head")[0],r=window.location.hostname||"edu_database",a=new Date;if(n.addBehavior){try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window;</script><iframe src="/favicon.ico"></frame>'),t.close(),e=t.w.frames[0].document}catch(i){e=document}n=e.createElement("head"),e.appendChild(n),a.setDate(a.getDate()+30),n.addBehavior("#default#userData"),n.expires=a.toUTCString(),n.load(r);var o=n.XMLDocument.documentElement,c=o.attributes,u="prefix_____hack__",l=/^[-\d]/,s=new RegExp("^"+u),f=function(e){return l.test(e)?u+e:e},h=function(e){return e.replace(s,"")},d={length:c.length,notNativeCode:!0,getItem:function(e){return(c.getNamedItem(f(e))||{nodeValue:null}).nodeValue||o.getAttribute(f(e))},setItem:function(e,t){o.setAttribute(f(e),t),n.save(r),this.length=c.length},removeItem:function(e){o.removeAttribute(f(e)),n.save(r),this.length=c.length},clear:function(){for(;c.length;)this.removeItem(c[0].nodeName);this.length=0},key:function(e){return c[e]?h(c[e].nodeName):void 0}};return d}};try{r=window.localStorage,r||(r=a())}catch(i){r=a()}var o=function(e){var t=function(){return null};return e?{set:function(t,n){void 0!==this.get(t)&&this.remove(t);try{e.setItem(t,n)}catch(r){this.clear()}},get:function(t){var n=e.getItem(t);return null===n?void 0:n},remove:function(t){e.removeItem(t)},clear:function(){e.clear()},each:function(e){var t,n=this.obj(),r=e||function(){};for(t in n)if(r.call(this,t,this.get(t))===!1)break},obj:function(){var t,n,r={},a=0;if(e.isVirtualObject)r=e.key(-1);else for(t=e.length;t>a;a++)n=e.key(a),r[n]=this.get(n);return r},filter:function(t){var n,r,a=[],i=0;if(e.isVirtualObject)a=[];else for(n=e.length;n>i;i++)r=e.key(i),t.test(r)&&a.push({key:r,value:this.get(r)});return a}}:{set:t,get:t,remove:t,clear:t,each:t,obj:t,filter:t}}(r);n.exports=o});
/*!edu_modules/local.data/cross.local*/
;define("edu_modules/local.data/cross.local",function(e,n,i){function t(e,n){var i,t=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(e){m[e.id]&&(m[e.id](e),delete m[e.id])}function r(e){var n=e.origin,i=/(\.|^)qq\.com$/;if(i.test(n)){var t;try{t=JSON.parse(e.data)}catch(r){}t&&t.namespace===f&&("iframe-ready"===t.id?(w=!0,u.initCallback()):a(t))}}function o(e,n,i,t){s++,m[s]=t;var a={namespace:f,id:s,action:e,key:n,value:i};l.contentWindow.postMessage(JSON.stringify(a),"*")}function c(e){u=t(e,u);var n=document.createElement("div");window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),n.innerHTML='<iframe id="'+u.iframeId+'" src='+u.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(n),l=document.getElementById(u.iframeId)}function d(){return v&&w?!0:!1}var l,f="cross-domain-local-message",u={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},s=-1,m={},v=!1,w=!0;i.exports={init:function(e){if(!e.iframeUrl)throw"必须指定iframe的url";v||(v=!0,"complete"===document.readyState?c(e):window.onload=function(){c(e)})},set:function(e,n,i){d()&&o("set",e,n,i)},get:function(e,n){d()&&o("get",e,null,n)},remove:function(e,n){d()&&o("remove",e,null,n)},clear:function(e){d()&&o("clear",null,null,e)},filter:function(e,n){if(d()){var i=e.toString().replace(/(^\/)|(\/$)/g,"");o("filter",i,null,n)}},wasInit:function(){return v}}});
/*!edu_modules/local.data/power.local*/
;define("edu_modules/local.data/power.local",function(e,n,t){function o(e,n){var t,o=n||{};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function r(){var e=document.domain,n=u.whiteDomain,t=!1;if(!u.crossDomain)return!1;if(0===n.length)return!1;for(var o=0;o<n.length&&e!==n[o];o++);return o===n.length&&(t=!0),t}function i(e,n){return{get:function(t,o){n?e.get(t,function(e){o&&o(e&&e.value)}):o&&o(e.get(t))},set:function(t,o,r){try{n?e.set(t,o,r):(e.set(t,o),r&&r())}catch(i){"QuotaExceededError"===i.name&&window.BJ_REPORT&&BJ_REPORT.debug({msg:"local-write-overflow",ext:{msid:2514080}})}},remove:function(t,o){n?e.remove(t,o):(e.remove(t),o&&o())},filter:function(t,o){n?e.filter(t,function(e){o&&o(e&&e.value)}):o&&o(e.filter(t))},clear:function(t){n?e.clear(t):(e.clear(),t&&t())},wasInit:function(){return n?e.wasInit():!0},isCross:function(){return n}}}function a(e,n){o(e,u),r()?(l=c,l.init({iframeUrl:u.iframeUrl,initCallback:function(){n&&n(i(l,!0))}})):n&&n(i(l))}var l=e("edu_modules/local.data/local.data"),c=e("edu_modules/local.data/cross.local"),u={whiteDomain:[],iframeUrl:"",crossDomain:!1};t.exports={getLocal:a}});
/*!edu_modules/tdw-local/tdw-local*/
;define("edu_modules/tdw-local/tdw-local",function(e,o,n){function t(e,o){if(g.wasInit&&g.wasInit()){var n=o.fields,t=o.datas,a=d.inArray(v.seqName,n);d.each(t,function(e,o){var n=v.localPrefix+o[a];g.remove(n)})}}function a(e,o){d.isPlainObject(e)?o&&o(e):d.isArray(e)&&d.each(e,function(e,n){o&&o(n)})}function i(){return(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}function r(){g.filter(_,function(e){var o;e=e.slice(0,2);for(var n=0;n<e.length;n++)o=JSON.parse(e[n].value||"{}"),o.seq_number?(o.datas&&o.datas[0].push("local"),o.fields&&o.fields.push("source_from"),h.request(o)):g.remove(e[n].key)})}function c(){q.getLocal({whiteDomain:v.whiteDomain,iframeUrl:v.crossProxy,crossDomain:v.crossDomain},function(e){g=e,r()})}function s(e){a(e,function(e){e[v.seqName]=i()})}function u(){return p&&p.obj&&null!==p.obj()}function l(e,o){a(e,function(e){o.push(d.extend({seq_number:e[v.seqName]},h.composer(e)))})}function f(e){g.wasInit&&g.wasInit()&&d.each(e,function(e,o){var n=v.localPrefix+o[v.seqName];g.set(n,JSON.stringify(o))})}function m(e){var o=[];s(e),l(e,o),f(o)}var d=e("jquery"),w=e("edu_modules/tdw/tdw"),p=e("edu_modules/local.data/local.data"),q=e("edu_modules/local.data/power.local"),g={},h={},x=u(),v={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"tdw_seq",seqName:"seq_number"},_=/^tdw_seq/;h.composer=w.composer,h.getCommonData=w.getCommonData,h.config=w.config,h.request=w.request,h.config({},{success:t}),h.report=function(e){m(e),w.report(e)},h.reportSync=function(e,o){m(e),w.reportSync(e,o)},h.initLocal=function(e){d.extend(v,e),_=new RegExp("^"+v.localPrefix),x&&c()},n.exports=h});
/*!edu_modules/util.cookie/util.cookie*/
;define("edu_modules/util.cookie/util.cookie",function(n,e,i){function o(n){var e=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return e?decodeURIComponent(e[2]):""}var u=n("jquery"),e={get:o,set:function(n,e,i,o,u){var t=new Date;t.setTime(t.getTime()+(u?36e5*u:2592e6)),document.cookie=n+"="+e+"; expires="+t.toGMTString()+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},setSession:function(n,e,i,o){document.cookie=n+"="+e+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},del:function(n,e,i){document.cookie=n+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(i?i:"/")+"; "+(e?"domain="+e+";":"")},clear:function(){var n=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var e in n)document.cookie=n[e]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "},uin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin")||o("pt2gguin")||o("adid"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)},realUin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)}};u.cookie=e,u.reset_own_cookie=function(){u.cookie=e},i.exports=e});
/*!edu_modules/report.cookie/report.from*/
;define("edu_modules/report.cookie/report.from",function(e,o,t){function i(e){var o=!n.get(r.name);setTimeout(function(){var t={action:"From"};o&&(t.ver7=e.getReportData().ver4||"4"),e.tdw(t),n.setSession(r.name,1,r.domain,r.path)},0)}var n=e("edu_modules/util.cookie/util.cookie"),r={name:"tdw_first_visited",domain:"ke.qq.com",path:"/"};t.exports=i});
/*!edu_modules/edu-report/edu-report*/
;define("edu_modules/edu-report/edu-report",function(o,e,t){var r=o("edu_modules/tdw-local/tdw-local"),n=o("jquery"),c=o("edu_modules/report.cookie/report.from"),i={};r.config({opername:"Edu"},{table:"dc00149",pr_ip:"obj3",pr_t:"ts",slicer:4}),r.initLocal&&r.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),i.tdw=function(o,e){r[e?"reportSync":"report"](o)},i.toreport=function(){},i.config=function(o){r.config(n.extend({},o||{}))},i.getReportData=r.getCommonData,c(i),t.exports=i});
/*!/edu_modules/edu-tips/tips.tpl_tpl*/
;define("/edu_modules/edu-tips/tips.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="tmp-tip"> '),""!==type&&_$out_.push('<i class="tmp-tip-icon icon-font ',opt[type],'"></i>'),_$out_.push('<span class="tmp-tip-cnt">',tips,"</span></div>"),_$out_.join("")}}});
/*!@tencent/im-spinner/spinner*/
;define("@tencent/im-spinner/spinner",function(t,e,i){!function(t,o){"object"==typeof e?i.exports=o():"function"==typeof define&&define.amd?define(o):t.Spinner=o()}(this,function(){"use strict";function t(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,o){var n=["opacity",e,~~(100*t),i,o].join("-"),r=.01+i/o*100,s=Math.max(1-(1-t)/e*(100-r),t),a=p.substring(0,p.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[n]||(u.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",u.cssRules.length),d[n]=1),n}function o(t,e){var i,o,n=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<c.length;o++)if(i=c[o]+e,void 0!==n[i])return i;return void 0!==n[e]?e:void 0}function n(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function s(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function a(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t){return"undefined"==typeof this?new l(t):void(this.opts=r(t||{},l.defaults,h))}function f(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,o){function r(){return n(i("group",{coordsize:p+" "+p,coordorigin:-f+" "+-f}),{width:p,height:p})}function s(t,s,l){e(d,e(n(r(),{rotation:360/o.lines*t+"deg",left:~~s}),e(n(i("roundrect",{arcsize:o.corners}),{width:f,height:o.width,left:o.radius,top:-o.width>>1,filter:l}),i("fill",{color:a(o.color,t),opacity:o.opacity}),i("stroke",{opacity:0}))))}var l,f=o.length+o.width,p=2*f,c=2*-(o.width+o.length)+"px",d=n(r(),{position:"absolute",top:c,left:c});if(o.shadow)for(l=1;l<=o.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=o.lines;l++)s(l);return e(t,d)},l.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=n.childNodes[e+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var p,c=["webkit","Moz","ms","O"],d={},u=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),h={lines:12,length:6,width:4,radius:10,rotate:0,corners:1,color:"#929598",direction:1,speed:1,trail:60,opacity:.25,fps:20,zIndex:999,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},r(l.prototype,{spin:function(e){this.stop();var i,o,r=this,a=r.opts,l=r.el=n(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),f=a.radius+a.length+a.width;if(e&&(e.insertBefore(l,e.firstChild||null),o=s(e),i=s(l),n(l,{left:("auto"==a.left?o.x-i.x+(e.offsetWidth>>1):parseInt(a.left,10)+f)+"px",top:("auto"==a.top?o.y-i.y+(e.offsetHeight>>1):parseInt(a.top,10)+f)+"px"})),l.setAttribute("role","progressbar"),r.lines(l,r.opts),!p){var c,d=0,u=(a.lines-1)*(1-a.direction)/2,h=a.fps,m=h/a.speed,y=(1-a.opacity)/(m*a.trail/100),g=m/a.lines;!function v(){d++;for(var t=0;t<a.lines;t++)c=Math.max(1-(d+(a.lines-t)*g)%m*y,a.opacity),r.opacity(l,t*a.direction+u,c,a);r.timeout=r.el&&setTimeout(v,~~(1e3/h))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,r){function s(e,i){return n(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*f+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,f=0,c=(r.lines-1)*(1-r.direction)/2;f<r.lines;f++)l=n(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:p&&i(r.opacity,r.trail,c+f*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,n(s("#000","0 0 4px #000"),{top:"2px"})),e(o,e(l,s(a(r.color,f),"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var m=n(t("group"),{behavior:"url(#default#VML)"});return!o(m,"transform")&&m.adj?f():p=o(m,"animation"),l})});
/*!@tencent/im-jquery.spin/jquery.spin*/
;define("@tencent/im-jquery.spin/jquery.spin",function(n){var e=n("jquery"),i=n("@tencent/im-spinner/spinner");e.fn.spin=function(n,s){return this.each(function(){var t=e(this),r=t.data();r.spinner&&(r.spinner.stop(),delete r.spinner),n!==!1&&(n=e.extend({color:s||t.css("color")},e.fn.spin.presets[n]||n),r.spinner=new i(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});
/*!edu_modules/edu-tips/edu-tips*/
;define("edu_modules/edu-tips/edu-tips",function(t,e){var n=t("jquery"),i=t("/edu_modules/edu-tips/tips.tpl_tpl");t("@tencent/im-jquery.spin/jquery.spin");var s={type:"",tips:"",timeout:1500,timeFade:500,"static":!1},o={info:"i-info",success:"i-success",alert:"i-alert",help:"i-question",loading:"loading"},p=function(t){this._opts=n.extend({},s,t),this._$cnt=n(i(this._opts,o)),this.render()};p.prototype.render=function(){var t,e=this;this._$cnt.appendTo(n(document.body)),this._$cnt.css({marginTop:"-"+parseInt(this._$cnt.outerHeight()/2)+"px",marginLeft:"-"+parseInt(this._$cnt.outerWidth()/2)+"px"}).show(),t=this._$cnt.find(".icon-font"),"loading"===this._opts.type&&t.spin("small"),this._opts.static||(this.timer=setTimeout(function(){e.fadeOut(t)},e._opts.timeout))},p.prototype.fadeOut=function(t){var e=this;this._$cnt.fadeOut(this._opts.timeFade,function(){t&&t.spin(!1),e.remove()})},p.prototype.remove=function(){this._$cnt.remove(),clearTimeout(this.timer),this._opts.onClose&&this._opts.onClose()},e.tips=function(t,e){return new p(n.extend({tips:t},e))},e.info=function(t,e){return new p(n.extend({tips:t,type:"info"},e))},e.success=function(t,e){return new p(n.extend({tips:t,type:"success"},e))},e.alert=function(t,e){return new p(n.extend({tips:t,type:"alert"},e))},e.help=function(t,e){return new p(n.extend({tips:t,type:"help"},e))},e.loading=function(t,e){return new p(n.extend({tips:t,type:"loading"},e))}});
/*!edu_modules/bkn/index*/
;define("edu_modules/bkn/index",function(e,n,t){function o(e){if(!e)return"";for(var n=5381,t=0,o=e.length;o>t;++t)n+=(n<<5)+e.charAt(t).charCodeAt();return 2147483647&n}function r(){return u("p_lskey")||u("p_skey")||u("skey")}function u(e){if(f)return"";var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return n?decodeURIComponent(n[2]):""}function i(){var e=0==u("uid_type");return e?r():u("uid_a2")||r()}function d(){return o(i())}var c="object"==typeof window&&window&&"undefined"!=typeof document,f=!c;t.exports=d});
/*!edu_modules/check/check*/
;define("edu_modules/check/check",function(e,i,o){e("edu_modules/util.cookie/util.cookie");var u=e("jquery");o.exports={isWeixinUser:function(){var e=u.cookie.get("uid_type");return 2==e?!0:!1}}});
/*!@tencent/im-tab-man/tab*/
;define("@tencent/im-tab-man/tab",function(t,a,n){function i(t,a){return a=a||{},t=e(t),t.data("Tab")?t.data("Tab"):this instanceof i?(this.container=t,this.container.data("Tab",this),this.tabContent=a.tabContent||"mod-tab__content",this.tabNav=a.tabNav||"mod-tab__ul",this.tabNavItem=a.tabNavItem||"mod-tab__li",this.tabCurItem=a.tabCurItem||"mod-tab__li_current",this.pos=a.pos||0,this.content=this.container.find("."+this.tabContent).eq(this.pos),this.nav=this.container.find("."+this.tabNav),this.navLis=this.nav.find("."+this.tabNavItem),this.curNav=this.navLis.eq(this.pos),void this.init()):new i(t,a)}var e=t("jquery");i.prototype={constructor:i,init:function(){var t=this;return this.nav.on("click","a",function(a){a.preventDefault();var n=e(this),i=n.closest("."+t.tabNavItem),s=i.index();i[0]!==t.curNav[0]&&(t.content.hide(),t.curNav.removeClass(t.tabCurItem),t.content=t.container.find("."+t.tabContent).eq(s),t.curNav=n.closest("."+t.tabNavItem),t.content.show(),t.curNav.addClass(t.tabCurItem),t.container.trigger("changeTab",s,t.curNav))}),this}},n.exports=i});
/*!core-js/library/modules/_global*/
;define("core-js/library/modules/_global",function(e,n,o){var t=o.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)});
/*!core-js/library/modules/_a-function*/
;define("core-js/library/modules/_a-function",function(n,o,r){r.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}});
/*!core-js/library/modules/_ctx*/
;define("core-js/library/modules/_ctx",function(r,n,e){var t=r("core-js/library/modules/_a-function");e.exports=function(r,n,e){if(t(r),void 0===n)return r;switch(e){case 1:return function(e){return r.call(n,e)};case 2:return function(e,t){return r.call(n,e,t)};case 3:return function(e,t,u){return r.call(n,e,t,u)}}return function(){return r.apply(n,arguments)}}});
/*!core-js/library/modules/_is-object*/
;define("core-js/library/modules/_is-object",function(e,o,n){n.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}});
/*!core-js/library/modules/_an-object*/
;define("core-js/library/modules/_an-object",function(r,o,e){var n=r("core-js/library/modules/_is-object");e.exports=function(r){if(!n(r))throw TypeError(r+" is not an object!");return r}});
/*!core-js/library/modules/_fails*/
;define("core-js/library/modules/_fails",function(r,e,n){n.exports=function(r){try{return!!r()}catch(e){return!0}}});
/*!core-js/library/modules/_descriptors*/
;define("core-js/library/modules/_descriptors",function(e,r,n){n.exports=!e("core-js/library/modules/_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})});
/*!core-js/library/modules/_dom-create*/
;define("core-js/library/modules/_dom-create",function(e,r,o){var t=e("core-js/library/modules/_is-object"),c=e("core-js/library/modules/_global").document,l=t(c)&&t(c.createElement);o.exports=function(e){return l?c.createElement(e):{}}});
/*!core-js/library/modules/_ie8-dom-define*/
;define("core-js/library/modules/_ie8-dom-define",function(e,r,o){o.exports=!e("core-js/library/modules/_descriptors")&&!e("core-js/library/modules/_fails")(function(){return 7!=Object.defineProperty(e("core-js/library/modules/_dom-create")("div"),"a",{get:function(){return 7}}).a})});
/*!core-js/library/modules/_to-primitive*/
;define("core-js/library/modules/_to-primitive",function(r,t,e){var o=r("core-js/library/modules/_is-object");e.exports=function(r,t){if(!o(r))return r;var e,i;if(t&&"function"==typeof(e=r.toString)&&!o(i=e.call(r)))return i;if("function"==typeof(e=r.valueOf)&&!o(i=e.call(r)))return i;if(!t&&"function"==typeof(e=r.toString)&&!o(i=e.call(r)))return i;throw TypeError("Can't convert object to primitive value")}});
/*!core-js/library/modules/_object-dp*/
;define("core-js/library/modules/_object-dp",function(e,r){var o=e("core-js/library/modules/_an-object"),i=e("core-js/library/modules/_ie8-dom-define"),t=e("core-js/library/modules/_to-primitive"),s=Object.defineProperty;r.f=e("core-js/library/modules/_descriptors")?Object.defineProperty:function(e,r,c){if(o(e),r=t(r,!0),o(c),i)try{return s(e,r,c)}catch(n){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");return"value"in c&&(e[r]=c.value),e}});
/*!core-js/library/modules/_property-desc*/
;define("core-js/library/modules/_property-desc",function(e,r,n){n.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}});
/*!core-js/library/modules/_hide*/
;define("core-js/library/modules/_hide",function(r,e,o){var s=r("core-js/library/modules/_object-dp"),c=r("core-js/library/modules/_property-desc");o.exports=r("core-js/library/modules/_descriptors")?function(r,e,o){return s.f(r,e,c(1,o))}:function(r,e,o){return r[e]=o,r}});
/*!core-js/library/modules/_has*/
;define("core-js/library/modules/_has",function(r,e,n){var o={}.hasOwnProperty;n.exports=function(r,e){return o.call(r,e)}});
/*!core-js/library/modules/_export*/
;define("core-js/library/modules/_export",function(r,e,n){var o=r("core-js/library/modules/_global"),t=r("core-js/library/modules/_core"),i=r("core-js/library/modules/_ctx"),s=r("core-js/library/modules/_hide"),u=r("core-js/library/modules/_has"),a="prototype",c=function(r,e,n){var l,f,y,d=r&c.F,m=r&c.G,p=r&c.S,b=r&c.P,h=r&c.B,j=r&c.W,v=m?t:t[e]||(t[e]={}),_=v[a],w=m?o:p?o[e]:(o[e]||{})[a];m&&(n=e);for(l in n)f=!d&&w&&void 0!==w[l],f&&u(v,l)||(y=f?w[l]:n[l],v[l]=m&&"function"!=typeof w[l]?n[l]:h&&f?i(y,o):j&&w[l]==y?function(r){var e=function(e,n,o){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,n)}return new r(e,n,o)}return r.apply(this,arguments)};return e[a]=r[a],e}(y):b&&"function"==typeof y?i(Function.call,y):y,b&&((v.virtual||(v.virtual={}))[l]=y,r&c.R&&_&&!_[l]&&s(_,l,y)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,n.exports=c});
/*!core-js/library/modules/_cof*/
;define("core-js/library/modules/_cof",function(r,e,n){var o={}.toString;n.exports=function(r){return o.call(r).slice(8,-1)}});
/*!core-js/library/modules/_iobject*/
;define("core-js/library/modules/_iobject",function(e,r,t){var o=e("core-js/library/modules/_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}});
/*!core-js/library/modules/_defined*/
;define("core-js/library/modules/_defined",function(e,o,r){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}});
/*!core-js/library/modules/_to-iobject*/
;define("core-js/library/modules/_to-iobject",function(e,r,o){var i=e("core-js/library/modules/_iobject"),c=e("core-js/library/modules/_defined");o.exports=function(e){return i(c(e))}});
/*!core-js/library/modules/_to-integer*/
;define("core-js/library/modules/_to-integer",function(e,r,o){var t=Math.ceil,i=Math.floor;o.exports=function(e){return isNaN(e=+e)?0:(e>0?i:t)(e)}});
/*!core-js/library/modules/_to-length*/
;define("core-js/library/modules/_to-length",function(e,r,n){var o=e("core-js/library/modules/_to-integer"),t=Math.min;n.exports=function(e){return e>0?t(o(e),9007199254740991):0}});
/*!core-js/library/modules/_to-absolute-index*/
;define("core-js/library/modules/_to-absolute-index",function(e,r,o){var t=e("core-js/library/modules/_to-integer"),n=Math.max,i=Math.min;o.exports=function(e,r){return e=t(e),0>e?n(e+r,0):i(e,r)}});
/*!core-js/library/modules/_array-includes*/
;define("core-js/library/modules/_array-includes",function(r,e,o){var n=r("core-js/library/modules/_to-iobject"),i=r("core-js/library/modules/_to-length"),t=r("core-js/library/modules/_to-absolute-index");o.exports=function(r){return function(e,o,l){var u,s=n(e),a=i(s.length),c=t(l,a);if(r&&o!=o){for(;a>c;)if(u=s[c++],u!=u)return!0}else for(;a>c;c++)if((r||c in s)&&s[c]===o)return r||c||0;return!r&&-1}}});
/*!core-js/library/modules/_library*/
;define("core-js/library/modules/_library",function(r,e,i){i.exports=!0});
/*!core-js/library/modules/_shared*/
;define("core-js/library/modules/_shared",function(r,e,o){var s=r("core-js/library/modules/_core"),i=r("core-js/library/modules/_global"),l="__core-js_shared__",a=i[l]||(i[l]={});(o.exports=function(r,e){return a[r]||(a[r]=void 0!==e?e:{})})("versions",[]).push({version:s.version,mode:r("core-js/library/modules/_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})});
/*!core-js/library/modules/_uid*/
;define("core-js/library/modules/_uid",function(o,n,r){var t=0,i=Math.random();r.exports=function(o){return"Symbol(".concat(void 0===o?"":o,")_",(++t+i).toString(36))}});
/*!core-js/library/modules/_shared-key*/
;define("core-js/library/modules/_shared-key",function(r,e,s){var o=r("core-js/library/modules/_shared")("keys"),d=r("core-js/library/modules/_uid");s.exports=function(r){return o[r]||(o[r]=d(r))}});
/*!core-js/library/modules/_object-keys-internal*/
;define("core-js/library/modules/_object-keys-internal",function(r,e,o){var s=r("core-js/library/modules/_has"),l=r("core-js/library/modules/_to-iobject"),a=r("core-js/library/modules/_array-includes")(!1),i=r("core-js/library/modules/_shared-key")("IE_PROTO");o.exports=function(r,e){var o,n=l(r),u=0,c=[];for(o in n)o!=i&&s(n,o)&&c.push(o);for(;e.length>u;)s(n,o=e[u++])&&(~a(c,o)||c.push(o));return c}});
/*!core-js/library/modules/_enum-bug-keys*/
;define("core-js/library/modules/_enum-bug-keys",function(e,r,o){o.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")});
/*!core-js/library/modules/_object-keys*/
;define("core-js/library/modules/_object-keys",function(e,r,o){var s=e("core-js/library/modules/_object-keys-internal"),n=e("core-js/library/modules/_enum-bug-keys");o.exports=Object.keys||function(e){return s(e,n)}});
/*!core-js/library/modules/_object-gops*/
;define("core-js/library/modules/_object-gops",function(e,o){o.f=Object.getOwnPropertySymbols});
/*!core-js/library/modules/_object-pie*/
;define("core-js/library/modules/_object-pie",function(e,r){r.f={}.propertyIsEnumerable});
/*!core-js/library/modules/_to-object*/
;define("core-js/library/modules/_to-object",function(e,r,o){var n=e("core-js/library/modules/_defined");o.exports=function(e){return Object(n(e))}});
/*!core-js/library/modules/_object-assign*/
;define("core-js/library/modules/_object-assign",function(r,e,o){"use strict";var s=r("core-js/library/modules/_descriptors"),c=r("core-js/library/modules/_object-keys"),t=r("core-js/library/modules/_object-gops"),l=r("core-js/library/modules/_object-pie"),i=r("core-js/library/modules/_to-object"),a=r("core-js/library/modules/_iobject"),n=Object.assign;o.exports=!n||r("core-js/library/modules/_fails")(function(){var r={},e={},o=Symbol(),s="abcdefghijklmnopqrst";return r[o]=7,s.split("").forEach(function(r){e[r]=r}),7!=n({},r)[o]||Object.keys(n({},e)).join("")!=s})?function(r){for(var e=i(r),o=arguments.length,n=1,b=t.f,j=l.f;o>n;)for(var u,f=a(arguments[n++]),m=b?c(f).concat(b(f)):c(f),d=m.length,y=0;d>y;)u=m[y++],(!s||j.call(f,u))&&(e[u]=f[u]);return e}:n});
/*!core-js/library/modules/es6.object.assign*/
;define("core-js/library/modules/es6.object.assign",function(e){var s=e("core-js/library/modules/_export");s(s.S+s.F,"Object",{assign:e("core-js/library/modules/_object-assign")})});
/*!core-js/library/fn/object/assign*/
;define("core-js/library/fn/object/assign",function(e,s,r){e("core-js/library/modules/es6.object.assign"),r.exports=e("core-js/library/modules/_core").Object.assign});
/*!babel-runtime/core-js/object/assign*/
;define("babel-runtime/core-js/object/assign",function(e,s,n){n.exports={"default":e("core-js/library/fn/object/assign"),__esModule:!0}});
/*!edu_modules/reportor/lib/util*/
;define("edu_modules/reportor/lib/util",function(r,t,e){function n(r){return r&&"[object Object]"===r.toString()}function o(r){return r&&"function"==typeof r}function i(r){if(!n(r)||r.nodeType||r.setInterval)return!1;if(r.constructor&&!r.hasOwnProperty("constructor")&&!r.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var t;for(t in r);return void 0===t||r.hasOwnProperty(t)}function f(r,t){if(o(t))if(n(r))for(var e in r)t(e,r[e],r);else if(Array.isArray(r))for(var i=0,f=r.length;f>i;i++)t(i,r[i],r)}function u(r,t){var e=new RegExp("(\\?|#|&)"+t+"=([^&]*)(&|$)","g");return r.replace(e,"").replace(/(\?|#|&)$/,"")}"function"!=typeof Object.assign&&(Object.assign=function(r){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}),Array.isArray||(Array.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r,t,e){return function(n,o){if(null===this||void 0===this)throw TypeError("Array.prototype.indexOf called on null or undefined");var i=r(this),f=i.length>>>0,u=e(0|o,f);if(0>u)u=t(0,f+u);else if(u>=f)return-1;if(void 0===n){for(;u!==f;++u)if(void 0===i[u]&&u in i)return u}else if(n!==n){for(;u!==f;++u)if(i[u]!==i[u])return u}else for(;u!==f;++u)if(i[u]===n)return u;return-1}}(Object,Math.max,Math.min)),e.exports={isPlainObject:i,each:f,delParam:u}});
/*!edu_modules/reportor/tdw/tdw*/
;define("edu_modules/reportor/tdw/tdw",function(t,r,e){function n(t){var r;return o(t),r=a(t),{fields:h,datas:r}}function i(t,r){return r=r||[],r.forEach(function(r){r.forEach(function(e,n){"string"==typeof e&&(r[n]=~m.indexOf(t[n])?e.substring(0,w):e.substring(0,v))})}),r}function o(t){t&&(l.isPlainObject(t)&&(t=[t]),Array.isArray(t)&&l.each(t,function(t,r){l.each(r,function(t){g[t]||(g[t]=1,h.push(t))})}))}function a(t){var r,e=[];return t&&(l.isPlainObject(t)&&(t=[t]),Array.isArray(t))?(l.each(t,function(t,n){r=[],n=Object.assign({},d,n),l.each(h,function(t,e){var i=n[e];i=void 0===i?"":i,r.push(i)}),e.push(r)}),e):void 0}function s(t,r){var e={};r=r||p,l.each(["table","pr_ip","pr_t"],function(t,n){e[n]=r[n]||""}),t.datas=i(t.fields,t.datas),e.fields=JSON.stringify(t.fields),e.datas=JSON.stringify(t.datas),e.retype=2,p.beforeRequest(t)!==!1&&r.url&&(f.ajax({url:r.url,data:e,dataType:"jsonp"}).done(function(r){p[0===r.ret?"success":"error"](r,t)}).fail(function(r,e,n){p.fail(t,r,e,n)}),u(t.fields,t.datas))}function c(){var t=[],r=j.read();r.length<=p.slicer?s(n(r)):(l.each(r,function(r,e){t.push(e),r>0&&r%p.slicer===p.slicer-1&&(s(n(t)),t=[])}),t.length&&s(n(t)))}function u(t,r){if(b.table&&window.localStorage)try{if(1===parseInt(window.localStorage.getItem("tdwFlag"),10)||1===parseInt(window.localStorage.getItem("tdwFlag2"),10))for(var e=0,n=r.length;n>e;e++){for(var i={},o=0,a=t.length;a>o;o++)""!==r[e][o]&&(i[t[o]]=r[e][o]);b.table([i])}}catch(s){}}var f=t("jquery"),l=t("edu_modules/reportor/lib/util"),p={url:"/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},d={},g={},h=[],y=0,b=console||{},v=50,w=450,m=["url","refer","courseid","ver1"],j={pool:[],write:function(t){l.isPlainObject(t)?this.pool.push(t):Array.isArray(t)&&Array.prototype.push.apply(this.pool,t)},read:function(){var t=this.pool;return this.pool=[],t}};e.exports={config:function(t,r){Object.assign(d,t),Object.assign(p,r),o(d)},report:function(t){j.write(t),y||(y=setTimeout(function(){c(),y=0},p.timer))},reportSync:function(t,r){r=Object.assign({},p,r),s(n(t),r)},composer:n,request:s,getCommonData:function(t){return t?d[t]:d}}});
/*!edu_modules/reportor/tdw/tdw-local*/
;define("edu_modules/reportor/tdw/tdw-local",function(e,o,n){function t(e,o){if(q.wasInit&&q.wasInit()){var n=o.fields,t=o.datas,r=n.indexOf(v.seqName);w.each(t,function(e,o){var n=v.localPrefix+o[r];q.remove(n)})}}function r(){y=!1}function a(e,o){w.isPlainObject(e)?o&&o(e):Array.isArray(e)&&w.each(e,function(e,n){o&&o(n)})}function i(){return(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}function s(){y&&"/storage_proxy.html"!==window.location.pathname&&q.filter(b,function(e){var o;e=e.slice(0,4);for(var n=0;n<e.length;n++)o=JSON.parse(e[n].value||"{}"),o.seq_number?(o.datas&&o.datas[0].push("local"),o.fields&&o.fields.push("source_from"),_.request(o)):q.remove(e[n].key)})}function c(){h.getLocal({whiteDomain:v.whiteDomain,iframeUrl:v.crossProxy,crossDomain:v.crossDomain},function(e){q=e,setTimeout(function(){s()},1e3)})}function u(e){a(e,function(e){e[v.seqName]=i()})}function l(){return g&&g.obj&&null!==g.obj()}function f(e,o){a(e,function(e){o.push(Object.assign({seq_number:e[v.seqName]},_.composer(e)))})}function m(e){q.wasInit&&q.wasInit()&&w.each(e,function(e,o){var n=v.localPrefix+o[v.seqName];q.set(n,JSON.stringify(o))})}function d(e){var o=[];u(e),f(e,o),m(o)}var p=e("edu_modules/reportor/tdw/tdw"),w=e("edu_modules/reportor/lib/util"),g=e("edu_modules/local.data/local.data"),h=e("edu_modules/local.data/power.local"),q={},_={},x=l(),v={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"ntdw_seq",seqName:"seq_number"},b=/^tdw_seq/,y=!0;_.composer=p.composer,_.getCommonData=p.getCommonData,_.config=p.config,_.request=p.request,_.config({},{success:t,error:r,fail:r}),_.report=function(e){d(e),p.report(e)},_.reportSync=function(e,o){d(e),p.reportSync(e,o)},_.initLocal=function(e){Object.assign(v,e),b=new RegExp("^"+v.localPrefix),x&&c()},n.exports=_});
/*!@tencent/im-util.bom/util.bom*/
;define("@tencent/im-util.bom/util.bom",function(e,n,t){var r=e("jquery"),a=navigator.platform,o=!a||"Win32"===a||"Win64"===a||"Windows"===a;t.exports=r.bom={query:function(e){var n=window.location.search.match(new RegExp("(\\?|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},getHash:function(e){var n=window.location.hash.match(new RegExp("(#|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},getParam:function(e,n){var t=e.match(new RegExp("(\\?|#|&)"+n+"=([^&#]*)(&|#|$)"));return t?decodeURIComponent(t[2]):""},checkPlatform:function(){var e=navigator.platform,n=!e||"Win32"===e||"Win64"===e||"Windows"===e;return n||(r.Dialog.alert("请通过电脑登录Windows系统，再访问该页面。"),Badjs("非windows pc, ua="+navigator.userAgent+", platform="+navigator.platform,location.href,0,410018,2)),n},parseHref:function(e){var n=document.createElement("a");return n.href=e,{domain:n.hostname,pathname:n.pathname,search:n.search,hash:n.hash}},isWindows:function(){return o},parseQuery:function(e){var n,t,r={};if(!e)return r;n=e.indexOf("?"),t=0===n?1:0;for(var a=e.substr(t).split("&"),o=0;o<a.length;o++){var i=a[o].split("=");r[decodeURIComponent(i[0])]=decodeURIComponent(i[1]||"")}return r},htmlEncode:function(e){return(""+e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")}}});
/*!edu_modules/reportor/lib/report.channel*/
;define("edu_modules/reportor/lib/report.channel",function(r,e,o){"use strict";function t(){for(var r=["saleToken","flowToken","tuin","from"],e=0,o=r.length;o>e;e++){var t=r[e],u=n.query(t);if(u)return{sourcetype:t,sourcefrom:u}}return{}}function u(){var r=n.query("tuin")||n.getHash("tuin");return+("0x"+r).toString(10)}var n=r("@tencent/im-util.bom/util.bom"),i="-";o.exports=function(r){r=r||{};var e=t(),o=u();return r.auin=r.auin||o||i,r.sourcetype=r.sourcetype||e.sourcetype||"",r.sourcefrom=r.sourcefrom||e.sourcefrom||"",r}});
/*!edu_modules/reportor/lib/report.uin*/
;define("edu_modules/reportor/lib/report.uin",function(r,i,e){function o(){return(""+Math.random()).substring(2)}var n=r("edu_modules/util.cookie/util.cookie");e.exports=function(r){var i,e=r.ver9,t=n.realUin(),u=r.visitor_id||o();return e&&!t&&(u=o()),t&&!e&&document.referrer&&(i="login"),Object.assign(r,{ver9:t?t:void 0,uin:n.uin()||"",visitor_id:u,ver10:i}),r}});
/*!edu_modules/reportor/lib/util.winname*/
;define("edu_modules/reportor/lib/util.winname",function(e,n,o){o.exports={set:function(e,n){this.del(e);var o=e+"="+n;window.name=window.name?window.name+"&"+o:o},get:function(e){var n=window.name.match(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"));return n?decodeURIComponent(n[2]):""},del:function(e){var n=this.get(e);n&&(window.name=window.name.replace(new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),"$3"))}}});
/*!edu_modules/reportor/lib/lastUrlpageHandler*/
;define("edu_modules/reportor/lib/lastUrlpageHandler",function(e,t,n){function r(e){var t=document.createElement("a");return t.href=e,{domain:t.hostname,pathname:t.pathname,search:t.search,hash:t.hash}}function o(e,t){return i.delParam(e,"tuin")===i.delParam(t,"tuin")}var a=e("edu_modules/reportor/lib/util.winname"),i=e("edu_modules/reportor/lib/util"),u="report_position_key_lastpage",l="report_position_key_lasturl",s=["ui.ptlogin2.qq.com/cgi-bin/login","open.weixin.qq.com/connect/oauth2/authorize"],c=document.referrer,d=r(c),h=d.domain+d.pathname;n.exports={get:function(){this.del();var e;try{e=a.get(u),e=JSON.parse(e)}catch(t){}return e},set:function(e){var t=location.href;a.set(u,JSON.stringify(e)),a.set(l,encodeURIComponent(t))},del:function(){this.shouldClear()&&a.del(u)},shouldClear:function(){var e=location.href,t=a.get(l);return!(o(e,t)||s.indexOf(h)>=0)}}});
/*!edu_modules/reportor/lib/positionHandler*/
;define("edu_modules/reportor/lib/positionHandler",function(e,t,n){function i(e){p=Object.assign({},p,e)}function o(){var e=l.get();if(e)return e;var t;return t=p.isPcWeb?r():a(),l.set(t),t}function r(){var e;try{e=m.get(f.name),e&&(e=JSON.parse(e))}catch(t){e={}}return m.del(f.name,f.domain,f.path),e||{}}function a(){var e;try{e=d.get(f.name),e&&(e=JSON.parse(e))}catch(t){e={}}return d.del(f.name),e}function s(e){return p.isPcWeb?void u(e):void c(e)}function u(e){m.setSession(f.name,JSON.stringify(e),f.domain,f.path)}function c(e){d.set(f.name,JSON.stringify(e))}var d=e("edu_modules/reportor/lib/util.winname"),l=e("edu_modules/reportor/lib/lastUrlpageHandler"),m=e("edu_modules/util.cookie/util.cookie"),f={name:"report_position_key",domain:"ke.qq.com",path:"/"},p={isPcWeb:!0};n.exports={config:i,getPositionData:o,setPositionData:s}});
/*!edu_modules/reportor/lib/report.position*/
;define("edu_modules/reportor/lib/report.position",function(o,t,r){function e(o){i(document).on("click","a[href],.js-report-link",function(){var t=i(this),r=t.attr("href");if(r&&0!==r.indexOf("#")||t.hasClass("js-report-link")){var e=t.closest("[data-report-position]"),n=t.closest("[data-report-module]"),s=e.data("report-position")||"",l=n.data("report-module")||"";a.setPositionData(i.extend({},o,{url_position:s,url_module:l}))}})}var i=o("jquery"),a=o("edu_modules/reportor/lib/positionHandler");r.exports=function(o,t){var r=t.getReportData("page"),i=t.getReportData("platform");a.config({isPcWeb:1===i}),e({url_page:r});var n=a.getPositionData();return["url_page","url_module","url_position"].forEach(function(t){o[t]=n[t]}),o}});
/*!edu_modules/reportor/lib/report.cookie*/
;define("edu_modules/reportor/lib/report.cookie",function(e,o,t){function r(e){s.isPlainObject(e)&&(e=JSON.stringify(e)),u.setSession(m.name,e,m.domain,m.path)}function i(){var e;try{e=u.get(m.name),e=JSON.parse(e)}catch(o){e={}}return e}function n(e,o){~c.indexOf("/storage_proxy.html")||(o=o||{},a=i(),d(a),l(a),p(a,e),e.config(a),r(a),e.tdw(Object.assign({action:"pageview"},a,o)))}var a,u=e("edu_modules/util.cookie/util.cookie"),d=e("edu_modules/reportor/lib/report.channel"),l=e("edu_modules/reportor/lib/report.uin"),p=e("edu_modules/reportor/lib/report.position"),s=e("edu_modules/reportor/lib/util"),c=location.pathname,m={name:"tdw_data_new_2",domain:"ke.qq.com",path:"/"};t.exports={reportPageView:n}});
/*!@tencent/im-jquery.isOnScreen/index*/
;define("@tencent/im-jquery.isOnScreen/index",function(t){var e=t("jquery");return e.fn.isOnScreen=function(){var t=e(window),o={top:t.scrollTop(),left:t.scrollLeft()};o.right=o.left+t.width(),o.bottom=o.top+t.height();var i=this.offset();return i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(o.right<i.left||o.left>i.right||o.bottom<i.top||o.top>i.bottom)},e});
/*!edu_modules/reportor/lib/report.exposure*/
;define("edu_modules/reportor/lib/report.exposure",function(e,r,o){function n(e){e.$reportModule||(e.$reportModule=s.find("[data-report-module]"))}function t(e,r){var o=r.data("report-module");e.tdw({action:"exposure",module:o}),r.data(f,!0)}function i(e,r){function o(){i.each(function(o){var n=i.eq(o);if(!n.data(f)&&n.isOnScreen&&n.isOnScreen()){var a=r.reportFun||t;a(e,n,r)}})}r=r||{},n(r);var i=r.$reportModule;o(),(r.$wrapper||c).on("scroll.viewreport",function(){o()})}function a(e,r,o){o=Object.assign(p,o);var n=r.data("report-module"),t=r.find(o.courseCls),i=[],a=[];d.each(t,function(e){var r=t.eq(e);if(!r.data(f)&&r.isOnScreen&&r.isOnScreen()){var n=parseInt(r.data(o.courseIdKey),10);r.data(o.isPkgKey)&&(n+=1e7),a.push(n),i.push(r.data(o.indexKey)),r.data(f,!0)}}),0!==i.length&&0!==a.length&&(e.tdw({action:"exposure",module:n,position:i.join("_"),courseid:a.join("_")}),o.afterReport&&o.afterReport(e,r,o,{cidArr:a,posArr:i}))}function u(e,r){i(e,Object.assign({reportFun:a},r))}var d=e("jquery");e("@tencent/im-jquery.isOnScreen/index");var s=d(document),c=d(window),p={courseCls:"course",indexKey:"index",courseIdKey:"id",isPkgKey:"ispkg"},f="hasReport";o.exports={reportExposure:i,reportCourseExposure:u}});
/*!edu_modules/reportor/lib/report.attr*/
;define("edu_modules/reportor/lib/report.attr",function(t,r,o){var e=t("jquery"),n=function(t){for(var r,o=(t||"").split("&"),e={},n=0;n<o.length;n++)r=o[n].split("="),e[r[0]]=r[1];return e},i=function(t,r,o){return function(i){i.stopPropagation();var p=e.extend({action:o},n(e(this).attr(r)));t.tdw(p,!0)}},p=function(t){e(document).on("mouseenter","[report-hover]",i(t,"report-hover","hover")).on("click","[report-attr]",i(t,"report-attr","click"))};o.exports={init:p,parseAttr:n}});
/*!edu_modules/reportor/index*/
;define("edu_modules/reportor/index",function(r,e,o){"use strict";function t(r){return r&&r.__esModule?r:{"default":r}}var i=r("babel-runtime/core-js/object/assign"),u=t(i),n=r("edu_modules/reportor/tdw/tdw-local"),p=r("edu_modules/reportor/lib/report.cookie"),c=r("edu_modules/reportor/lib/report.exposure"),l=r("edu_modules/reportor/lib/report.attr");r("edu_modules/reportor/lib/util");var s=window.location,d={};n.config({opername:"edu",platform:1,url:s.href,refer:document.referrer},{table:"dc03514",pr_ip:"clientip",pr_t:"reporttime",slicer:4}),n.initLocal&&n.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),d.tdw=function(r,e){n[e?"reportSync":"report"](r)},d.config=function(r){n.config(u.default({},r||{}))},d.getReportData=n.getCommonData,d.reportPageView=function(r){p.reportPageView(d,r)},d.reportExposure=function(r){return c.reportExposure(d,r)},d.reportCourseExposure=function(r){return c.reportCourseExposure(d,r)},l.init(d),o.exports=d});
/*!@tencent/im-observer/observer*/
;define("@tencent/im-observer/observer",function(t,r,n){var e=function(){var t={};return{listen:function(r,n){return t[r]=t[r]||[],t[r].push(n),this},remove:function(r){var n=t[r];return n?n.length=0:t[r]=void 0,this},one:function(t,r){return this.remove(t),this.listen(t,r)},trigger:function(){var r,n,e;e=Array.prototype.shift.call(arguments),n=t[e]?t[e]:t[e]=[];for(var i=0,o=n.length;o>i;i++)if(r=n[i],r.apply(this,arguments)===!1)return this;return this}}},i={},o=e();o.get=function(t){return i[t]||(i[t]=e()),i[t]},n.exports=o});
/*!edu_modules/edu-login/wxLongpoll*/
;define("edu_modules/edu-login/wxLongpoll",function(e,i,t){var o=e("edu_modules/check/check"),n=e("@tencent/im-observer/observer");t.exports={timeout:null,timespace:2e3,handle:function(){var e=this;o.isWeixinUser()&&(clearTimeout(e.timeout),n.get("login").trigger("weixinWillDone"),n.get("login").trigger("weixinDone"))},init:function(){var e=this;clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.handle()},e.timespace)},destroy:function(){clearTimeout(self.timeout)}}});
/*!/edu_modules/edu-login/template/wrap.tpl_tpl*/
;define("/edu_modules/edu-login/template/wrap.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab" data-type="login"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <ul class="mod-tab__ul"> <li class="mod-tab__li mod-tab__li-qq ',qqConfig.inited?"mod-tab__li_current":"",'" data-index="0"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-qq"></i>QQ账号登录</a> </li> <li class="mod-tab__li mod-tab__li-wx ',wxConfig.inited?"mod-tab__li_current":"",'" data-index="1"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-weixin"></i>微信账号登录</a> </li> </ul> <div class="mod-tab__content ',qqConfig.inited?"":"hide",'" data-inited="',qqConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap mod-tab__content-wrap_qq"> <iframe name="login_frame_qq" src="',qqConfig.url,'" frameborder="0" scrolling="no" width="626px" height="370px"></iframe> </div> </div> <div class="mod-tab__content ',wxConfig.inited?"":"hide",'" data-inited="',wxConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap wx__tab"> <label class="login-wx-tips">安全登录，防止被盗</label> <div class="login-code-container loading"> </div> </div> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-login/template/enter.tpl_tpl*/
;define("/edu_modules/edu-login/template/enter.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <div class="enter-title">选择账号登录类型</div> <div class="enter-content"> <div class="content-avatar"> <div class="avatar-img"></div> </div> <div class="content-btns"> <a href="javascript:void(0);" data-type="1" class="js-btns-enter btns-enter btns-enter-qq"> <i class="icon-font i-qq"></i>QQ登录</a> <a href="javascript:void(0);" data-type="2" class="js-btns-enter btns-enter btns-enter-wx"> <i class="icon-font i-weixin"></i>微信登录</a> </div> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-login/template/weappcode.tpl_tpl*/
;define("/edu_modules/edu-login/template/weappcode.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return weappCode?_$out_.push('<div class="login-weapp-code"> <img class="weappcode-img" src="data:image/png;base64,',weappCode,'"> <div class="wechat-qrcode-mask"></div> <div class="wechat-qrcode-invalid-mask"> <div class="qrcode-invalid-mask"></div> <div class="qrcode-invalid-tips">二维码失效<br>请点击刷新</div> </div></div>'):url&&_$out_.push(' <iframe name="login_frame_wx" src="',url,'" frameborder="0" scrolling="no" width="100%" height="100%"></iframe>'),_$out_.join("")}}});
/*!edu_modules/edu-login/edu-login*/
;define("edu_modules/edu-login/edu-login",function(require,exports,module){"use strict";function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function checkLoginStateDowngrade(){getLoginStateFailNum>4&&(renderWeappCodeContainer(),clearInterval(weappLoginStateTimer),getLoginStateFailNum=0)}function bindCloseEvent(){var e=$("#login_close");e.off("click").on("click",function(){clearInterval(weappLoginStateTimer),global.ptlogin2_onClose()})}function bindEvent(){var e=$(".login-tab"),o=e.find(".mod-tab__content");bindCloseEvent(),e.off("changeTab").on("changeTab",function(e,n){var i=0===n;Tool.reportLoginTabExposure(i);var t=o.eq(n);if(1!==t.data("inited")){var a=i?Tool.generateUrlForQq(config):Tool.generateUrlForWx();t.find("iframe").attr("src",a),t.data("inited",1)}})}function bindChooseEvent(){var e=$(".login-tab");bindCloseEvent(),e.off("click").on("click",".js-btns-enter",function(){var e=$(this),o=e.data("type");Tool.cookie.set(chooseLoginTypeCookie,o),show()})}function messageCb(e){var o=e||global.event;if(-1!==(e.origin||"").indexOf("ptlogin2")){var n;switch(n="undefined"!=typeof JSON?JSON.parse(o.data):Tool.str2JSON(o.data),n.action){case"close":global.ptlogin2_onClose();break;case"resize":global.ptlogin2_onResize(n.width,n.height)}}}function bindMessageAPI(e){"undefined"!=typeof global.postMessage&&Tool.checkMode(e)&&$win.on("message",messageCb)}function unbindMessageAPI(e){"undefined"!=typeof global.postMessage&&Tool.checkMode(e)&&$win.off("message",messageCb)}function init(e){e&&(fromSource=e.source,$loginFrame&&(e={succ:e.succ,close:e.close}),config=$.extend({},DEFAULT_CONFIG,e),config.succ&&succQuene.push(config.succ),config.close&&closeQuene.push(config.close))}function getFrameDom(){if($loginFrame)return $loginFrame;var e=380;return $loginFrame=$("<div>").addClass("ptlogin-wrap"),$loginFrame.css({"margin-top":-e/2,visibility:"visible",height:e}),$loginFrame}function initChoose(){$loginFrame=getFrameDom(),$loginFrame.html(enterTpl({})),$body.append($loginFrame)}function showMask(e){e&&!$mask&&($mask=$("<div>").addClass("ptlogin-mask"),$body.append($mask))}function showFrame(e){reportMonitor(34366170),report.tdw({action:"pageview",page:"loginpage_pc"});var o=1===e,n=o?Tool.generateUrlForQq(config):aboutBlank;$loginFrame=getFrameDom(),renderWXLoginCode(function(e){isWeappCodeLogin=e?!0:!1,Tool.reportLoginTabExposure(o)}),$loginFrame.html(frameTpl({qqConfig:{url:n,inited:o?1:0},wxConfig:{inited:o?0:1}})),longpoll.init(),$body.append($loginFrame)}function renderWXLoginCode(e){Tool.generateWeappCode(function(o){if(o&&0===o.retcode){var n=o&&o.result&&o.result.QRCode;n&&(reportMonitor(34366171),$loginFrame.find(".login-weapp-code").removeClass("exprie"),clearInterval(weappLoginStateTimer),weappLoginStateTimer=setInterval(function(){Tool.getWeappLoginState()},700)),e&&e(n)}else isWeappCodeLogin=!1,reportMonitor(34366172);renderWeappCodeContainer(n)},function(){e&&e(),reportMonitor(34366172)})}function renderWeappCodeContainer(e){e||reportMonitor(34366176),$loginFrame.find(".wx__tab .login-code-container").html(weappcodeTpl({weappCode:e||null,url:Tool.generateUrlForWx()||null})).removeClass("loading")}function show(e){init(e),localStore.set("mobileBindInfo_lastLoginTime",+new Date),closeQuene.push(function(){localStore.remove("mobileBindInfo_lastLoginTime"),localStore.remove("mobileBindInfo_jump")});var o=parseInt(cookie.get(chooseLoginTypeCookie),10),n=config.needMask,i=config.mode;if(showMask(n),!$loginFrame||!$loginFrame.data("type")){if(!o)return initChoose(e),void bindChooseEvent();bindMessageAPI(i),showFrame(o),tab=new Tab(".login-tab",{pos:o-1}),bindEvent(),$.event.trigger("loginShow")}}function hide(){var e=config.mode;$mask.remove(),$loginFrame.remove(),$mask=void 0,$loginFrame=void 0,succQuene=[],closeQuene=[],unbindMessageAPI(e)}function logout(){$.getScript("//ui.ptlogin2.qq.com/js/ptloginout.js",function(){pt_logout.logout(function(){for(var e=0,o=weixinCookie.length;o>e;e++)cookie.del(weixinCookie[e],hostDomain),cookie.del(weixinCookie[e],eduDomain);localStore.remove("__userinfo"),$.event.trigger("logout"),config.onStatusChanged&&config.onStatusChanged(),location.reload()})})}function isLogin(){return!!cookie.get("p_luin")&&!!cookie.get("p_lskey")||!!cookie.get("p_uin")&&!!cookie.get("p_skey")||!!cookie.get("uin")&&!!cookie.get("skey")||!!cookie.get("uid_uin")&&!!cookie.get("uid_a2")}function setUin(e){config.uin=e}function isUinChanged(){return config.uin!=cookie.uin()}function skey(){return cookie.get("p_lskey")||cookie.get("p_skey")||cookie.get("skey")}var $=require("jquery"),Check=require("edu_modules/check/check"),Tab=require("@tencent/im-tab-man/tab"),cookie=require("edu_modules/util.cookie/util.cookie"),localStore=require("edu_modules/local.data/local.data"),report=require("edu_modules/reportor/index"),longpoll=require("edu_modules/edu-login/wxLongpoll"),frameTpl=require("/edu_modules/edu-login/template/wrap.tpl_tpl"),enterTpl=require("/edu_modules/edu-login/template/enter.tpl_tpl"),weappcodeTpl=require("/edu_modules/edu-login/template/weappcode.tpl_tpl"),DEFAULT_CONFIG={needMask:!0,mode:"xui",closeIcon:!1,target:"self",appid:715030901,daid:233},weixinCookie=["uid_a2","uid_type","uid_uin"],chooseLoginTypeCookie="ke_login_type",aboutBlank="about:blank",protocal=location.protocol,wxCssUri=[protocal,"//8.url.cn/edu/edu_modules/edu-login/nohash/wxLogin.css?max_age=3153600"].join(""),global=window,$win=$(global),$body=$("body"),tab,$mask,$loginFrame,config={},hostDomain=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],eduDomain=(location.hostname.match(/(\.\w+){3}$/)||["."+location.hostname])[0],succQuene=[],closeQuene=[],weappLoginRequestTool={get_miniapp_qrcode:"/cgi-proxy/get_miniapp_qrcode",get_login_state:"/cgi-proxy/get_login_state"},getLoginStateFailNum=0,weappLoginStateTimer=null,isWeappCodeLogin=!0,fromSource="",weappId="wxa2c453d902cdd452",reportMonitor=function(e){var o="/cgi-bin/activity_platform/report/report_vm",n=[];e&&(isArray(e)?n=e:n.push(e),n.length&&((new Image).src=o+"?monitors=["+n.join(",")+"]&_t="+(new Date).getTime()))},Tool={generateUrlForQq:function(e){var o={target:e.target,appid:e.appid,hide_close_icon:1-!!e.closeIcon,s_url:e.succUrl},n=[],i="/login_proxy.html"+(e.domain?"#domain="+e.domain:"");if(e.daid&&(o.daid=e.daid),e.noAuth&&(o.pt_no_auth=1),this.checkMode(config.mode)){n.push("//xui.ptlogin2"+hostDomain+"/cgi-bin/xlogin?");var t=location.href.split(/#|\?/)[0],a=t.indexOf("/",t.indexOf("//")+2),r=encodeURIComponent((-1!==a?t.substring(0,a):t)+i);o.proxy_url=e.proxyUrl||r,o.s_url=e.succUrl||r}else o.s_url=e.succUrl||encodeURIComponent("//ui.ptlogin2."+hostDomain+i),n.push("//ui.ptlogin2"+hostDomain+"/cgi-bin/login?");e.style&&(o.style=e.style),o.low_login_enable=1;for(var l in o)n.push(l+"="+o[l]);return n.join("&")},generateUrlForWx:function(){var e=location.href,o=[protocal,"//ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2","&appid=wxa1fd810b3796f1a4&buz_id=122052647&redirect_uri=",encodeURIComponent(e)].join("");return["//open.weixin.qq.com/connect/qrconnect?appid=wxa1fd810b3796f1a4&redirect_uri=",encodeURIComponent(o),"&href=",encodeURIComponent(wxCssUri),"&response_type=code&scope=snsapi_login"].join("")},generateWeappCode:function(e,o){$.ajax({type:"Get",url:weappLoginRequestTool.get_miniapp_qrcode+"?rd="+Math.random(),data:{appId:weappId,page:"pages/login/login",width:200,autoColor:!1,red:0,blue:0,green:0,isHyaLine:!1},success:function(o){e&&e(o)},error:function(e){reportMonitor(34366172),o&&o(e),isWeappCodeLogin=!1,renderWeappCodeContainer()}})},getWeappLoginState:function(){$.ajax({type:"Get",url:weappLoginRequestTool.get_login_state+"?rd="+Math.random(),success:function(e){if(e&&0===e.retcode){var o=e&&e.result.state;switch(o){case 0:break;case 1:reportMonitor(34366173),setTimeout(function(){location.reload()},0);break;case 2:break;case 3:reportMonitor(34366174),$(".login-weapp-code").addClass("exprie").on("click",function(){renderWXLoginCode()}).find(".weappcode-img").remove(),clearInterval(weappLoginStateTimer);break;case 4:reportMonitor(34366175),renderWeappCodeContainer(),clearInterval(weappLoginStateTimer);break;default:clearInterval(weappLoginStateTimer)}}else getLoginStateFailNum++,checkLoginStateDowngrade()},error:function(){getLoginStateFailNum++,checkLoginStateDowngrade()}})},reportLoginTabExposure:function(e){report.tdw({action:"exposure",page:"loginpage_pc",module:e?"QQ":"WX",position:e?"":isWeappCodeLogin?2:1,ver1:fromSource})},execTasks:function(e){for(var o=0,n=(e||[]).length;n>o;o++)try{e[o]()}catch(i){}},checkMode:function(e){return"xui"===e},str2JSON:function str2JSON(str){return eval("("+str+")")},getMaxHour:function(){var e=new Date("2038-12-31");return(e.getTime()-new Date)/36e5},cookie:{set:function(e,o){cookie.set(e,o,eduDomain,"/",Tool.getMaxHour())}}};!function(){isLogin()&&Tool.cookie.set(chooseLoginTypeCookie,Check.isWeixinUser()?2:1),global.ptlogin2_onClose=function(){Tool.execTasks(closeQuene),hide(),clearTimeout(longpoll.timeout),$.event.trigger("loginCancel")},global.ptlogin2_onResize=function(e,o){$loginFrame&&$loginFrame.css({width:e-4,height:o,"margin-top":-o/2,"margin-left":-e/2,visibility:"visible"})},global.ptlogin2_login_ok=function(){if(!config.uin)for(var e=0,o=weixinCookie.length;o>e;e++)cookie.del(weixinCookie[e],hostDomain),cookie.del(weixinCookie[e],eduDomain);Tool.execTasks(succQuene),$.event.trigger("login"),config.onStatusChanged&&config.onStatusChanged(),hide()}}();var Login={init:init,show:show,hide:hide,logout:logout,isLogin:isLogin,uin:cookie.uin,skey:skey,setUin:setUin,isUinChanged:isUinChanged};global.Login=Login,module.exports=Login});
/*!edu_modules/mm-report/mm-report*/
;define("edu_modules/mm-report/mm-report",function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=window,n=e.navigator,t=n?n.userAgent.toLowerCase():"";return/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(t)?"ios":t.indexOf("android")>-1||t.indexOf("adr")>-1?"android":"pc"}function a(e){e=e||g;var n=e.length;n>10&&(n=10);var t=e.splice(0,n);if(t.length){var o=s+"&uin"+t[0].uin+"&apn="+(t[0].apn||m.apn);o+="&key=cgi,type,code,time";for(var r=["cgi","type","code","time"],a=0;a<r.length;a++)for(var i=0;i<t.length;i++){var u=t[i];o+="&"+(i+1)+"_"+(a+1)+"="+u[r[a]]}o+="&ignoreRandom="+Math.random();var c=new Image;c.src=o}}function i(){var e=["domain","appid","platform"].map(function(e){return e+"="+m[e]});s+="?"+e.join("&")}function u(e){m.platform=r(),f.default(m,e),i()}function c(e){var n=e.delay;return 0===n||e.apn!==m.apn?(a([e]),!0):!1}function d(e,n,t,o,r){if(!l){h&&clearTimeout(h);var i=f.default({},m,r);i.cgi=encodeURIComponent(e),i.code=n,i.time=t,i.uin=o,i.type=0===n?1:/^[4|5][0-9]{2}$/.test(n)?2:3,c(i)||(g.push(i),h=setTimeout(a,v))}}var p=e("babel-runtime/core-js/object/assign"),f=o(p),m={appid:10028,platform:"pc",domain:"ke.qq.com",rate:1,apn:""},l="undefined"==typeof document,s="//report.huatuo.qq.com/code.cgi",g=[],v=2e3,h=null;u(),t.exports={config:u,report:d}});
/*!edu_modules/edu-db/edu-db*/
;define("edu_modules/edu-db/edu-db",function(require,exports,module){function noop(){}function extendCallBack(e,t,a,r){return function(){!a.apply(e,t)&&r.apply(e,t)}}function extend(e,t,a){if("object"!=typeof e)return e;t=t||{};for(var r in t){var o,n;e[r]=a&&"function"==typeof(o=e[r])&&"function"==typeof(n=t[r])?extendCallBack(e,arguments,n,o):t[r]}}function encryptSkey(e){if(!e)return"";for(var t=5381,a=0,r=e.length;r>a;++a)t+=(t<<5)+e.charAt(a).charCodeAt();return 2147483647&t}var $=require("jquery"),bkn=require("edu_modules/bkn/index"),Login=require("edu_modules/edu-login/edu-login"),MM=require("edu_modules/mm-report/mm-report"),Cookie=require("edu_modules/util.cookie/util.cookie"),Check=require("edu_modules/check/check"),global=this,Badjs=window.Badjs,__DEBUG_STR__=function(){return""},$reportParam={_404:0,_5xx:0},isLoginError=!1,getCookie=Cookie.get,_uin;_uin=Check.isWeixinUser()?getCookie("uid_uin")||0:getCookie("p_luin")||getCookie("p_uin")||getCookie("uin")||0;var uinCache={},ajax=function(e,t,a,r,o,n,c){function i(e){if("string"==typeof e&&e.indexOf("uin")>=0)u=!0;else for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(u=!0),"object"==typeof e[t]&&i(e[t])}var s=new Date,u=!1;i(t);var l=e.split("?")[0];u&&!uinCache[l]&&(uinCache[l]=!0);var p={type:r,url:e,data:t,async:c===!1?!1:!0,success:function(t){function r(e){for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(o=!0),"object"==typeof e[t]&&r(e[t])}var o=!1;r(t);var n=e.split("?")[0];o&&!uinCache[n]&&(uinCache[n]=!0);var c=new Date-s;a&&a(t,c)},error:function(e){var t=new Date-s;a&&a({ec:e.status?e.status:-1e3},t)}};return n&&(p.timeout=n),o&&(p.dataType=o),$.ajax(p)},cache={};module.exports={abTest:!!(new Date%2),status:{bkn:""},"data-cache":{},isLoginError:function(){return isLoginError},encryptSkey:encryptSkey,getCookie:getCookie,getBkn:function(){return bkn()},initReport:function(){},get:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),-1==e.indexOf("?")&&(e+="?"),e+=c.join("&"),ajax(e,null,a,"GET",r,o,n)},post:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),ajax(e,c.join("&"),a,"POST",r,o,n)},cgiHttp:function(opt){if(!opt||!opt.url)return void 0;var _this=this;opt.param=opt.param||{};var timeOpt={url:opt.url},httpFunction,callBack=function(data,ajax_cost){if(timeOpt.time=+new Date,"object"!=typeof data)if(data)if("{"===data.charAt(0)&&"}"===data.charAt(data.length-1))try{data=window.JSON&&JSON.parse?JSON.parse(data):eval("("+data+")")}catch(e){data={ec:999,text:data,msg:"data is no json"}}else data={ec:998,text:data,msg:"data is hijack"};else data={ec:997,text:data,msg:"data is null"};data.delay=ajax_cost,"retcode"in data?data.ec=data.retcode:data.retcode=data.ec;var ec=data.ec,errFlag;switch(ec){case 0:errFlag=!1,(opt.succ||function(){})(data);break;case 111:case-1001:case 1e5:case 100021:isLoginError=!0,window.jQuery&&window.jQuery.event.trigger("logout"),opt.noNeedLogin?errFlag=!0:"undefined"!=typeof Login?Login.show({succ:function(){opt.param.bkn=_this.status.bkn=bkn(),httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)},close:function(){"function"==typeof opt.close&&opt.close.call(this),Badjs&&Badjs("CGI Error , LoginFailed , req:"+opt.url+", ec:"+ec,location.href,0,403860,2)}}):errFlag=!0,Badjs&&Badjs("CGI Error , Need Login,  req:"+opt.url+", ec:"+ec,location.href,0,403855,2);break;case 100021:opt.ldwRetry?errFlag=!0:(opt.ldwRetry=!0,_this.status.bkn=bkn(),opt.param.bkn=_this.status.bkn,httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)),Badjs&&Badjs("CGI Error , Basekey Error , req:"+opt.url+", ec:"+ec,location.href,0,403856,2);break;case 100001:errFlag=!0,Badjs&&Badjs("CGI Error , Param Error:"+JSON.stringify(opt.param)+" , req:"+opt.url+", ec:"+ec,location.href,0,403858,2);break;case 100003:errFlag=!0,Badjs&&Badjs("CGI Error , Internal Error , req:"+opt.url+", ec:"+ec,location.href,0,403857,2);break;case-1e3:errFlag=!0,ec=data.ec=0;break;case 99999:errFlag=!0,Badjs&&Badjs("CGI Error , Need Show VerifyCode Error , red:"+opt.url+", ec:"+ec,location.href,0,0,2);break;case 101402:case 101403:case 101404:case 101405:case 101406:case 102404:case 103404:case 106401:case 106402:case 106403:case 106404:case 106405:case 106406:case 106407:case 106409:case 106410:case 106411:case 106412:case 106413:case 106415:case 106416:case 106425:case 106427:case 106435:case 106457:case 110403:case 109113:case 109122:errFlag=!0,Badjs&&Badjs("CGI Error , Bussines Error , req:"+opt.url+", ec:"+ec,location.href,0,408941,2);break;default:errFlag=!0,Badjs&&Badjs("CGI Error , Other Error , req:"+opt.url+", ec:"+ec,location.href,0,403859,2)}if(MM.report(opt.url,ec,ajax_cost,Cookie.uin()),errFlag){var isBlockDefaultErr=(opt.err||function(){})(data);if(ec&&!_this.status.isDialog&&106457!==ec)if(isBlockDefaultErr){var msg=isBlockDefaultErr.msg;if(msg){msg+=__DEBUG_STR__({url:opt.url,ret:data},"info");var __opt=isBlockDefaultErr.opt||{},_onCancel=__opt.onCancel;opt.onCancel=function(){_onCancel.apply(__opt,arguments),_this.status.isDialog=!1},$.modal.alert(msg,__opt),_this.status.isDialog=!0}}else{var defaultWording="服务器繁忙，请稍后再试",wording={100001:"输入参数错误",100003:"服务器内部错误，请稍后再试",110405:"没有管理权限，请稍后再试"}[ec]||defaultWording,_finally=function(){switch(_this.status.isDialog=!1,ec){case 106507:location.href="/index.html";break;case 106406:case 106407:case 110405:location.href="/index.html"}};if(106507===ec)return _this.status.isDialog=!0,$.modal.alert("由于触犯平台规则，机构功能禁止使用7天",{title:"提示",onCancel:_finally,onAccept:_finally,onClose:_finally});$.modal.alert(wording+("("+ec+")")+__DEBUG_STR__({url:opt.url,ret:data},"info"),{type:"err",onCancel:_finally,onAccept:_finally,onClose:_finally}),_this.status.isDialog=!0}}};opt.param.bkn=bkn(),opt.type&&"GET"!=opt.type.toUpperCase()?(opt.type="POST",httpFunction=_this.post):(opt.type="GET",httpFunction=_this.get);var ret=httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async);return ret},extend:function(e,t,a,r){var o=Object.prototype.toString.call(e);if("[object String]"===o){a=a||this;var n={};n[e]=t,extend(a,n,r)}else"[object Object]"===o&&((null===t||void 0===t)&&arguments.length>=4?(a=a||this,extend(a,e,r)):(r=a,a=t||this,extend(a,e,r)))},addCgi:function(e,t){var a=this,r={};r[e]=function(e){var r={};r.param=e.param||{},r.url=t,r.succ=function(t){(e.succ||function(){})(t)},r.err=function(t){(e.err||function(){})(t)},a.cgiHttp(r)},this.extend(r)},httpMethod:function(e){var t=this;return function(a){var r={};return r.async=e.async===!1?!1:!0,r.param=a.param,r.timeout=a.timeout,e.type&&(r.type=e.type),e.dataType&&(r.dataType=e.dataType),e.noNeedLogin&&(r.noNeedLogin=e.noNeedLogin),r.url=e.url,r.succ=function(t){return(e.succ||a.succ||noop)(t)},r.err=function(t){return(e.err||a.err||function(){})(t)},r.close=function(t){return(e.close||a.close||function(){})(t)},r.isUseModal=a.isUseModal,t.cgiHttp(r)}},wrapGroup:function(e){return e||{}},save:function(e,t){cache[e]=t},getCache:function(e){return cache[e]},clearCache:function(e){cache[e]=null}}});
/*!/edu_modules/pagectrl/page.tpl_tpl*/
;define("/edu_modules/pagectrl/page.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];if(total>1){_$out_.push(" ");var index="undefined"!=typeof idx?idx:1,isFirst=1==index?!0:!1,isLast=index==total?!0:!1,from=parseInt(index-max/2),to=parseInt(index+max/2);(2==from||to==total-2)&&(max+=2);var pager_id="pager_id_"+Math.random().toString().replace(/\D/g,"");if(_$out_.push(" "),max>=total-2){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;len>=i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(" "),from>2&&total-2>to){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_1" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=from,len=total;to>i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i+1==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(' <div class="page-box"> '),2>=from){_$out_.push(' <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;i<=Math.max(max,to);i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> ')}if(_$out_.push(" "),to>=total-2){_$out_.push(' <a auto-test="',pager_id,'_1" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=Math.min(from,total-max),len=total;total>i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i==index-1&&_$out_.push(" page-btn-cur"),i==total-1&&_$out_.push(" page-last"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> ')}_$out_.push(" </div> ")}_$out_.push(" ")}}return _$out_.join("")}}});
/*!edu_modules/pagectrl/pagectrl*/
;define("edu_modules/pagectrl/pagectrl",function(t){var i=t("jquery"),n={};n.page=t("/edu_modules/pagectrl/page.tpl_tpl");var e=function(){var t="defClk",e=(navigator.userAgent.match(/\bMSIE\s+(\d+)\b/)||[0,10])[1]<9,a=function(t,i){return t=parseInt(t)||parseInt(i)||0,0>t?0:t},o=function(t,n,e){this.$container=t instanceof i?t:i(t),this.pageFn=n,this.inited=!1,e&&"object"==typeof e&&this.init(e)};return o.prototype.init=function(t){var i=this;return i.inited?void i.reset(t):(t=t||{},i.begin=t.begin||0,i.total=a(void 0!==t.total?t.total:i.total,0),i.max=a(void 0!==t.max?t.max:i.max,5),i.idx=a(void 0!==t.idx?t.idx:i.idx,1),i.idx=a(t.idx-i.begin||i.idx,0),i.idx>i.total&&(i.idx=Math.max(0,i.total-1)),i.delCurPage=function(){return i.reset({total:i.total-1,max:i.max,idx:i.idx}),i.idx},i.$container.html(n.page({total:i.total,max:i.max,idx:i.idx})),void(this.inited||(this.bindEvent(),this.inited=!0)))},o.prototype.reset=function(t){t=t||{};var i=a(t.idx,0),e=a(t.max,5),o=a(t.total,0);i>o&&(i=Math.max(0,o)),(i!=this.idx||o!=this.total)&&(this.$container,this.$container.html(n.page({total:o,max:e,idx:i})),this.total=o,this.idx=i,this.max=e,this.inited||(this.bindEvent(),this.inited=!0))},o.prototype.select=function(i,e){e=e||{};var a=this,o=a.total,r=a.max;a.$container.html(n.page({total:o,max:r,idx:i}));var c=a.idx;a.idx=i,e.silent||a.pageFn(i,c,t)},o.prototype.bindEvent=function(){var n=this;n.$container.on("click",".page-btn",function(){var e=i(this),o=a(e.attr("data-index"));n.select(o),t="defClk"}),e&&n.$container.on("dblclick",".page-next-btn,page-prev-btn",function(){i(this).trigger("click")}),n.$container.on("click",".page-prev-btn",function(){var e=i(this);e.hasClass("page-btn-dis")||(t="preClk",n.$container.find(".page-btn.page-btn-cur").prev().trigger("click"))}),n.$container.on("click",".page-next-btn",function(){var e=i(this);e.hasClass("page-btn-dis")||(t="nextClk",n.$container.find(".page-btn.page-btn-cur").next().trigger("click"))})},o.prototype.getIdx=function(){return this.idx},o.prototype.getTotal=function(){return this.total},o.prototype.destroy=function(){this.$container.unbind("click dblclick"),this.$container.html("")},o}();return e});
/*!/edu_modules/grid/grid_tpl.tpl_tpl*/
;define("/edu_modules/grid/grid_tpl.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];if(_$out_.push('<div id="',tableId,'" class="grid-wrap ',tableClass,'"> '),headers&&headers.length>0){_$out_.push(' <table cellpadding="0" cellspacing="0" class="grid-header-bg" > <thead> <tr> ');for(var i=0;i<headers.length;i++){var widthStr=headers[i].width?'style="width:'+headers[i].width+'"':"",className=headers[i].className||"";_$out_.push(' <th class="grid-header-',i+1," ",className,'" ',widthStr," ><span>",headers[i].name,"</span></th> ")}_$out_.push(" </tr> </thead> </table> ")}return _$out_.push(' <div class="grid-data-wrap"> <table cellpadding="0" cellspacing="0" class="grid-data" > <tbody> </tbody> </table> <div class="loading-wrap"></div> </div> <div class="grid-page-wrap sort-page"> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/grid/grid_data.tpl_tpl*/
;define("/edu_modules/grid/grid_data.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){for(var _$out_=[],i=0;i<rows.length;i++){_$out_.push("<tr> ");for(var j=0;j<rows[i].length;j++)_$out_.push(' <td style="width:',colWidth[i],'px">',td[i][j],"</td> ");_$out_.push("</tr>")}return _$out_.join("")}}});
/*!edu_modules/grid/grid*/
;define("edu_modules/grid/grid",function(t){var e=t("jquery"),a=t("edu_modules/pagectrl/pagectrl"),i={};i.grid=t("/edu_modules/grid/grid_tpl.tpl_tpl"),i.grid_data=t("/edu_modules/grid/grid_data.tpl_tpl");var d=function(t){var d,r,n=this,l={},s=[],o=i,h=i,g=[],u=[],p=function(){if(l=e.extend(l,t),!l.header)throw"header is undefined";s=l.header,l.gridTmpl&&(o=l.gridTmpl),l.dataTmpl&&(h=l.dataTmpl),d=e(l.el),l.data&&l.data.length>0&&(g=l.data),f(s),c(),w()},f=function(t){for(var a=[],i=0,r=d.width(),n=0;n<t.length;n++)if(t[n].width){var l=parseInt((t[n].width+"").replace("px",""));t[n].width=l+"px",r-=l}else i++,a.push(n);var s=parseInt(r/i);e.each(a,function(e,a){t[a].width=s-1+"px"})},c=function(){var t="";t="function"==typeof o?o({tableId:l.tableId||"",tableClass:l.tableClass||"",headers:l.header}):o.grid({tableId:l.tableId||"",tableClass:l.tableClass||"",headers:l.header}),d.html(t),l.pageCtrl&&n.resetPageCtrl(l.pageCtrl),g.length>0&&n.render(g)},w=function(){d.find(".grid-data").delegate("tr","mouseenter mouseleave",function(t){"mouseenter"===t.type?e(this).addClass("grid-row-hover"):e(this).removeClass("grid-row-hover")})};this.pageCtrl=null,this.render=function(t,a){for(var i="",r=[],n=0;n<s.length;n++)r[n]=s[n].width;i="function"==typeof h?h({rows:t,colWidth:r,ext:a}):h.grid_data({rows:t,colWidth:r,ext:a});var l=1;i=i.replace(/(^\s*)|(\s*$)/g,"");var o=e(i).each(function(){var t=1;e(this).addClass("grid-row-"+l),e(this).find("td").each(function(){(e(this).attr("style")+"").indexOf("width")<0&&e(this).css("width",r[t-1]),e(this).addClass("grid-col-"+t),t++}),l++});d.find(".grid-data tbody").html(o)},this.onPageChange=function(t){u.push(t)},this.resetPageCtrl=function(t){this.pageCtrl?this.pageCtrl.reset(t):(r=e(t.el||d.find(".sort-page")),this.pageCtrl=new a(r,function(){var t=arguments;e.each(u,function(e,a){a.apply(n,t)})},{max:t.max,total:t.total,begin:t.begin||0,idx:t.idx||1}))},this.delegate=function(t,e,a){d.delegate(t,e,function(t){a(n,t)})},this.getRowCount=function(){return d.find(".grid-data-wrap table tr").length},this.jumpPage=function(t){this.pageCtrl&&r.find(".page-btn[data-index="+t+"]").trigger("click")},this.toggleLoad=function(){var t=d.find(".loading-wrap");t.is(":hidden")?t.show().spin({top:"100px"}):t.hide()},this.showLoad=function(){var t=d.find(".loading-wrap");t.show().spin({top:"100px"})},this.hideLoad=function(){var t=d.find(".loading-wrap");t.hide()},this.destroy=function(){d.html(),d.undelegate(),d.find(".grid-data").undelegate(),this.pageCtrl&&this.pageCtrl.destroy()},p(),this.$elem=d};return d});
/*!common/serve/config*/
;define("common/serve/config",function(e,i,o){var c="/service/{sid}",r=o.exports={ORDER_MAP:{10:"待付款",20:"支付成功",30:"支付超时",40:"已使用完",50:"退款中",60:"退款确认",70:"退款完成",80:"退款拒绝"},getDetailUrl:function(e){return e?c.replace("{sid}",e):"no sid"},getID:function(e){return e.package_id||e.course_id||e.commodity_id},getName:function(e){return e.course_name||e.commodity_name||"无名称"},getUrl:function(e){return e.commodity_id?r.getDetailUrl(e.commodity_id):e.package_id?"/course/package/"+e.package_id:"/course/"+e.course_id}}});
/*!common/clipboard*/
;define("common/clipboard",function(t,e,n){!function(t){if("object"==typeof e&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,i.Clipboard=t()}}(function(){var e;return function n(e,i,o){function r(c,s){if(!i[c]){if(!e[c]){var l="function"==typeof t&&t;if(!s&&l)return l(c,!0);if(a)return a(c,!0);var u=new Error("Cannot find module '"+c+"'");throw u.code="MODULE_NOT_FOUND",u}var f=i[c]={exports:{}};e[c][0].call(f.exports,function(t){var n=e[c][1][t];return r(n?n:t)},f,f.exports,n,e,i,o)}return i[c].exports}for(var a="function"==typeof t&&t,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(t,e){function n(t,e){for(;t&&t!==document;){if(t.matches(e))return t;t=t.parentNode}}if(Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},{}],2:[function(t,e){function n(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function i(t,e,n,i){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&i.call(t,n)}}var o=t("./closest");e.exports=n},{"./closest":1}],3:[function(t,e,n){n.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},n.nodeList=function(t){var e=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===e||"[object HTMLCollection]"===e)&&"length"in t&&(0===t.length||n.node(t[0]))},n.string=function(t){return"string"==typeof t||t instanceof String},n.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},{}],4:[function(t,e){function n(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!a.string(e))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(t))return i(t,e,n);if(a.nodeList(t))return o(t,e,n);if(a.string(t))return r(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function r(t,e,n){return c(document.body,t,e,n)}var a=t("./is"),c=t("delegate");e.exports=n},{"./is":3,delegate:2}],5:[function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName)t.focus(),t.setSelectionRange(0,t.value.length),e=t.value;else{t.hasAttribute("contenteditable")&&t.focus();var n=window.getSelection(),i=document.createRange();i.selectNodeContents(t),n.removeAllRanges(),n.addRange(i),e=n.toString()}return e}e.exports=n},{}],6:[function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){o.off(t,i),e.apply(n,arguments)}var o=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;for(i;o>i;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,a=i.length;a>r;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},e.exports=n},{}],7:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","select"],r);else if("undefined"!=typeof i)r(n,t("select"));else{var a={exports:{}};r(a,o.select),o.clipboardAction=a.exports}}(this,function(t,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=function(){function t(e){i(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem);try{this.selectedText=o.default(this.fakeElem)}catch(i){}this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){try{this.selectedText=o.default(this.target)}catch(t){}this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=c})},{select:5}],8:[function(t,n,i){!function(o,r){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof i)r(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var a={exports:{}};r(a,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=a.exports}}(this,function(t,e,n,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=o(e),u=o(n),f=o(i),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(t,n){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return c(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText}},{key:"listenClick",value:function(t){var e=this;try{this.listener=f.default(t,"click",function(t){return e.onClick(t)})}catch(n){}}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null);try{this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),trigger:e,emitter:this})}catch(n){}}},{key:"defaultAction",value:function(t){return s("action",t)}},{key:"defaultTarget",value:function(t){var e=s("target",t);return e?document.querySelector(e):void 0}},{key:"defaultText",value:function(t){return s("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),e}(u["default"]);t.exports=h})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})});
/*!/agency/index/dealSearch2/tpl/searchResult.tpl_tpl*/
;define("/agency/index/dealSearch2/tpl/searchResult.tpl_tpl",function(require,exports,module){return function(it,opt){function getUrl(e){return $.render.course_link(e.order)}function getWidth(e){return cols[e]?"width:"+cols[e]:""}function getFullAddress(e){var r=getAddress(e);return[r,e.phone,e.receiver].join(" ")||"无"}function getAddress(e){return fullAddr=e.province+(e.city||"")+(e.district||"")+(e.address||"")}function getLogType(e,r){var t="";switch(e){case 2:switch(t="付款",r){case 6:t="赠送";break;case 5:t="付款[现金]";break;case 4:t="分期乐";break;case 3:t="京东支付";break;case 2:t="分期支付";break;case 1:t="付款[课点]";break;case 0:t="付款[现金]"}break;case 1:t="免费"}return t}function getLogTypeMore(e){var r="";return 0!==e.courseInfo.package_id?r="系列课":e.courseInfo.name&&0!==e.courseInfo.term_id&&(r=e.courseInfo.name),r}function getPayState(e,r,t,o){return getPayStateCourse(e,r,t,o)}function getPayStateCourse(e,r,t,o){var s={1:"待付款",2:"订单确认中",3:"订单确认中",4:"交易失败",5:"交易成功",6:"订单确认中",7:"订单确认中",8:"退款中",9:"退款中",10:"退款完成",11:"退款失败",101:"退款确认中",200:"待分期",201:"分期中",209:"分期终止",210:"分期完成",300:"机构退款"},a=s[e];1===row.order.course_payid&&10===e&&(a="取消报名");var d=t.order||{},i=t.presale||{};return 1===e&&1101===d.source&&1e3*i.pay_end<o.serverTime&&(a="已过期"),a}with(it=it||{}){for(var _$out_=[],SourceInstallment=7,studentTypeMap={0:"QQ",2:"微信",1001:"游客"},emptyAvatar="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFQAAABWCAYAAABRo7HKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAZSSURBVHja7Z0Hj/MgDIbz///h7b333senB8lVmq9Jk9gGmisSul7bgP3W8cKQKqybaavWEEwQ0O/v7/Dy8hLu7u7CxcVFODo6Cnt7e2F7eztsbW2FjY2NsLm5Gf/f3d0N+/v78Tt8l2u4ljH+LKC/v7/h+fk5XF5eRnAArQ7U6elpBIvP6VdXV/Ev752fn8fOd/gu13AtY/Ca7zE2c0weUBgFCCQOEAAEcADMojMWYzI2czAXc04K0J+fn3BzczMD8eTkZCZ1np05mEvAhQZoWVlAIf76+jrqvoODA1NJHCO50AAt0OQJrAugIpEwkUIah0jt4eHhTGKLB/Tp6SkcHx9HC40BKQXIZoc2aIRWaC4SUAjFrcEQlApks0MrNPO6GEDf3t6ijhKXZVXArKsBaD87O4u8ZAX04eEh6iNuHUsm7+/vw+vra/j8/IwGBJ+Szmve4zO+YzknHgG8wFMWQG9vb6PVtLLeRDzv7++DHHIARqq41sobgCd4SwooFhLdowWTcR4fH6PUaRtjIF2MqQUV3sZ6AdVYMDVWHF/QQl916XXm0HgBY0Gtht7mxMwaMCEyRSKDOTTSCo/wOvT2r4YYIK3ORGpSZoWYSyOpolOHGKqq7y3EwLgWGv2E0UndmFNDMzzDe18V1QtQfimta4TxydWYW0M7vIOBCaAMiOOrIcg7IdE3UaPhQTBQAUqci7XTRkCpc5JtuVhtRAUWy2L/TkARdYvYvITlCWiwiP3BZBSguBxkZLREaKIO6wYtWn7ApMs/rdp0DnGtRQoupzGyNk7in4JNm01YCCgKnESsRXxcgv600qPSBZtegII8fpdVKm5qEipSCkaLpLRapGe0blIzi1RKs8pKiRu1SJf+Byj6wXpBrZRmvfAHVp2AomNYdrXOik/FbWp2sGraiDlA8bPIXFtPnCOGt47p27L8YLYQUDLliLDHuhC1R7kbNHisRzWNU1UPMy0c+VItvZWFX+To18PRyjKj1Na1C18WDRo8eGtmomaAgrRHuQyuRa5KuHqDBu16U5u1B7s5QLGA6AKPX7AE/empR+lgJ55M5eku0b++vooBFFo8eKy7T5Vklqxi91KderntPXgEO4maKk+DRJKltKbN3C8zTBFQKcP2+PUsihhKv+WlPH0GqJeFp1uXC5aQvuuy9BFQi3WjLreplObhNtXXm2aAUiHhWYr48fGRHUxUj2dJJBjOACWG96zBnHKkJF1SeRFQywx9VwovRxqPOUleeBfuzgGqrabrK6VEKikdfeaiONcrMdJ6y+Ppp9r2kjLz5A1kq1FifSTlPqJU5Ywp90HNuU2ejn0u35Q5Uu4mmXPsPXOhOZImXhFR79DTMznStdPDq1nvEBmcHPFM36VevPNYjBucvvNMMC8LSy3rRmXnc2o+/kswp3advKIo72io9xJILsMkHedb2xgjB+2ti3Sey8jeCRSuzUV36zKyddXdmOz+GFC5xiMLry508CzF8ZLUnJK5tBQnp/u0qoAuLRbzKmf0ivNTxuujyhklarIsuPVeJc2lPzlPpVfBrRinHGeGjKl2tqxKdikJl0rfVLE9vzJuB/pwTA0U13AtY6SKkgZtWhAptdpW07Z3CWXusWbPmIxtsSfJbFuN6FJLR18O/Uu9BCKHFFo68oM3fknTbk2Uw1hybpyt33Xaw1/Y6i2J5FGADt08i8UlQcHe8hJqQrv0LjRCa18vwWTzrBioLjcKglgMG2tUSgAX2uGhC1yT7d1tmSgUPr9USYVglkYN3upGzfQAApockcEkqyiFGumFZ6y66REZkrxFh0xRKrukFZ7ND3GRxq9FQqCkMm9Plwte3Y4ZavqnUwYV3pb5m2aACqg7OztFlClaN3iCt2RHtdWTEugXi/WgUhq8wJNmS7r6uEusf0l74jUCMvQUMXNA5RYhYcByQAkh5piQFNrhwUKFmR4ZvGhJoORWX/Kxai6HWpNQKdkLgDY5g6nYQ62bXoCU9pTyjA6arEFB20ocu97UTSQbZIdJzgiLuaVseyUfDNAEVh4UwC1GVieF8WIO5mLOSTy6os0IoLu45WCUsM6ypJGxGJOxmWOSD1dpy+LUH/+DM918PhIujGyJqUsd7/FZ8/lLjPHnHv/TZSyWPaCKzmve47P1A6r+SFsDatz+AZpEeihNGLVxAAAAAElFTkSuQmCC",orderLabel={1101:"预",15:"尾",50:"拼",51:"砍"},i=0;i<rows.length;i++){var studentType,row=rows[i],cols=colWidth,price=isNaN(row.order.pay_price)?row.order.course_price:row.order.pay_price,money=$.render.price(1===row.order.order_state?0:price,!1,!0,!0),pay_maintype=row.order.pay_maintype,log_type=row.order.course_payid,source=row.order.source,label=orderLabel[row.order.source],saleLabel=row.order.pay_channel>1e3;if(row.order.order_state>=200&&row.order.order_state<=210&&(money=$.render.price(row.pay_price)),studentType=studentTypeMap[row.order.uid_type]||"未知",row.order.ios&&(pay_maintype=2),1===log_type&&pay_maintype){var text="Q币";2===pay_maintype&&(text="课点"),money&&money.indexOf("0元")&&(money=money.replace("0元",text)),money=money.replace("元",text)}2===source&&(money=$.render.price(row.order.course_price,!1,!0,!0)),3===source&&(money=$.render.price(0,!1,!0,!0)),_$out_.push('<tr> <td auto-test="ds-r-',row.order.uin,'-0" style="',getWidth(0),'"> <p class="order-id">',row.id||row.order.order_id||"-","</p> "),row.settle&&(_$out_.push(" "),1===row.settle.from_flag?_$out_.push(' <div class="order-type-platform">平台</div> '):2===row.settle.from_flag&&_$out_.push(' <div class="order-type-agency">机构</div> '),_$out_.push(" ")),_$out_.push(' </td> <td auto-test="ds-r-',row.order.uin,'-0" style="',getWidth(1),'"> ',$.render.time.formatDate("YYYY-MM-DD",1e3*row.order.create_time)," <br/> ",$.render.time.formatDate("hh:mm:ss",1e3*row.order.create_time),' </td> <td auto-test="ds-r-',row.order.uin,'-0" style="',getWidth(2),'"> '),row.order.pay_time?_$out_.push(" ",$.render.time.formatDate("YYYY-MM-DD",1e3*row.order.pay_time)," <br/> ",$.render.time.formatDate("hh:mm:ss",1e3*row.order.pay_time)," "):_$out_.push(' <p style="text-align: center;">-</p> '),_$out_.push(' </td> <td style="',getWidth(3),'"> ',row.courseInfo.course_id||row.courseInfo.package_id,' </td> <td style="',getWidth(4),'"> <div style="',getWidth(4),'"> <a href="',getUrl(row,ext),'" title="',row.order.course_name,'" target="_blank" class="link-url" ><span class="one-line" style="',getWidth(4),'">',row.order.course_name,'</span> </a> <span class="one-line" title="',getLogTypeMore(row,ext),'" style="',getWidth(4),'">',getLogTypeMore(row,ext),'</span> </div> </td> <td auto-test="ds-r-',row.order.uin,'-1" style="',getWidth(5),'" class="student-info-wrapper break-line"> <div class="student-info"> <div class="avatar"> <img src="',row.head_url||emptyAvatar,'"> </div> <div class="text"> <div class="name"> '),1001!=row.order.uid_type?_$out_.push(' <span class="one-line" style="width: 84px;" title="',row.order.nick_name||"空",'"> ',row.order.nick_name||"空"," </span> "):_$out_.push(" <span>游客</span> "),_$out_.push(' </div> <div class="detail one-line" style="width: 80px;" title="',studentType,": ",row.order.uin,'"> ',studentType,": ",row.order.uin,'<br> </div> </div> </div> <div class="student-info-clicktips none"> <div class="avatar"> <img src="',row.head_url||emptyAvatar,'"> </div> <div class="text"> <div class="name"> '),1001!=row.order.uid_type?_$out_.push(' <span class="one-line" title="',row.order.nick_name||"空",'"> ',row.order.nick_name||"空"," </span> "):_$out_.push(" <span>游客</span> "),_$out_.push(' </div> <div class="detail one-line" title="',studentType,": ",row.order.uin,'"> ',studentType,": ",row.order.uin,'<br> </div> </div> <button class="copy" data-clipboard-text="',row.order.uin,'">复制帐号</button> </div> </td> <td auto-test="ds-r-',row.order.uin,'-0" style="',getWidth(6),'"> ',row.contact.phone||"无",' </td> <td class="contact-info-wrapper" auto-test="ds-r-',row.order.uin,'-3" style="',getWidth(7),'"> '),row.address?_$out_.push(' <div class="contact-info"> <p style="margin: 0;">',getFullAddress(row.address),'</p> <div class="index-manager-hovertips none">',getFullAddress(row.address),'</div> </div> <div class="index-manager-clicktips none"> <ul> <li><span>收件人</span>',row.address.receiver,"</li> <li><span>手机号</span>",row.address.phone,"</li> <li><span>详细地址</span><p>",getAddress(row.address),'</p></li> </ul> <button class="copy" data-clipboard-text="',getFullAddress(row.address),'">复制地址</button> </div> '):_$out_.push(" 无 "),_$out_.push(' </td> <td auto-test="ds-r-',row.order.uin,'-5" style="',getWidth(8),'"> ',getPayState(row.order.order_state,source,row,ext),' </td> <td auto-test="ds-r-',row.order.uin,'-6" style="',getWidth(9),'"> '),source==SourceInstallment?_$out_.push(' <a href="/agency/installDetail/index.html#course_id=',row.order.cid,"&agency_id=",ext.agency_id,"&installment_id=",row.order.order_id,"&term_id=",row.courseInfo.term_id,"&uin=",row.order.uin,'" title="分期明细" target="_blank" class="link-url">分期明细</span> </a> '):(_$out_.push(' <span auto-test="ds-r-',row.order.uin,'-4" class="hot"> ',money," "),label&&_$out_.push(' <span class="order-label">',label,"</span> "),_$out_.push(" "),saleLabel&&_$out_.push(' <span class="order-label sale-label">分</span> '),_$out_.push(" </span> ")),_$out_.push(" <div>",getLogType(row.order.course_payid,row.flag.show_pay_type,source,ext),'</div> </td> <td class="remark-wrapper" style="',getWidth(10),'"> <button class="',row.hasRemark?"show-remark":"create-remark",'" data-orderId="',row.id,'" data-payId="',row.order.course_payid,'" data-uin="',row.order.uin,'" data-termId="',row.order.term_id,'" > ',row.hasRemark?"查看":"新增"," </button> </td></tr>")}return _$out_.join("")}}});
/*!/agency/index/dealSearch2/fuzzy/tpl.tpl_tpl*/
;define("/agency/index/dealSearch2/fuzzy/tpl.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[],now=new Date,order_start=now.getFullYear()+"-"+(now.getMonth()+1)+"-1",order_end=now.getFullYear()+"-"+(now.getMonth()+1)+"-"+now.getDate();return _$out_.push('<!--课程订单--><div class="tab-panel"> <!-- 查询条件 --> <div class="jgm-bd jgm-bd-block"> <label class="rf-left" style="margin-left: 0;margin-right: 11px">创建时间</label> <div class="f-date-wrap" id="js_order_start"> <input type="text" data-name="date" class="f-date" placeholder="选择开始日期" value="',order_start,'"> <i class="icon-font i-calendar"></i> </div> <label class="rf-left">至</label> <div class="f-date-wrap" id="js_order_end"> <input type="text" data-name="date" class="f-date" placeholder="选择结束日期" value="',order_end,'"> <i class="icon-font i-calendar"></i> </div> <label class="rf-left" style="margin-left: 20px">课程类型</label> <div class="diy-select-area js-course-type-selector" id="js-course-type-select"> <a href="javascript:;" class="diy-select js-course-type-selector" data-select="course_type"> <i class="text" data-tips="请选择课程类型">付费课程</i> <span class="diy-select-toggle"><b></b></span> </a> <ul class="diy-optgroud"> <li class="diy-option" data-value="0"><a href="javascript:;">全部</a></li> <li class="diy-option selected" data-value="2"><a href="javascript:;">付费课程</a></li> <li class="diy-option" data-value="1"><a href="javascript:;">免费课程</a></li> </ul> </div> <a class="toggle-btn" data-order="0"><span class="txt">展开更多查询条件</span><span class="icon-font i-v-bottom"></span></a> </div> <div class="toggle-area"> <div class="jgm-bd jgm-bd-block"> <label class="rf-left" style="width: 52px">订单号</label> <input type="text" class="ipt-text" maxlength="64" data-tips="请输入完整订单号精确查询" data-msg="请输入完整订单号精确查询" name="orderId" id="js-orderId" placeholder="请输入完整订单号精确查询"/> <label class="rf-left" style="margin-left: 20px">支付类型</label> <div class="diy-select-area" id="js-type-select"> <a href="javascript:;" class="diy-select" id="js-type"><i class="text" data-tips="全部">全部</i> <span class="diy-select-toggle"><b></b></span> </a> <ul class="diy-optgroud"> <li class="diy-option selected" data-value="1"><a>全部</a></li> <li class="diy-option" data-value="2"><a>付款[现金]</a></li> <li class="diy-option" data-value="3"><a>付款[课点]</a></li> <li class="diy-option" data-value="4"><a>分期乐</a></li> <li class="diy-option" data-value="5"><a>分期支付</a></li> <li class="diy-option" data-value="6"><a>京东支付</a></li> </ul> </div> <label class="rf-left" style="margin-left: 20px">订单类型</label> <div class="diy-select-area" id="js-order-type-select"> <a href="javascript:;" class="diy-select" id="js-order-type"> <i class="text" data-tips="全部">全部</i> <span class="diy-select-toggle"><b></b></span> </a> <ul class="diy-optgroud"> <li class="diy-option selected" data-value="-1"><a>全部</a></li> <li class="diy-option" data-value="0"><a>正常</a></li> <li class="diy-option" data-value="1101"><a>预售款</a></li> <li class="diy-option" data-value="15"><a>尾款</a></li> <li class="diy-option" data-value="50"><a>拼团</a></li> <li class="diy-option" data-value="51"><a>砍价</a></li> </ul> </div> </div> <div class="jgm-bd jgm-bd-block"> <label class="rf-left" style="margin-left: 0;margin-right: 11px">交易时间</label> <div class="f-date-wrap" id="js_pay_start"> <input type="text" data-name="date" class="f-date" placeholder="选择开始日期" value=""> <i class="icon-font i-calendar"></i> </div> <label class="rf-left">至</label> <div class="f-date-wrap" id="js_pay_end"> <input type="text" data-name="date" class="f-date" placeholder="选择结束日期" value=""> <i class="icon-font i-calendar"></i> </div> <label class="rf-left" style="margin-left: 20px">交易状态</label> <div class="diy-select-area diy-select-checkbox f-select-tiny" id="js-result-select" style="margin-right: 0"> <div class="diy-select" id="js-result"> <i class="text text-tip" data-tips="请选择交易状态">请选择交易状态</i> <span class="diy-select-toggle"><b></b></span> </div> <ul class="diy-optgroud"> <li class="diy-option diy-option-all" data-value="-1"><a href="javascript:;"><i class="check-box"></i>全部</a></li> <li class="diy-option" data-value="1"><a href="javascript:;"><i class="check-box"></i>待付款</a></li> <li class="diy-option" data-value="5"><a href="javascript:;"><i class="check-box"></i>交易成功</a></li> <li class="diy-option" data-value="4"><a href="javascript:;"><i class="check-box"></i>交易失败</a></li> <li class="diy-option" data-value="8"><a href="javascript:;"><i class="check-box"></i>退款中</a></li> <li class="diy-option" data-value="10"><a href="javascript:;"><i class="check-box"></i>退款完成</a></li> <li class="diy-option" data-value="11"><a href="javascript:;"><i class="check-box"></i>退款失败</a></li> </ul> <div class="diy-option-save"><a class="btn-default btn-example btn-opt-save">确定</a></div> </div> </div> <div class="jgm-bd jgm-bd-block"> <label class="rf-left" style="width: 52px">学员ID</label> <input type="text" class="ipt-text" data-tips="请输入QQ号/学员ID" data-msg="请输入QQ号/学员ID" name="qqNum" id="js-qq" placeholder="请输入QQ号/学员ID" /> <label class="rf-left" style="margin-left: 20px">学员类型</label> <div class="diy-select-area js-student-type-selector" id="js-student-type-select"> <a href="javascript:;" class="diy-select js-student-type-selector"> <i class="text" data-tips="请选择学员类型">全部</i> <span class="diy-select-toggle"><b></b></span> </a> <ul class="diy-optgroud"> <li class="diy-option diy-option-all selected" data-value="-1"><a href="javascript:;">全部</a></li> <li class="diy-option" data-value="0"><a href="javascript:;">QQ</a></li> <li class="diy-option" data-value="2"><a href="javascript:;">微信</a></li> <li class="diy-option" data-value="1001"><a href="javascript:;">游客</a></li> </ul> </div> <label class="rf-left" style="margin-left: 12px">课程ID</label> <div class="diy-select-area" id="js-coursesid-selector"> <div class="diy-select" data-select="course_id"> <input type="text" id="js-courseid" class="diy-select-ipt" placeholder="加载中..." autocomplete="off" /> <span class="diy-select-toggle"><b></b></span> </div> <ul class="diy-optgroud"> </ul> </div> </div> <div class="jgm-bd jgm-bd-block"> <div class="inline-block-form-item"> <label class="rf-left" style="margin-left: -16px">课程名称</label> <div class="diy-select-area" id="js-courses-selector"> <div class="diy-select" data-select="course_name"> <input type="text" id="js-course" class="diy-select-ipt" placeholder="加载中..." autocomplete="off" /> <span class="diy-select-toggle"><b></b></span> </div> <ul class="diy-optgroud"> </ul> </div> </div> <div class="inline-block-form-item form-item--class"> <label class="rf-left" style="margin-left: 20px">查询班级</label> <div class="diy-select-area" id="js-classes-selector"> <a href="javascript:;" class="diy-select" data-select="classes_name"> <i class="text text-tip" data-tips="请选择班级">全部</i> <!-- <input type="text" id="js-classes-name" class="diy-select-ipt" placeholder="全部"/> --> <span class="diy-select-toggle"><b></b></span> </a> <ul class="diy-optgroud"> </ul> </div> </div> </div> </div></div><div class="jgm-bd jgm-bd-block"> <a href="javascript:void(0)" title="查询" id="to-search" class="btn-default" style="margin-left:62px;width:80px;height:32px;line-height:32px;" report-tdw="action=Transaction-search">查询</a></div><p style="text-align:left;position: relative;"> <span class="search-tips">注：京东支付与分期乐订单不参与半月常规结算，将在下月通过对公账户打款方式结算，具体结算办法请参考<a style="color:#23b8ff" target="_blank" href="https://ke.qq.com/service_agency.html#id=63">《腾讯课堂课程资金结算办法周知》</a></span> <a href="javascript:void(0)" title="导出数据" id="to-download" style="display:none;position:absolute;right:0;" report-tdw="action=Transaction-download"><i class="icon-font i-download"></i>&nbsp;导出数据</a></p><div class="jgm-bd jgm-bd-block" id="search-table"></div><div id="deal-no-data" class="nodata-info lazy-show"> <div class=""></div> <div class="ico-wording" style="position: relative;top: 20px;"><i class="icon-msg-large icon-font i-alert"></i><span>暂无相关数据</span></div> <div class="clear"></div></div>'),_$out_.join("")}}});
/*!/agency/index/dealSearch2/fuzzy/remark.tpl_tpl*/
;define("/agency/index/dealSearch2/fuzzy/remark.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="remark-input-wrapper"> <input id="remark-input" type="text" placeholder="备注内容不超过200字，仅机构人员可见" /> <button id="create-remark-btn" class="btn-default btn-disabled">添加备注</button></div><div class="remark-list-wrapper"> <p class="remark-title">历史备注</p> <ul id="remark-list" class="no-remark"> <li> <p class="remark-item-content">数据加载中...</p> </li> </ul></div>'),_$out_.join("")}}});
/*!/agency/index/dealSearch2/fuzzy/remarkList.tpl_tpl*/
;define("/agency/index/dealSearch2/fuzzy/remarkList.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){for(var _$out_=[],i=0,len=list.length;len>i;i++)_$out_.push(' <li> <p class="remark-item-title"> <span>',$.render.time.formatDate("YYYY-MM-DD hh:mm:ss",1e3*list[i].create_time),"</span> <span>",list[i].nick_name,'</span> </p> <p class="remark-item-content">',list[i].remark,"</p> </li>");return _$out_.join("")}}});
/*!edu_modules/edu-user/src/user.adapter*/
;define("edu_modules/edu-user/src/user.adapter",function(e,r,o){var w;if(window.jQuery)w=window.jQuery;else{if(!window.$)throw new Error("没有找到jQuery或zepto");w=window.$}o.exports=w});
/*!edu_modules/edu-user/src/user.local*/
;define("edu_modules/edu-user/src/user.local",function(e,t,r){var a=e("edu_modules/local.data/local.data"),u="__userinfo";r.exports={get:function(){var e,t={};try{e=a.get(u),e&&(t=JSON.parse(a.get(u))||{})}catch(r){}return t},set:function(e){try{a.set(u,JSON.stringify(e))}catch(t){}}}});
/*!edu_modules/edu-user/src/user.base*/
;define("edu_modules/edu-user/src/user.base",function(e,i,s){var n=e("edu_modules/edu-user/src/user.local"),r={aid:0,is_login:0,nick_name:"",face_url:"",role_type:64,role_info:0,uid:"",skey:"",uid_type:0,isWeixinUser:!1,isQQUser:!0,isMaster:!1,isPersonal:!1,isAdmin:!1,isCustomAdmin:!1,isCourseTeacher:!1,isTeacher:!1,isStudent:!0,isPlatRole:!1};s.exports={updateInfo:function(e){for(var i in e)"undefined"!=typeof r[i]&&(r[i]=e[i]);n.set(r)},getInfoSync:function(){return r},getRoleInfoSync:function(){var e={},i=r.role_info||0,s={isRoleAssistant:1,isRoleTeacher:2,isRoleTeachingManager:7,isRoleSuperManager:8,isRoleSalesManager:16,isTeachingAffairs:17,isSaler:18,isRoleFinancialAffairs:19,isCustomize1:20,isCustomize2:21};for(var n in s){var o=s[n];e[n]=(i&1<<o)>0?!0:!1}return e},extendBaseInfo:function(e){e=e||{};for(var i in e){if("undefined"!=typeof r[i])throw new Error("定义了重复的基础字段");r[i]=e[i]}}}});
/*!edu_modules/edu-user/src/user.uid*/
;define("edu_modules/edu-user/src/user.uid",function(e,u,i){var t=e("edu_modules/util.cookie/util.cookie");i.exports=function(){var e="",u="",i=0;return 2===Number(t.get("uid_type"))?(i=2,e=t.get("uid_uin")||"",u=t.get("uid_a2")||""):(e=t.get("p_luin")||t.get("p_uin")||"",u=t.get("p_lskey")||t.get("p_skey")||"",i=0,e&&(e=parseInt(e.substring(1,e.length),10))),e=String(e),{uid:e,skey:u,uid_type:i,isWeixinUser:2===i,isQQUser:2!==i}}});
/*!edu_modules/edu-user/src/user.cgi*/
;define("edu_modules/edu-user/src/user.cgi",function(e,r,s){var u=e("edu_modules/edu-db/edu-db"),t=e("edu_modules/edu-user/src/user.adapter"),i=e("edu_modules/edu-user/src/user.base"),d={MASTER:1,PERSONAL:2,ADMIN:4,CUSTOMADMIN:8,COURSETEACHER:16,TEACHER:32,STUDENT:64};s.exports=function(){var e=t.Deferred();return u.httpMethod({url:"/cgi-bin/identity/info",type:"POST"})({}).then(function(r){if(!r||0!==r.retcode)return e.reject("server error");var s=r.result.role_type||0,u={isMaster:!!(s&d.MASTER),isPersonal:!!(s&d.PERSONAL),isAdmin:!!(s&d.ADMIN),isCustomAdmin:!!(s&d.CUSTOMADMIN),isCourseTeacher:!!(s&d.COURSETEACHER),isTeacher:!!(s&d.TEACHER),isStudent:!!(s&d.STUDENT)};u.isPlatRole=u.isMaster||u.isPersonal||u.isAdmin||u.isCustomAdmin||u.isCourseTeacher||u.isTeacher;var n=i.getInfoSync();r.result.face_url=r.result.face_url||"//q.qlogo.cn/g?b=qq&nk="+n.uin+"&s=100",r.result.uid=String(r.result.uid),r.result.face_url=r.result.face_url.replace(/&amp;/g,"&"),t.extend(r.result,u),e.resolve(r.result)},function(r){e.reject(r)}),e.promise()}});
/*!edu_modules/modal/modal*/
;define("edu_modules/modal/modal",function(require,exports,module){var $=require("jquery"),Observer=require("@tencent/im-observer/observer"),isDebug=!0,modalIndex=0;$.template=function(tmpl,data){var evalExp=function(exp,scope){return function(){var __res;try{with(scope)__res=eval(exp)}catch(e){}return"undefined"==typeof __res?"":__res}.call(scope)},position=0,stacks=[!0],regexp=/\{if ([^\}]+)\}|\{\/if\}|\{else\}|\{else if ([^\}]+)\}/gi,res="";return tmpl.replace(regexp,function(t,e,s,n){var o=stacks.pop();return o&&(res+=tmpl.substr(position,n-position)),position=n+t.length,e?(stacks.push(o),stacks.push(o&&evalExp(e,data)?!0:!1),stacks.push(stacks[stacks.length-1])):s?stacks.push(stacks[stacks.length-1]?!1:evalExp(s,data)?!0:!1):/\{else\}/i.test(t)?stacks.push(stacks[stacks.length-1]?!1:!0):stacks.pop(),""}),stacks.pop()&&(res+=tmpl.substr(position)),tmpl=res,tmpl=tmpl.replace(/\{\$([^\{\}]+)\}/g,function(t,e){return evalExp(e,data)})};var templateBg='<div tabindex="-1" class="overlay js-modal-bg"></div>',templateModal='<div class="js-modal modal  {$className} {if icon}modal--msg{/if} {if scroll}modal--scroll{/if}" style="{if width}width:{$width}px;{/if}{if style}{$style}{/if}" >';templateModal+="{if !nohead}",templateModal+='  <div class="modal-hd"><h3 class="hd-tt js-modal-title">{$title}</h3><a href="javascript:void(0);" class="js-modal-close btn-close" {if !isClose}style="display:none;"{/if} title="关闭">×</a></div>',templateModal+="{/if}",templateModal+="{if !body}",templateModal+='  <div class="modal-bd {if padding}modal-bd--padding{/if}" style="{if height}height:{$height}px;{/if}">',templateModal+="  {if icon}",templateModal+='      <div class="bd-msg"><i class="icon-font icon-msg-large i-{$icon}"></i>',templateModal+='      <p class="msg-text">{$content}</p></div>',templateModal+="  {else}",templateModal+="      {$content}",templateModal+="  {/if}",templateModal+="  </div>",templateModal+='  <div class="modal-ft">',templateModal+='  <a href="javascript:void(0);" title="{$txtYes}" class="js-modal-yes btn-default {if !enableYes} btn-disabled{/if}" {if !isYes}style="display:none;"{/if}>{$txtYes}</a>',templateModal+="  ",templateModal+='  <a href="javascript:void(0);" title="{$txtNo}" class="js-modal-no btn-weak {if !enableNo} btn-disabled{/if}" {if !isNo}style="display:none;"{/if}>{$txtNo}</a>',templateModal+="  </div>",templateModal+="{else}",templateModal+="  {$body}",templateModal+="{/if}",templateModal+="",templateModal+="</div>";var addDrag=function(t,e,s){var n=!1,o=0,a=0,i=$(t),l=$(e),c=$.extend({opacity:.6,duration:.3},s),d=function(t){n&&l.css({left:t.pageX-o+"px",top:t.pageY-a+"px"})},r=function(){n=!1,l.css({transition:"none",opacity:"1"}),$(document.body).off("mousemove",d)};i.mousedown(function(t){n=!0,o=t.pageX-parseInt(l.css("left")),a=t.pageY-parseInt(l.css("top")),l.css({transition:"opacity "+c.duration+"s ease-in",opacity:c.opacity}),$(document.body).mousemove(d).one("mouseup",r)})};$.fn.drag=function(t,e){t||(t=this),addDrag(this,t,e)};var Modal=function(t){this._index=modalIndex++;var e={title:"提示",className:"",style:"",content:"",txtYes:"确定",txtNo:"取消",icon:"",nohead:!1,body:"",hotkey:!0,isYes:!0,isNo:!0,isClose:!0,enableYes:!0,enableNo:!0,enableClose:!0,buttonsAlign:"right",enableDrag:!0,enableBgClose:!1,width:500,height:"",padding:!0,scroll:!1,yes:function(){},no:function(){},onClose:function(){Observer.trigger("dialog.close")},onOpen:function(){Observer.trigger("dialog.show")}};this.opts=$.extend(e,t),this._buttonState={};var s={submit:"txtYes",isDisabled:"enableYes",globalClass:"className",onAccept:"yes",onCancel:"no"};$.each(s,function(t,s){"undefined"!=typeof e[t]&&(e[s]=e[t])}),this.onAccept=this.yes,this.onCancel=this.no,this.async(this.opts.onOpen,this.$,function(){this._update().update()})};Modal.prototype={$:null,$bg:null,$btnYes:null,$btnNo:null,_index:0,_buttons:["enableYes","enableNo","enableClose"],_buttonState:null,opts:null,hotkeyCallback:function(t){if(this.opts.enableBgClose&&t.target===this.$bg[0])return this.closeAsync(this.opts.no,t);if(this.opts.hotkey)return 27===t.which&&this.opts.enableNo?this.closeAsync(this.opts.no,t):13===t.which&&this.opts.enableYes?this.closeAsync(this.opts.yes,t):void 0},async:function(t,e,s){var n=this;if(t.length<2){var o=t.call(n,e);s.call(n,"undefined"==typeof o||o?!0:!1)}else t.call(n,e,function(t){s.call(n,"undefined"==typeof t||t?!0:!1)})},closeAsync:function(t,e){var s=this;this.saveButtonsState(),this.disableButtons(),this.async(t,e,function(t){return t?void(s.opts.enableClose&&s.async(s.opts.onClose,e,function(t){return t?void s.remove():s.recoverButtons()})):s.recoverButtons()})},title:function(t){return this.$.find(".js-modal-title").html(t),this},content:function(t){var e=this.$.find(".msg-text");return 0===e.length&&(e=this.$.find(".modal-bd")),e.html(t),this},remove:function(){this.$.remove(),removeHotkeyCallback(this._hotkeyCallback);var t=$(".js-modal");return 0===t.length?this.$bg.remove():void this.$bg.after(t.eq(t.length-1))},update:function(){return this.$.css({marginTop:"-"+parseInt(this.$.height()/2)+"px",marginLeft:"-"+parseInt(this.$.width()/2)+"px"}),this.$.show(),this},recoverButtons:function(){var t=this;return $.each(t._buttons,function(e,s){t[s](t._buttonState[s])}),this},saveButtonsState:function(){var t=this;return $.each(t._buttons,function(e,s){t._buttonState[s]=t.opts[s]}),this},disableButtons:function(){var t=this;return $.each(["enableYes","enableNo"],function(e,s){t[s](!1)}),this},_update:function(){var t=this;return this.$?this.$.show():(this.$bg=$(".js-modal-bg"),0===this.$bg.length&&(this.$bg=$(templateBg).appendTo($(document.body))),this.$=$($.template(templateModal,this.opts)),this.$.appendTo($(document.body)).before(this.$bg),this._hotkeyCallback=function(){t.hotkeyCallback.apply(t,arguments)},addHotkeyCallback(this._hotkeyCallback),this.opts.enableDrag&&this.$.find(".modal-hd").drag(this.$),this.bindEvents(),this)},bindBtnYesEvent:function(){var t=this;return this.$btnYes=this.$.find(".js-modal-yes").click(function(e){$(this).hasClass("btn-disabled")||t.closeAsync(t.opts.yes,e)}),this},bindBtnNoEvent:function(){var t=this;return this.$btnNo=this.$.find(".js-modal-no").click(function(e){$(this).hasClass("btn-disabled")||(e=e||{},e.btnName="cancel",t.closeAsync(t.opts.no,e))}),this},bindBtnCloseEvent:function(){var t=this;return this.$.find(".js-modal-close").click(function(e){t.$btnNo.hasClass("btn-disabled")||(e=e||{},e.btnName="close",t.closeAsync(t.opts.no,e))}),this},bindEvents:function(){return this.bindBtnYesEvent().bindBtnCloseEvent().bindBtnNoEvent()}},$.each(["enableYes","enableNo","enableClose"],function(t,e){Modal.prototype[e]=function(t){this.opts[e]=t;var s=t?"removeClass":"addClass";return"enableYes"===e&&this.$btnYes[s]("btn-disabled"),"enableNo"===e&&this.$btnNo[s]("btn-disabled"),this}}),$.each(["yes","no","onClose","onOpen"],function(t,e){Modal.prototype[e]=function(t){return this.opts[e]=t,this}}),$.each(["width","height"],function(t,e){Modal.prototype[e]=function(t){return"undefined"==typeof t?this.opts[e]:(this.opts[e]=t,this.$[e](t),this.update())}}),$(document.body).keydown(function(t){triggerHotkey(t)}).delegate(".js-modal-bg","click",function(t){triggerHotkey(t)});var hotKeyCallbacks=[],addHotkeyCallback=function(t){hotKeyCallbacks.push(t)},removeHotkeyCallback=function(t){$.each(hotKeyCallbacks,function(e,s){return s===t?(hotKeyCallbacks.splice(e,1),!1):void 0})},triggerHotkey=function(t){hotKeyCallbacks.length<1||hotKeyCallbacks[hotKeyCallbacks.length-1](t)},modalConfigs={alert:{title:"警告",content:"警告信息！",icon:"alert",isNo:!1,buttonsAlign:"right",enableBgClose:!1},retry:{txtYes:"重试",content:"是否重试？",icon:"alert",enableBgClose:!1},confirm:{title:"确认操作",icon:"alert",txtYes:"确认",content:"请确认是否操作？",enableBgClose:!1},success:{title:"成功提示",icon:"success",content:"操作成功！",isNo:!1},error:{title:"错误提示",icon:"alert",isNo:!1},help:{title:"帮助信息",icon:"info",content:"这是一条帮助信息。",isNo:!1}},modal=function(t){return new Modal(t)};$.fn.modal=function(t,e,s){var n=arguments.length;return this.click(function(){return 1===n?"object"==typeof t?(s=t,e="",t=t.type||""):(e=t,t="alert"):2===n&&(s=e||{},e=t,t=s.type||"alert"),t?modal[t](e,s):modal(s)})},$.each(modalConfigs,function(t,e){modal[t]=function(t,s){return modal($.extend({},e,{content:t||e.content},s))}}),$.modal=modal,$.Modal=Modal,$._alert=function(t,e,s){return $(".js-modal-bg, .js-modal").remove(),$.Dialog.remove(),s=$.extend({},s||{}),"function"==typeof e?(s.title="提示",s.onAccept=s.onCancel=e):s.title=e||"提示",window.top.$modal?window.top.$modal.alert(t,s):$.modal.alert(t,s)},$._loading=function(t,e,s){var n=$._alert(t,e,s),o=$('<div class="modal-loading"><div class="spin"></div><p>'+t+"</p></div>");return n.$.find(".bd-msg").empty().append(o),n.$.find(".modal-loading .spin").spin(!0),n},module.exports=modal});
/*!edu_modules/edu-user/src/user.cache*/
;define("edu_modules/edu-user/src/user.cache",function(e,r,u){var n=e("edu_modules/edu-user/src/user.adapter"),s=e("edu_modules/edu-user/src/user.base"),o=e("edu_modules/edu-user/src/user.local"),i=e("edu_modules/edu-user/src/user.uid"),d=e("edu_modules/edu-user/src/user.cgi"),t=e("edu_modules/modal/modal"),c=o.get(),l=i(),a=["skey","uid","uid_type"],f=function(e,r){for(var u=0;u<a.length;u++)if(e[a[u]]!==r[a[u]])return!1;return!0},m=function(){t.alert("您的账号身份角色发生变化，请刷新页面后重试！").onClose(function(){window.location.reload()})},p=function(){if(p.isLoading)return p.promise;p.isLoading=!0;var e=n.Deferred();return p.promise=e.promise(),d().then(function(r){s.updateInfo(r),e.resolve(s.getInfoSync())},e.reject),p.promise},y=n.Deferred(),_=y.promise(),g=s.getInfoSync();if(l.skey&&l.uid)if(f(l,c)){s.updateInfo(c);var v=g.role_type;y.resolve(g),p().then(function(e){e.is_login&&v&&e.role_type!==v&&m()})}else s.updateInfo(l),p().then(y.resolve,y.reject);else y.resolve(g);u.exports={asyncCache:function(){return _},asyncCGI:function(){return p.promise},isUidChanged:function(){var e=i();return!("1097244880"===e.uid)&&e.uid!==g.uid||e.skey!==g.skey},isLogin:function(){var e=i();return g.is_login&&e.skey&&e.uid}}});
/*!edu_modules/edu-user/src/index*/
;define("edu_modules/edu-user/src/index",function(e,n,u){var o=e("edu_modules/edu-user/src/user.cache"),s=e("edu_modules/edu-user/src/user.base");u.exports={getInfoAsync:function(){return o.asyncCGI()},getInfoSync:function(){return s.getInfoSync()},getRoleInfoSync:function(){return s.getRoleInfoSync()},getInfo:function(){return o.asyncCache()},extendBaseInfo:s.extendBaseInfo,updateInfo:s.updateInfo,isUidChanged:o.isUidChanged,isLogin:o.isLogin}});
/*!edu_modules/edu-user/index*/
;define("edu_modules/edu-user/index",function(e,d,u){u.exports=e("edu_modules/edu-user/src/index")});
/*!edu_modules/edu-auth/tabs.config*/
;define("edu_modules/edu-auth/tabs.config",function(n,e,o){var d=[{id:11,sub:[{id:1110,sub:[{id:111010,name:"测试本地模块",show:1,sort:1,jsmod:"agency/index/info/mod.main",link:"/agency/index/index.html#tab=showAgencyInfo",hash:"showAgencyInfo",text:"(补充更多信息)"}]}]}];o.exports=d});
/*!edu_modules/edu-auth/index*/
;define("edu_modules/edu-auth/index",function(t,e,r){function n(t,e,r){return r=r||[],e=e||{},t.forEach(function(t){t.parentId=e.id||0,r.push(t),t.sub&&t.sub.length&&n(t.sub,t,r)}),r}function u(t){try{"video_management"===t[1].sub[0].sub[4].hash&&"showVideoList"===t[1].sub[0].sub[3].hash&&t[1].sub[0].sub.splice(3,1)}catch(e){}c=t,d=n(c,{},[])}function i(){u(o);var t=a.Deferred(),e=t.promise();return s.getTabList({param:{},succ:function(e){if(e=e||{},0!==e.retcode)t.reject(e.retcode);else{var r=e.result||{},n=r.tab_list||[];try{var i=window.localStorage?window.localStorage.getItem("agency-pre"):null;if(i){var s=JSON.parse(i);n.push({flag:0,id:90,name:"预发布验证",parentId:0,show:1,sort:8,sub:[{flag:0,id:9010,name:"预发布验证",parentId:90,show:1,sort:1,sub:s,target:0}],target:0})}}catch(o){}u(n),t.resolve(n)}},err:t.reject}),e}var s=t("edu_modules/edu-db/edu-db"),o=t("edu_modules/edu-auth/tabs.config"),a=t("jquery"),c=[],d=[];s.extend({getTabList:s.httpMethod({url:"/cgi-bin/manager/right/list",type:"get"})}),r.exports={getTabList:i,init:u,getTabs:function(){return d},getTabTrees:function(){return c},getTabById:function(t){return t?d.filter(function(e){return e.id===t})[0]:void 0},getTabByHash:function(t){return t?d.filter(function(e){return e.hash===t})[0]:void 0},getRootTabByTabId:function(t){if(t){for(var e=this.getTabById(t);e&&0!==e.parentId;)e=d.filter(function(t){return t.id===e.parentId})[0];return e}},getFirstTabByRootId:function(t){var e=this.getTabById(t);if(e&&e.sub&&e.sub.length){var r,n;return e.sub.forEach(function(t){!n&&t.sub&&t.sub[0]&&(n=t.sub[0]),!r&&t.show&&t.sub&&t.sub.forEach(function(t){!r&&t.show&&(r=t)})}),r||n||{}}},getFirstRootTabWithPermission:function(){return c.filter(function(t){return!!t.show})[0]},checkPermissionByHash:function(t){return!!(this.getTabByHash(t)||{}).show},checkPermissionById:function(t){return!!(this.getTabById(t)||{}).show}}});
/*!@tencent/im-cache/cache*/
;define("@tencent/im-cache/cache",function(){var n={},e={},t=function(e){return n[e]},c=function(t,c,i){return e[t]?void 0:(n[t]=c,void(i&&(e[t]=1)))};return{get:t,set:c}});
/*!edu_modules/edu-agency/src/info*/
;define("edu_modules/edu-agency/src/info",function(t,e,n){function r(t,e){var n=this,r=t.result||{};e&&(r.industry1=e.industry1,r.industry1_ext=e.industry1_ext);var i=r.industry1;i||(i=r.industry1=r.industry),i&&(c=u(i),l=[i],$.isArray(r.industry1_ext)&&$.each(r.industry1_ext,function(t,e){var n=u(e);n.value&&(f.push(n),!~l.indexOf(e)&&l.push(e),g.push(n.value))})),t._industry1=c,t._industry1_ext=f,t._industry1_all=l,t._industry1_ext_str=g,n._industry1=c,n._industry1_ext=f,n._industry1_all=l,n._industry1_ext_str=g}function u(t){return{key:t,value:o[t]}}function i(t){var e=this;if(s&&"function"==typeof t)return t(s);if(d.push(t),!a){a=!0;var n=y.get("userinfo")||{},r=5===n.role_type?"get_p_agency_info":"get_agency_info";return _[r]({param:{aid:n.aid},succ:function(t){for(t=t||{},t.role_type=n.role_type,t.result=t.result||{},e.rebuildIndustryData(t),y.set("agency_info",t),s=t,a=!1;d.length;){var r=d.shift();"function"==typeof r&&r(s)}},err:function(){}})}}var s,_=t("edu_modules/edu-db/edu-db"),d=[],a=!1,y=t("@tencent/im-cache/cache"),o={list:[1001,1002,1003,1004,1005,1006,1007],1001:"IT·互联网",1002:"设计·创作",1003:"语言·留学",1004:"职业·考证",1005:"升学·考研",1006:"兴趣·生活",1007:"电商营销"};y.set("course_main_tag",o);var c={},f=[],l=[],g=[];n.exports={getAgencyInfo:i,course_main_tag:o,rebuildIndustryData:r,_industry1:c,_industry1_all:l}});
/*!edu_modules/edu-agency/src/db*/
;define("edu_modules/edu-agency/src/db",function(e,d,n){var t=e("edu_modules/edu-db/edu-db");t.extend({getAgencyInfo:t.httpMethod({url:"/cgi-bin/identity/agency",type:"GET"})}),n.exports=t});
/*!edu_modules/edu-agency/src/index*/
;define("edu_modules/edu-agency/src/index",function(e,n,t){var o=e("edu_modules/edu-user/index"),r=e("edu_modules/edu-auth/index"),a=e("edu_modules/edu-login/edu-login"),i=e("edu_modules/modal/modal"),s=(e("edu_modules/edu-agency/src/info"),e("badjs")),c=e("edu_modules/edu-agency/src/db");o.extendBaseInfo({agency_state:0,isDeletePermission:!0,agency_type:0,is_wt_agency:0,is_signed:0,sign_status:{signedFee:!1,signedDistribution:!1},is_tup_agency:0,agency_info:{agency_step_flag:0,group_num:0,course_num:0,student_num:0,teacher_num:0,cover_url:"",aid:0,description:""},agency_star:{id:0,star:0,star_level:0,score:0,week_score:0,attitude_rate:0,manual_add:0,rank:0,average_rate:0,grade:0,industry:0,manual_minus:"0",sabc:"A",data_status:0,level_rate:0,quality_rate:0,manual_inc:0},agency_bank:{agency_id:0,bank_name:"",bank_account:"",bank_province:"",bank_city:"",bank_branch:"",account_type:1,account_picurl:"",bank_owner:"",audit_memo:"",end_time:0,begin_time:0,audit_status:5,mobile:"",email:"",contract_url:"",contract_name:"",contract_version:1,agency_contact:"",agency_address:"",apply_time:0},agency_overview:{course_static:{tmmr_live:0,today_live:0,ystd_absent:0,all_live:0,ystd_violation:0,data_status:1},score_detail:{pay_trend:1,add_score:"0",free_score:"0",pay_score:"0",violation_score_course:"0",week_score:"0",violation_score:"0",free_trend:1,week_rank:0}},system_time:0});var _,u=function(e){var n=e.is_signed;e.sign_status={signedFee:1&n,signedDistribution:2===(2&n)}},d=o.getInfo,l=function(){var e=$.Deferred();return c.getAgencyInfo({succ:function(n){u(n.result),window.AGENCYINFO=n.result,o.updateInfo(n.result),o.updateInfo({aid:n.result.aid}),e.resolve()},err:function(n){e.reject("get_agency_info_error"),n&&1e5!=n.retcode&&m("获取机构信息失败",2452324)}}),e.promise()},f=function(){var e=$.Deferred();return r.getTabList().then(function(){e.resolve()},function(n){e.reject("get_tab_list_error"),n&&1e5!=n.retcode&&m("获取权限列表失败",2452325)}),e.promise()},g=function(e){var n=$.Deferred(),t=e&&e.allowTeacher;return d().then(function(e){e.is_login?e.isPlatRole||t&&e.isTeacher?(e.isMaster||e.isPersonal||e.isAdmin||e.isCustomAdmin||!e.isCourseTeacher||$("html").addClass("no-publish"),n.resolve()):n.reject("auth_error"):n.reject("no_login")},function(){n.reject("get_info_error"),m("获取用户基本信息失败",2452326)}),n.promise()};o.getBaseInfo=d,o.getAgencyInfo=l;var m=function(e,n){s(e,location.href,0,n,2)};o.getInfo=function(e){if(_)return _;var n=$.Deferred();return _=n.promise(),$.when(g(e),l(),f()).then(function(){var e=o.getInfoSync();e.isDeletePermission=e.isMaster||e.isAdmin||e.isPersonal,o.updateInfo(e),m("机构侧getInfo成功",2452334),n.resolve(e)},function(e){m("机构侧getInfo失败",2452333),"get_agency_info_error"===e?i.alert("获取机构信息失败，请稍后重试！").onClose(function(){location.reload()}):"get_tab_list_error"===e?i.alert("获取权限数据失败，请稍后重试！").onClose(function(){location.reload()}):"no_login"===e?a.show({succ:function(){location.reload()},close:function(){location.href="/"}}):"auth_error"===e?i.alert("没有权限访问该页面。").onClose(function(){location.href="/"}):"get_info_error"===e?i.alert("获取用户信息失败，请稍后重试！").onClose(function(){location.reload()}):(m("机构侧getInfo其他失败",2452327),i.alert("异常错误，请稍后重试").onClose(function(){location.reload()})),n.reject(e)}),_},t.exports=o});
/*!edu_modules/edu-agency/index*/
;define("edu_modules/edu-agency/index",function(e,d,n){n.exports=e("edu_modules/edu-agency/src/index")});
/*!@tencent/im-edu-html/edu-html*/
;define("@tencent/im-edu-html/edu-html",function(e,r,n){var t=function(){function e(e,r,n){return r||n?String.fromCharCode(r||n):u[e]||e}function r(e){return s[e]}var n=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,o=/['<> "&]/g,c=/['<>"&]/g,u={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},a=/\u00a0/g,i=/<br\s*\/?>/gi,f=/\r?\n/g,p=/\s/g,s={};for(var d in u)s[u[d]]=d;return u["&apos;"]="'",s["'"]="&#39;",{encode:function(e){return e?(""+e).replace(o,r).replace(f,"<br/>").replace(p,"&nbsp;"):""},encodeNoSpace:function(e){return e?(""+e).replace(c,r).replace(f,"<br/>"):""},decode:function(r){return r?(""+r).replace(i,"\n").replace(n,e).replace(a," "):""},encodeBase16:function(e){if(!e)return e;e+="";for(var r=[],n=0,t=e.length;t>n;n++)r.push(e.charCodeAt(n).toString(16).toUpperCase());return r.join("")},encodeBase16forJSON:function(e){if(!e)return e;e=e.replace(/[\u4E00-\u9FBF]/gi,function(e){return escape(e).replace("%u","\\u")});for(var r=[],n=0,t=e.length;t>n;n++)r.push(e.charCodeAt(n).toString(16).toUpperCase());return r.join("")},decodeBase16:function(e){if(!e)return e;e+="";for(var r=[],n=0,t=e.length;t>n;n+=2)r.push(String.fromCharCode("0x"+e.slice(n,n+2)));return r.join("")},encodeObject:function(e){if(e instanceof Array)for(var r=0,n=e.length;n>r;r++)e[r]=t.encodeObject(e[r]);else if("object"==typeof e)for(var o in e)e[o]=t.encodeObject(e[o]);else if("string"==typeof e)return t.encode(e);return e}}}();n.exports=t});
/*!js/render.course*/
;define("js/render.course",function(e){var r=e("jquery");return r.render=r.render||{},r.render.course_link=function(e){return e=e||{},e.package_id?"/course/package/"+e.package_id:"/course/"+e.course_id},r.render.course_id=function(e){return e.package_id||e.course_id},r});
/*!@tencent/im-jquery.placeholder/jquery.placeholder*/
;define("@tencent/im-jquery.placeholder/jquery.placeholder",function(e){function a(e){var a={},t=/^jQuery\d+$/;return c.each(e.attributes,function(e,l){l.specified&&!t.test(l.name)&&(a[l.name]=l.value)}),a}function t(e,a){var t=this,l=c(t);if(t.value==l.attr("placeholder")&&l.hasClass("placeholder"))if(l.data("placeholder-password")){if(l=l.hide().next().show().attr("id",l.removeAttr("id").data("placeholder-id")),e===!0)return l[0].value=a;l.focus()}else t.value="",l.removeClass("placeholder"),t==r()&&t.select()}function l(){var e,l=this,r=c(l),o=this.id;if(""==l.value){if("password"==l.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(d){e=c("<input>").attr(c.extend(a(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":o}).bind("focus.placeholder",t),r.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",o).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function r(){try{return document.activeElement}catch(e){}}var o,d,c=e("jquery"),n="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!n,u="placeholder"in document.createElement("textarea")&&!n,p=c.fn,h=c.valHooks,s=c.propHooks;i&&u?(d=p.placeholder=function(){return this},d.input=d.textarea=!0):(d=p.placeholder=function(){var e=this;return e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":t,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},d.input=i,d.textarea=u,o={get:function(e){var a=c(e),t=a.data("placeholder-password");return t?t[0].value:a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,a){var o=c(e),d=o.data("placeholder-password");return d?d[0].value=a:o.data("placeholder-enabled")?(""==a?(e.value=a,e!=r()&&l.call(e)):o.hasClass("placeholder")?t.call(e,!0,a)||(e.value=a):e.value=a,o):e.value=a}},i||(h.input=o,s.value=o),u||(h.textarea=o,s.value=o),c(function(){c(document).delegate("form","submit.placeholder",function(){var e=c(".placeholder",this).each(t);setTimeout(function(){e.each(l)},10)})}))});
/*!agency/index/dealSearch2/fuzzy/data*/
;define("agency/index/dealSearch2/fuzzy/data",function(e,r,t){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function o(e,r){var t=(e||"").split("-"),a=new Date;return a.setFullYear(+t[0],t[1]-1,+t[2]),r?a.setHours(0,0,0):a.setHours(23,59,59),isNaN(a)?"":Math.floor(+a/1e3)}var n=e("babel-runtime/core-js/json/stringify"),d=a(n),i=e("edu_modules/edu-report/edu-report"),s=e("edu_modules/edu-tips/edu-tips"),l=e("jquery"),c=e("edu_modules/edu-db/edu-db"),u=e("edu_modules/grid/grid"),p=e("common/serve/config"),f=e("common/clipboard"),m={showDealSearchData:e("/agency/index/dealSearch2/tpl/searchResult.tpl_tpl"),showSearch:e("/agency/index/dealSearch2/fuzzy/tpl.tpl_tpl"),remarkTpl:e("/agency/index/dealSearch2/fuzzy/remark.tpl_tpl"),remarkListTpl:e("/agency/index/dealSearch2/fuzzy/remarkList.tpl_tpl")},v=e("edu_modules/edu-agency/index"),g=e("@tencent/im-edu-html/edu-html"),_="",h=2;e("js/render.course"),e("@tencent/im-jquery.placeholder/jquery.placeholder");var y=null,k=t.exports={init:function(){k.courseData=[],k.courseDataFilter=[],k.courseIdData=[],k.courseIdDataFilter=[],k.courseId=[],k.remarkUserInfo={},k.aid=v.getInfoSync().aid,k.uid=v.getInfoSync().uid,k.curPage=0,k.$box=l("#search-student").html(m.showSearch(null,{ORDER_MAP:p.ORDER_MAP})),k.$noData=l("#deal-no-data"),k.$downloadBtn=l("#to-download"),k.$classSearch=l("#js-classes-selector"),k.$courseSelectorOpt=l("#js-courses-selector").find(".diy-optgroud"),k.$courseIdSelectorOpt=l("#js-coursesid-selector").find(".diy-optgroud"),k.$conditionArea=k.$box.find(".toggle-area").css("height","auto").hide(),k._monthPicker(),k._renderDataToTable(0,!0),k._renderCourseSelector(),k._events(),l("#js-course").placeholder(),l("#js-qq").placeholder(),k._formItemOper();var e=v.getRoleInfoSync();(e.isRoleSuperManager||e.isRoleSalesManager||e.isRoleFinancialAffairs)&&k.$downloadBtn.show()},_formItemOper:function(){l(".diy-select").on("change:course_name",function(){var e=l(this).next(".diy-optgroud").find(".selected"),r=e.data("pkg"),t=e.data("value"),a=0===t?"全部":t+(r?"(系列课)":"(课程)"),o=l(this).find("input").data("value");l("#js-courseid").val(a),k._renderClassSelectList(o,r,t)}),l(".diy-select").on("change:course_id",function(){var e=l(this).next(".diy-optgroud").find(".selected"),r=e.data("pkg"),t=e.data("value"),a=0===t?"全部":e.data("name"),o=l(this).find("input").data("value");l("#js-course").val(a),k._renderClassSelectList(o,r,t)}),l(".diy-select").on("change:course_type",function(){var e=l(this).find(".text").data("value"),r=l(".form-item--pay-type");1==e?r.css("display","none"):r.css("display","inline-block")}),l("#js-course").on("input",function(){var e=l(this).val();return e?void k._filterCourseData(e):(l("#js-courseid").val(""),void(k.courseId=[]))}),l("#js-courseid").on("input",function(){var e=l(this).val();return e?void k._filterCourseIdData(e):(l("#js-course").val(""),void(k.courseId=[]))}),l("#js-course").on("blur",function(){var e=(l(this).val(),l("#js-courses-selector").find(".option-no-data"));e.length>0&&l(this).val("")})},_selectOption:function(e,r){var t=l(e).find(".diy-option[data-value="+(r||0)+"]");t.trigger("click")},_getOrderId:function(){var e=l("#js-orderId").val().replace(/[^\d]/g,"");if(e){k._selectOption("#js-course-type-select"),k._selectOption("#js-student-type-select",-1),k._selectOption("#js-type-select",1),k._selectOption("#js-order-type-select",-1),k._selectOption("#js-courses-selector"),k._selectOption("#js-classes-selector"),l("#js_order_start .f-date").val(""),l("#js_order_end .f-date").val(""),l("#js-qq").val("");var r=l("#js-result-select");r.find(".opt-checked").removeClass("opt-checked"),r.find(".text").text("").data("value","")}return e&&parseInt(e,10)},_events:function(){l("input[name=qqNum], #js-orderId").on("keyup",function(e){var r=e.target,t=r.value;t&&l(r).val(t.replace(/[^\d]/g,""))}),l(".toggle-btn").on("click",k._conditionToggle),l("#to-search").on("click",function(e){e.preventDefault(),k._renderDataToTable(0,!0)}),l("#search-table").on("click",".create-remark, .show-remark",function(e){var r=e.target,t=r&&r.getAttribute("data-payId"),a=r&&r.getAttribute("data-uin"),o=r&&r.getAttribute("data-termId");_=r&&r.getAttribute("data-orderId"),k.remarkUserInfo={payId:t,uin:a,termId:o},l.Dialog.remove(),l.modal({title:"订单备注",className:"remark-dialog",width:600,txtYes:"关闭",isNo:!1,content:m.remarkTpl(),onClose:function(){l.Dialog.remove(),k._renderDataToTable(k.curPage,!1),k._allowScreenScroll()}}),k._forbidScreenScroll(),l(".remark-dialog .remark-list-wrapper").spin(!0),k._initRemark()}),l("body").on("click","#create-remark-btn",function(e){var r=e.target,t=r.previousElementSibling.value.slice(0,200).trim(),a=k.remarkUserInfo.payId;l(".remark-dialog .remark-list-wrapper").spin(!0),l("#remark-input").val(""),l("#create-remark-btn").addClass("btn-disabled"),c.httpMethod({url:"/cgi-proxy/order_extra/order_remark/add",type:"POST"})({param:{uid:k.uid,remark:t,order_id:_,order_type:a,uin:a===h?0:k.remarkUserInfo.uin,term_id:a===h?0:k.remarkUserInfo.termId},succ:function(){k._initRemark()},err:function(e){var r=e.retcode||"",t="服务器繁忙，请稍后再试！("+r+")";return 1e4===r||10001===r?t="新增备注失败，请稍后重试！("+r+")":10002===e.retcode&&(t="新增备注达到上限！("+r+")"),s.alert(t),l(".remark-dialog .remark-list-wrapper").spin(!1),!0}})}).on("keyup","#remark-input",function(e){var r=e.target||{},t=r.value||"";t&&t.length?(t.length>200&&l(r).val(t.slice(0,200)),l("#create-remark-btn").removeClass("btn-disabled")):l("#create-remark-btn").addClass("btn-disabled")}).on("click",".student-info-wrapper",function(e){var r=l(e.target);l(".student-info-clicktips").addClass("none"),r.parents("td").find(".student-info-clicktips").removeClass("none")}).on("click",".contact-info-wrapper",function(e){var r=l(e.target);l(".index-manager-clicktips").addClass("none"),r.parents("td").find(".index-manager-clicktips").removeClass("none")}).on("click",function(e){var r=l(e.target);l(".student-info-wrapper").find(r).length||l(".student-info-clicktips").addClass("none"),l(".contact-info-wrapper").find(r).length||l(".index-manager-clicktips").addClass("none")}),k.$downloadBtn.on("click",function(e){e.preventDefault(),k.$downloadBtn.hasClass("disabled")||(k.$downloadBtn.addClass("disabled"),k._lunchDownload())});var e=new f(".student-info-clicktips .copy"),r=new f(".index-manager-clicktips .copy");e.on("success",function(e){l(".student-info-clicktips").addClass("none"),s.success("已复制至剪切板"),e.clearSelection()}),r.on("success",function(e){l(".index-manager-clicktips").addClass("none"),s.success("已复制至剪切板"),e.clearSelection()})},_getDownloadParam:function(){var e=k.$conditionArea.eq(0),r={agency_id:k.aid,order:{agency_id:k.aid},range:{type:2},order_by:6,req_type:2},t=k._getOrderId();t&&(r.order.order_id=t);var a=l("#js_order_start").find(".f-date").val()||"1996-1-1";a&&(r.range.from=o(a)-86400);var n=l("#js_order_end").find(".f-date").val()||"2222-1-1";n&&(r.range.to=o(n));var i=l("#js_pay_start").find(".f-date").val();i&&(r.range.from=o(i)-86400,r.range.type=1);var s=l("#js_pay_end").find(".f-date").val();s&&(r.range.to=o(s),r.range.type=1);var c=l("#js-type .text").data("value");c=("undefined"==typeof c?1:c).toString(),4===c&&(r.order.course_payid=2);var u=parseInt(l(".js-course-type-selector .diy-option.selected").data("value"),10);if(u&&(r.order.course_payid=u),2===u&&(r.payType=c),e.is(":visible")){var p=l.trim(l("#js-qq").val());p=p&&!/^[1-9](\d{4,10}|\d{17})$/.test(p)?0:p,p&&(r.uid=p);var f=parseInt(e.find(".js-student-type-selector .diy-option.selected").data("value"),10);-1!==f&&(r.order.uid_type=f),k.courseId&&k.courseId[1]&&(r.order[k.courseId[0]]=k.courseId[1]);var m=k.$classSearch.find(".selected").data("value");m&&(m=Number(m)),m&&(r.order.term_id=m);var v=l("#js-result .text").data("value");v&&v.length>0&&(r.order_state=d.default(v));var g=l("#js-order-type .text").data("value");"undefined"!=typeof g&&(g=parseInt(g,10),r.order.source||-1===g||(r.order.source=g))}return r.order=d.default(r.order),r.range=d.default(r.range),r},_updateDownloadList:function(){var e=location.origin;e||(e=location.protocol+"//"+location.hostname+(location.port?":"+location.port:""));var r=document.getElementById("async-download-iframe");r&&r.contentWindow.postMessage("update_download_list",e)},_lunchDownload:function(){var e=k.downloadParam;c.httpMethod({url:"/cgi-proxy/agency/order_download",type:"POST"})({param:e,succ:function(){if(k._updateDownloadList(),window.Bezier){var e=Bezier.getScreenCordinates("#to-download"),r=Bezier.getScreenCordinates("#js-async-download");Bezier.move("#downloadDot",e,r,function(){k.$downloadBtn.removeClass("disabled")})}else k.$downloadBtn.removeClass("disabled")},err:function(e){switch(k.$downloadBtn.removeClass("disabled"),e.retcode){case 110405:case 110406:case 106507:l.modal.alert("抱歉，您未被授权");break;case 333012:l.modal.alert("请求过于频繁，请稍后再试");break;default:l.modal.alert("服务器繁忙，请稍后再试")}return!0}}),i.tdw({module:"order_search",action:"click",obj1:"download"})},_monthPicker:function(){var e=new Date,r=this.$box;r.find(".js-year-select li").filter("[data-value="+e.getFullYear()+"]").trigger("init"),r.find(".js-month-select li").filter("[data-value="+(e.getMonth()+1)+"]").trigger("init")},_conditionToggle:function(){var e=k.$conditionArea,r=l(".toggle-btn");e.hasClass("area-show")?(r.find(".txt").html("展开更多查询条件"),r.find(".icon-font").addClass("i-v-bottom").removeClass("i-v-top"),e.removeClass("area-show").hide().css("overflow","hidden")):(r.find(".txt").html("收起更多查询条件"),r.find(".icon-font").removeClass("i-v-bottom").addClass("i-v-top"),e.addClass("area-show").show().css("overflow","visible"))},_getOrderParam:function(){var e=k.$conditionArea.eq(0),r={agency_id:k.aid,order:{agency_id:k.aid},range:{},order_by:6},t=k._getOrderId();t&&(r.order.order_id=t),r.range.type=2;var a=l("#js_order_start").find(".f-date").val()||"1996-1-1";a&&(r.range.from=o(a)-86400);var n=l("#js_order_end").find(".f-date").val()||"2222-1-1";n&&(r.range.to=o(n));var i=l("#js_pay_start").find(".f-date").val();i&&(r.range.from=o(i)-86400,r.range.type=1);var s=l("#js_pay_end").find(".f-date").val();s&&(r.range.to=o(s),r.range.type=1);var c=l("#js-type .text").data("value");c=("undefined"==typeof c?1:c).toString(),4===c&&(r.order.course_payid=2,r.order.source=4);var u=parseInt(l(".js-course-type-selector .diy-option.selected").data("value"),10);if(u&&(r.order.course_payid=u),2===u&&(r.payType=c),r.order.pay_maintype?(r.order.pay_maintype=0,r.order.ios=1):0===r.order.pay_maintype&&(r.order.ios=0),isNaN(r.order.pay_maintype)&&delete r.order.pay_maintype,e.is(":visible")){var p=l.trim(l("#js-qq").val());p=p&&!/^[1-9](\d{4,10}|\d{17})$/.test(p)?0:p,p&&(r.order.uin=p),k.courseId&&k.courseId[1]&&(r.order[k.courseId[0]]=k.courseId[1]);var f=l("#js-result .text").data("value");f&&f.length>0&&(r.order_state=d.default(f));var m=l("#js-order-type .text").data("value");"undefined"!=typeof m&&(m=parseInt(m,10),r.order.source||-1===m||(r.order.source=m));var v=parseInt(e.find(".js-student-type-selector .diy-option.selected").data("value"),10);-1!==v&&(r.order.uid_type=v);var g=k.$classSearch.find(".selected").data("value");g&&(g=Number(g)),g?r.order.term_id=g:delete r.order.term_id}return r.order=d.default(r.order),r.range=d.default(r.range),k.downloadParam=k._getDownloadParam(),r},_filterCourseData:function(e){k.courseDataFilter=k.courseData.filter(function(r){return-1!==r.name.indexOf(e)}),k._renderCourseListHtml(k.courseDataFilter)},_filterCourseIdData:function(e){k.courseIdDataFilter=k.courseIdData.filter(function(r){return-1!==String(r.cid).indexOf(e)||-1!==String(r.pkgId).indexOf(e)}),k._renderCourseIdListHtml(k.courseIdDataFilter)},_initGrid:function(){y=new u({header:[{name:'<span title="平台：该订单用户由平台流量而来；&#13;机构：该订单用户由机构带来；&#13;空：该订单来源正在确认中，24h内可确认">订单号<i class="icon-font i-question"></i>',width:"75"},{name:"创建时间",width:"86"},{name:"交易时间",width:"86"},{name:"课程ID",width:"67"},{name:"课程名称",width:"80"},{name:"学员信息",width:"115"},{name:"手机号",width:"102"},{name:"收货地址",width:"56"},{name:'<span title="分期订单状态详见[分期明细]">状态<i class="icon-font i-question"></i></span>',width:"56"},{name:'<span title="付款：付款渠道将在24小时内确认；&#13;[现金]：无渠道费用，全额结算；&#13;[课点]：会产生渠道费用，结算时扣除；&#13;[分期乐]：通过分期乐渠道交易；&#13;[课程分期]：通过课堂分期渠道交易；&#13;[京东支付]：通过京东支付渠道交易；&#13;免费：免费课程；&#13;">交易金额<i class="icon-font i-question"></i></span>',width:"72"},{name:"备注",width:"40"}],el:"#search-table",dataTmpl:m.showDealSearchData}),y.onPageChange(function(e){k._renderDataToTable(e-1,!1)})},_renderClassSelectList:function(e,r,t){var a=l(".form-item--class");return k.courseId=[r?"package_id":"course_id",parseInt(e,10)],r||0===t?void a.css("display","none"):(a.css("display","inline-block"),k.$classSearch.find(".text").text(""),void c.httpMethod({url:"/cgi-bin/ke_order/term_list",type:"POST"})({param:{aid:k.aid,cid:e},succ:function(e){if(e.result&&!(e.result.length<=0)){var r='<li class="diy-option" data-value="0"><a href="javascript:;">全部</a></li>';l.each(e.result.termList,function(e,t){r+='<li class="diy-option" data-value="'+t.term_id+'"><a href="javascript:;">'+t.name+"</a></li>"}),k.$classSearch.find(".diy-optgroud").html(r)}},err:function(){}}))},_renderDataToTable:function(e,r){!y&&k._initGrid(),y.toggleLoad(),k._curQueryParam=k._getOrderParam(),k.curPage=e,c.httpMethod({url:"/cgi-proxy/agency/order_search",type:"GET"})({param:l.extend({count:12,page:e||0},k._curQueryParam),succ:function(e){e=e||{},e.result=e.result||{},r&&y.resetPageCtrl({total:Math.ceil(e.result.total/12),max:5,idx:1}),setTimeout(function(){k._renderQueryList(e),y.toggleLoad()},150)},err:function(){setTimeout(function(){k._renderQueryList([]),y.toggleLoad(),y.pageCtrl&&(y.pageCtrl.destroy(),y.pageCtrl.inited=!1,y.pageCtrl.total=0)},150)}})},_renderQueryList:function(e){e.result&&e.result.orders?(k.$noData.hide(),y.render(e.result.orders,{agency_id:k.aid,getServiceUrl:p.getDetailUrl,ORDER_MAP:p.ORDER_MAP,serverTime:e.result.server_time})):(y.render([],{getServiceUrl:p.getDetailUrl,ORDER_MAP:p.ORDER_MAP}),k.$noData.show())},_renderCourseSelector:function(){c.httpMethod({url:"/cgi-agency/ke_order/course_list",type:"GET"})({param:{aid:k.aid},succ:function(e){!e.result||e.result.length<=0||(l("#js-course").attr("placeholder","请输入普通/系列课程名称"),l("#js-courseid").attr("placeholder","请输入普通/系列课程ID"),k.courseData=e.result.items,k.courseIdData=e.result.items,k._renderCourseListHtml(k.courseData),k._renderCourseIdListHtml(k.courseIdData))}})},_renderCourseListHtml:function(e){var r="";e.length>0?(r+='<li class="diy-option" data-value="0" ><a href="javascript:;">全部</a></li>',l.each(e,function(e,t){r+=t.pkgId?'<li class="diy-option" data-pkg="true" data-value="'+t.pkgId+'"><a href="javascript:;">'+t.name+"</a></li>":'<li class="diy-option" data-value="'+t.cid+'"><a href="javascript:;">'+t.name+"</a></li>"})):r='<li class="option-no-data">没有该课程，请重新输入</li>',k.$courseSelectorOpt.html(r)},_renderCourseIdListHtml:function(e){var r="";e.length>0?(r+='<li class="diy-option" data-value="0" ><a href="javascript:;">全部</a></li>',l.each(e,function(e,t){r+=t.pkgId?'<li class="diy-option" data-pkg="true" data-value="'+t.pkgId+'" data-name="'+t.name+'"><a href="javascript:;">'+t.pkgId+"(系列课)</a></li>":'<li class="diy-option" data-value="'+t.cid+'" data-name="'+t.name+'"><a href="javascript:;">'+t.cid+"(课程)</a></li>"})):r='<li class="option-no-data">没有该课程ID，请重新输入</li>',k.$courseIdSelectorOpt.html(r)},_initRemark:function(){var e=k.remarkUserInfo.payId;c.httpMethod({url:"/cgi-proxy/order_extra/order_remark/list",type:"GET"})({param:{order_id:_,order_type:e,uin:e===h?0:k.remarkUserInfo.uin,term_id:e===h?0:k.remarkUserInfo.termId},succ:function(e){var r=e&&e.result||{},t=r.order_remarks;t&&t.length?(t.forEach(function(e){e.remark=g.encode(e.remark)}),k._renderRemark(t),l("#remark-list").removeClass("no-remark"),t.length>=15&&l("#remark-input").attr("disabled","disabled").attr("placeholder","每个订单最多填写15条备注")):l("#remark-list .remark-item-content").text("暂未添加备注内容"),l(".remark-dialog .remark-list-wrapper").spin(!1)},err:function(e){var r=e.retcode||"";return s.alert("服务器繁忙，请稍后再试！("+r+")"),l("#remark-list .remark-item-content").text("服务器繁忙，请稍后再试！"),l(".remark-dialog .remark-list-wrapper").spin(!1),!0}})},_renderRemark:function(e){l("#remark-list").html(m.remarkListTpl({list:e}))},_forbidScreenScroll:function(){l("body").addClass("overflow-hidden")},_allowScreenScroll:function(){l("body").removeClass("overflow-hidden")}}});
/*!/agency/index/dealSearch2/tpl/fuzzyTpl.tpl_tpl*/
;define("/agency/index/dealSearch2/tpl/fuzzyTpl.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<!--模糊查询入口--><div class="jgm-cont mt20"> <div class="jgm-hd"> <span class="jgm-hd-title js-deal-search-title">交易查询</span> <a className="jgm-hd-faq" href="//ke.qq.com/service_agency.html#id=29" target="_blank">使用说明</a> </div> <div id="search-student" class="tab-panel-wrap"></div> </div>'),_$out_.join("")}}});
/*!@tencent/im-edu-datepicker/edu-datepicker*/
;define("@tencent/im-edu-datepicker/edu-datepicker",function(t){var e=t("jquery"),i=function(t,i){if(this.options=i,this.element=e(t),this.format=a.parseFormat(i.format||this.element.data("date-format")||"yyyy-mm-dd"),this.picker=e(a.template(i).replace(/{{dpCls}}/,i._dpCls||"")).appendTo(this.options._body||"body").on({click:e.proxy(this.click,this)}),this.picker.data("toggle",this.element),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),click:e.proxy(this.show,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=i.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=i.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=i.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=i.onRender,this.isUp=i.isUp,this.adjustUp=i.adjustUp,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};i.prototype={constructor:i,show:function(t){this.picker.show(),this.options._show&&this.options._show(this.element),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&!this.options._isStopProp&&(t.stopPropagation(),t.preventDefault()),!this.isInput;var i=this;e(document).on("mousedown",function(t){0===e(t.target).closest(".datepicker").length&&i.hide()}).on("navchange",function(){i.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){!this.options._not_hide&&this.picker.hide(),this.options._hide&&this.options._hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=a.formatDate(this.date,this.format);this.options._click&&this.options._click(this.date,this.element),this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t)),this.options._set&&this.options._set(this.date,this.element)},setValue:function(t){this.date="string"==typeof t?a.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},getAdjustUp:function(t,i,s){var a=e(window),o=a.scrollTop();return t.top+i+s-o>a.height()},place:function(){var t=this.picker.outerHeight(),e=this.component?this.component.offset():this.element.offset(),i=this.height;this.adjustUp&&(this.isUp=this.getAdjustUp(e,i,t)),this.options._body?this.picker.css({top:this.isUp?-(t+i):0,left:0}):(this.isUp&&(i=-1*t),this.picker.css({top:e.top+i,left:e.left}))},update:function(t,e){if(t&&"[object Date]"===Object.prototype.toString.call(t))this.date=t;else if(e="function"==typeof this.options._defaultVal?new Date(this.options._defaultVal()):!1,this.options._isMuitPicker)this.date=e?new Date(e):a.today;else{var i="string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date");this.date=i?a.parseDate(i,this.format):e?new Date(e):a.today}isNaN(this.date.valueOf())&&(this.date=e&&!isNaN(e.valueOf())?e:a.today),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.viewDate.setFullYear(this.date.getFullYear()),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow dow'+t+'">'+a.dates.daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+a.dates.monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").append(t)},switchClk:function(){this.options.switchClk&&this.options.switchClk()},fill:function(){this.options._begin=this.options._begin?a.toDateWithOutHMS(this.options._begin):0,this.options._end=this.options._end?a.toDateWithOutHMS(this.options._end):0;var t=this.viewDate.getFullYear();1900>=t?(this.viewDate.setFullYear(1900),this.picker.find(".lastYear").addClass("disabled"),1900>t&&this.viewDate.setMonth(0),0===this.viewDate.getMonth()?this.picker.find(".prev").addClass("disabled"):this.picker.find(".prev").removeClass("disabled")):(this.picker.find(".lastYear").removeClass("disabled"),this.picker.find(".prev").removeClass("disabled"));var i=new Date(this.viewDate),s=i.getFullYear(),o=i.getMonth(),n=this.date.valueOf();this.picker.find(".datepicker-days th.switch").text(s+a.dates.yearSuffix+a.dates.monthsShort[o]),this.picker.find(".datepicker-days-bg").text(o+1);var h=new Date(s,o-1,28,0,0,0,0),r=a.getDaysInMonth(h.getFullYear(),h.getMonth());h.setDate(r),h.setDate(r-(h.getDay()-this.weekStart+7)%7);var d=new Date(h);d.setDate(d.getDate()+42),d=d.valueOf();for(var p,l,c,u=[],f=0,w=!1,v=0,m="function"==typeof this.options._dates?this.options._dates():this.options._dates,g="function"==typeof this.options._defaultVal?this.options._defaultVal():!1;h.valueOf()<d;){h.getDay()===this.weekStart&&(u.push("<tr"+(this.options._isView?' class="tr-view"':"")+">"),f=0),p=this.onRender(h),l=h.getFullYear(),c=h.getMonth(),w=!1,o>c&&l===s||s>l?(p+=" old",v++,w=!0):(c>o&&l===s||l>s)&&(p+=" new",w=!0),h.valueOf()===n&&(p+=" active"),g&&h.valueOf()===g&&(p+=" defaultDay current");var y="",k="";this.options._begin&&h<this.options._begin&&(k=" disabled before_begin"),this.options._end&&h>this.options._end&&(k=" disabled after_end"),""===k&&this.options._filter&&this.options._filter(h,this.element)&&(k=" disabled"),this.options._isView&&(k+=(-1!==k.indexOf("disabled")?"":" disabled")+(!this.options._isMuitPicker&&h<a.today?" pass":"")+(/(before_begin|after_end)/.test(k)?" not_allow":""),e.isArray(m)&&-1!==m.indexOf(h.getTime())?(y="current",f++):f=0,this.options._isMuitPicker||(0===f?u.push(u.pop().replace(/{{opob}}/gi,"").replace(/{{opom}}/gi,"{{opoe}}")):1===f?k+=" date-view {{opob}}":f>1&&(k+=" date-view {{opom}}")));var D=[h.getFullYear(),h.getMonth()+1,h.getDate()].join("/");if(this.options._isView){var M=[["",h.getDate()],["day-today","今天"],["day-holiday","假日"]],b=0;"function"==typeof this.options._isHoliday&&this.options._isHoliday(+h)&&(b=2),h.getTime()===a.today.getTime()&&(b=1),u.push(('<td class="day'+p+k+' {{viewCls}}" data-date="'+D+'"><div><i>{{viewText}}</i><b></b><u></u></div></td>').replace(/{{viewCls}}/gi,this.options._isMuitPicker?y:M[b][0]).replace(/{{viewText}}/gi,M[b][1]))}else u.push('<td class="day'+p+k+'" data-date="'+D+'">'+h.getDate()+"</td>");h.getDay()===this.weekEnd&&(u.push(u.pop().replace(/{{opob}}/gi,"").replace(/{{opom}}/gi,"{{opoe}}")),u.push("</tr>")),h.setDate(h.getDate()+1)}var _=this.picker.find(".datepicker-days tbody");_.empty().append(u.join("").replace(/{{opo([bem])}}/gi,"view-day-$1")),v>=7&&_.find("tr:eq(0)").hide();var Y=this.date.getFullYear(),F=this.picker.find(".datepicker-months").find("th.switch").text(s+a.dates.yearSuffix).end().find("span").removeClass("active");Y===s&&F.eq(this.date.getMonth()).addClass("active"),u="",s=10*parseInt(s/10,10);var x=this.picker.find(".datepicker-years").find("th.switch").text(s+"-"+(s+9)).end().find("td");s-=1;for(var S=-1;11>S;S++)u+='<span class="year'+(-1===S||10===S?" old":"")+(Y===s?" active":"")+'">'+s+"</span>",s+=1;x.html(u)},click:function(t){!this.options._isMuitPicker&&t.stopPropagation(),t.preventDefault();var i=e(t.target).closest("span, td, th");if(1===i.length){var s,o;switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":break;case"prev":case"next":this.viewDate["set"+a.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+a.modes[this.viewMode].navFnc].call(this.viewDate)+a.modes[this.viewMode].navStep*("prev"===i[0].className?-1:1)),this.switchClk(),this.fill();break;case"lastYear":case"nextYear":this.viewDate.setFullYear.call(this.viewDate,this.viewDate.getFullYear.call(this.viewDate)+("lastYear"===i[0].className?-1:1)),this.switchClk(),this.fill()}break;case"span":i.is(".month")?(o=i.parent().find("span").index(i),this.viewDate.setMonth(o)):(s=parseInt(i.text(),10)||0,this.viewDate.setFullYear(s)),0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:a.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(i.is(".day")&&!i.is(".disabled")){var n=parseInt(i.text(),10)||1;o=this.viewDate.getMonth(),i.is(".old")?o-=1:i.is(".new")&&(o+=1),s=this.viewDate.getFullYear(),this.date=new Date(s,o,n,0,0,0,0),this.viewDate=new Date(s,o,Math.min(28,n),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:a.modes[this.viewMode].clsName})}}}},select:function(t){var e=t.day,i=t.month,s=t.year;this.date=new Date(s,i,e,0,0,0,0),this.viewDate=new Date(s,i,Math.min(28,e),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:a.modes[this.viewMode].clsName})},setOption:function(t){return e.extend(this.options,t),this.fill(),this.set(),this},getDate:function(){return this.date},mousedown:function(t){!this.options._isMuitPicker&&t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+a.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(t,s){return this.each(function(){var a=e(this),o=a.data("datepicker"),n="object"==typeof t&&t;o||a.data("datepicker",o=new i(this,e.extend({},e.fn.datepicker.defaults,n))),"string"==typeof t&&o[t](s)})},e.fn.datepicker.defaults={onRender:function(){return""},adjustUp:!1},e.fn.datepicker.Constructor=i;var s=new Date;s.setHours(0,0,0,0);var a={today:s,modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["周日","周一","周二","周三","周四","周五","周六","周日"],daysShort:["日","一","二","三","四","五","六","日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],yearSuffix:"年"},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,a.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},toDateWithOutHMS:function(t){return"string"==typeof t&&(t=t.replace(/-/g,"/")),t=isNaN(Date.parse(new Date(t)))?new Date:new Date(t),t.setHours(0,0,0,0),t},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){if(!t)return a.today;var i,s=t.split(e.separator);if(t=new Date,t.setHours(0,0,0,0),s.length===e.parts.length)for(var o=t.getFullYear(),n=t.getDate(),h=t.getMonth(),r=0,d=e.parts.length;d>r;r++)switch(i=parseInt(s[r],10)||1,e.parts[r]){case"dd":case"d":if(n=i,n>31)return a.today;t.setDate(i);break;case"mm":case"m":if(h=i-1,h>11)return a.today;t.setMonth(h);break;case"yy":if(o=2e3+i,1900>o||o>2099)return a.today;t.setFullYear(o);break;case"yyyy":if(o=i,1900>o||o>2099)return a.today;t.setFullYear(o)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()};i.dd=i.d,i.mm=i.m,t=[];for(var s=0,a=e.parts.length;a>s;s++)t.push(i[e.parts[s]]);return t.join(e.separator)},headTemplate:function(t){return"<thead><tr>"+(t._showYearBtn?'<th class="lastYear"><b><i>&lsaquo;&lsaquo;</i></b></th>':"")+'<th class="prev"><b><i>&lsaquo;</i></b></th><th colspan="'+(t._showYearBtn?"3":"5")+'" class="switch"></th><th class="next"><b><i>&rsaquo;</i></b></th>'+(t._showYearBtn?'<th class="nextYear"><b><i>&rsaquo;&rsaquo;</i></b></th>':"")+"</tr></thead>"},contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};return a.template=function(t){return'<div class="datepicker dropdown-menu {{dpCls}}"><div class="datepicker-days"><table class=" table-condensed">'+a.headTemplate(t)+'<tbody></tbody></table><div class="datepicker-days-bg"></div></div></div>'},a});
/*!agency/index/dealSearch2/mod.main*/
;define("agency/index/dealSearch2/mod.main",function(e){"use strict";function d(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()].join("-")}var t=e("jquery"),a=e("agency/index/dealSearch2/fuzzy/data"),n=e("/agency/index/dealSearch2/tpl/fuzzyTpl.tpl_tpl"),i=(e("edu_modules/edu-auth/index"),e("edu_modules/edu-report/edu-report")),r=(e("edu_modules/edu-db/edu-db"),e("edu_modules/reportor/index"));return e("@tencent/im-edu-datepicker/edu-datepicker"),{init:function(){var e=this.$box=t("#dealSearch2");!function(){function c(e,t){t.find(".f-date").val(d(e)),p.find(".f-date").val(""),_.find(".f-date").val("")}function u(e,t){t.find(".f-date").val(d(e)),o.find(".f-date").val(""),f.find(".f-date").val("")}e.html(n()),a.init();var o=e.find("#js_order_start"),f=e.find("#js_order_end"),p=e.find("#js_pay_start"),_=e.find("#js_pay_end"),l=o.datepicker({_end:new Date,_click:function(e){t(".datepicker").hide();var d=s.data("datepicker");d.options._begin=e,d.update()},_set:function(e,d){c(e,d)}}),s=f.datepicker({_end:new Date,_click:function(e){t(".datepicker").hide();var d=l.data("datepicker");d.options._end=e,d.update()},_set:function(e,d){c(e,d)}}),k=p.datepicker({_end:new Date,_click:function(e){t(".datepicker").hide();var d=h.data("datepicker");d.options._begin=e,d.update()},_set:function(e,d){u(e,d)}}),h=_.datepicker({_end:new Date,_click:function(e){t(".datepicker").hide();var d=k.data("datepicker");d.options._end=e,d.update()},_set:function(e,d){u(e,d)}});i.tdw({module:"student_order_search",action:"exposure",obj1:"all"}),r.config({page:"ic_salesmanage_dealsearch"}),r.reportPageView()}()}}});
window.__loadJs&&window.__loadJs('/agency/index/dealSearch2/mod.main.f2622124.js?max_age=3153600',2);